(self.webpackChunkLABOIV_TP_Clinica=self.webpackChunkLABOIV_TP_Clinica||[]).push([[179],{2313:(Qt,Xe,k)=>{"use strict";k.d(Xe,{nm:()=>Yn});var p=k(4976),L=(k(4650),k(3692),k(259),k(5861)),te=k(6881),Oe=k(4859),Ae=k(2090),ve=k(1877);const he=new Map,se={activated:!1,tokenObservers:[]},_e={initialized:!1,enabled:!1};function Je(Fe){return he.get(Fe)||Object.assign({},se)}function _t(){return _e}const Vt="https://content-firebaseappcheck.googleapis.com/v1",mt="exchangeDebugToken",wt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class et{constructor(Re,Me,Et,Ot,xn){if(this.operation=Re,this.retryPolicy=Me,this.getWaitDuration=Et,this.lowerBound=Ot,this.upperBound=xn,this.pending=null,this.nextErrorWaitInterval=Ot,Ot>xn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Re){var Me=this;return(0,L.Z)(function*(){Me.stop();try{Me.pending=new Ae.BH,yield function tt(Fe){return new Promise(Re=>{setTimeout(Re,Fe)})}(Me.getNextRun(Re)),Me.pending.resolve(),yield Me.pending.promise,Me.pending=new Ae.BH,yield Me.operation(),Me.pending.resolve(),yield Me.pending.promise,Me.process(!0).catch(()=>{})}catch(Et){Me.retryPolicy(Et)?Me.process(!1).catch(()=>{}):Me.stop()}})()}getNextRun(Re){if(Re)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Me=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Me}}}const ct=new Ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Pt(Fe){if(!Je(Fe).activated)throw ct.create("use-before-activation",{appName:Fe.name})}function Lt(Fe,Re){return At.apply(this,arguments)}function At(){return(At=(0,L.Z)(function*({url:Fe,body:Re},Me){const Et={"Content-Type":"application/json"},Ot=Me.getImmediate({optional:!0});if(Ot){const di=yield Ot.getHeartbeatsHeader();di&&(Et["X-Firebase-Client"]=di)}const xn={method:"POST",body:JSON.stringify(Re),headers:Et};let $n,On;try{$n=yield fetch(Fe,xn)}catch(di){throw ct.create("fetch-network-error",{originalErrorMessage:di?.message})}if(200!==$n.status)throw ct.create("fetch-status-error",{httpStatus:$n.status});try{On=yield $n.json()}catch(di){throw ct.create("fetch-parse-error",{originalErrorMessage:di?.message})}const er=On.ttl.match(/^([\d.]+)(s)$/);if(!er||!er[2]||isNaN(Number(er[1])))throw ct.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${On.ttl}`});const vi=1e3*Number(er[1]),Hr=Date.now();return{token:On.token,expireTimeMillis:Hr+vi,issuedAtTimeMillis:Hr}})).apply(this,arguments)}function Ke(Fe,Re){const{projectId:Me,appId:Et,apiKey:Ot}=Fe.options;return{url:`${Vt}/projects/${Me}/apps/${Et}:${mt}?key=${Ot}`,body:{debug_token:Re}}}const je="firebase-app-check-database",Ze=1,ht="firebase-app-check-store";let ft=null;function Pn(Fe,Re){return kn.apply(this,arguments)}function kn(){return(kn=(0,L.Z)(function*(Fe,Re){const Et=(yield function Ft(){return ft||(ft=new Promise((Fe,Re)=>{try{const Me=indexedDB.open(je,Ze);Me.onsuccess=Et=>{Fe(Et.target.result)},Me.onerror=Et=>{var Ot;Re(ct.create("storage-open",{originalErrorMessage:null===(Ot=Et.target.error)||void 0===Ot?void 0:Ot.message}))},Me.onupgradeneeded=Et=>{0===Et.oldVersion&&Et.target.result.createObjectStore(ht,{keyPath:"compositeKey"})}}catch(Me){Re(ct.create("storage-open",{originalErrorMessage:Me?.message}))}}),ft)}()).transaction(ht,"readwrite"),xn=Et.objectStore(ht).put({compositeKey:Fe,value:Re});return new Promise(($n,On)=>{xn.onsuccess=er=>{$n()},Et.onerror=er=>{var vi;On(ct.create("storage-set",{originalErrorMessage:null===(vi=er.target.error)||void 0===vi?void 0:vi.message}))}})})).apply(this,arguments)}const zt=new ve.Yd("@firebase/app-check");function Se(Fe,Re){return(0,Ae.hl)()?function Ut(Fe,Re){return Pn(function rr(Fe){return`${Fe.options.appId}-${Fe.name}`}(Fe),Re)}(Fe,Re).catch(Me=>{zt.warn(`Failed to write token to IndexedDB. Error: ${Me}`)}):Promise.resolve()}function it(){return _t().enabled}function Mt(){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,L.Z)(function*(){const Fe=_t();if(Fe.enabled&&Fe.token)return Fe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const An={error:"UNKNOWN_ERROR"};function tn(Fe){return Ae.US.encodeString(JSON.stringify(Fe),!1)}function ln(Fe){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,L.Z)(function*(Fe,Re=!1){const Me=Fe.app;Pt(Me);const Et=Je(Me);let xn,Ot=Et.token;if(Ot&&!Un(Ot)&&(Et.token=void 0,Ot=void 0),!Ot){const er=yield Et.cachedTokenPromise;er&&(Un(er)?Ot=er:yield Se(Me,void 0))}if(!Re&&Ot&&Un(Ot))return{token:Ot.token};let On,$n=!1;if(it()){Et.exchangeTokenPromise||(Et.exchangeTokenPromise=Lt(Ke(Me,yield Mt()),Fe.heartbeatServiceProvider).finally(()=>{Et.exchangeTokenPromise=void 0}),$n=!0);const er=yield Et.exchangeTokenPromise;return yield Se(Me,er),Et.token=er,{token:er.token}}try{Et.exchangeTokenPromise||(Et.exchangeTokenPromise=Et.provider.getToken().finally(()=>{Et.exchangeTokenPromise=void 0}),$n=!0),Ot=yield Je(Me).exchangeTokenPromise}catch(er){"appCheck/throttled"===er.code?zt.warn(er.message):zt.error(er),xn=er}return Ot?xn?On=Un(Ot)?{token:Ot.token,internalError:xn}:ir(xn):(On={token:Ot.token},Et.token=Ot,yield Se(Me,Ot)):On=ir(xn),$n&&function Sr(Fe,Re){const Me=Je(Fe).tokenObservers;for(const Et of Me)try{"EXTERNAL"===Et.type&&null!=Re.error?Et.error(Re.error):Et.next(Re)}catch{}}(Me,On),On})).apply(this,arguments)}function an(Fe){return pr.apply(this,arguments)}function pr(){return(pr=(0,L.Z)(function*(Fe){const Re=Fe.app;Pt(Re);const{provider:Me}=Je(Re);if(it()){const Et=yield Mt(),{token:Ot}=yield Lt(Ke(Re,Et),Fe.heartbeatServiceProvider);return{token:Ot}}{const{token:Et}=yield Me.getToken();return{token:Et}}})).apply(this,arguments)}function or(Fe,Re){const Me=Je(Fe),Et=Me.tokenObservers.filter(Ot=>Ot.next!==Re);0===Et.length&&Me.tokenRefresher&&Me.tokenRefresher.isRunning()&&Me.tokenRefresher.stop(),Me.tokenObservers=Et}function Qn(Fe){const{app:Re}=Fe,Me=Je(Re);let Et=Me.tokenRefresher;Et||(Et=function Wn(Fe){const{app:Re}=Fe;return new et((0,L.Z)(function*(){let Et;if(Et=Je(Re).token?yield ln(Fe,!0):yield ln(Fe),Et.error)throw Et.error;if(Et.internalError)throw Et.internalError}),()=>!0,()=>{const Me=Je(Re);if(Me.token){let Et=Me.token.issuedAtTimeMillis+.5*(Me.token.expireTimeMillis-Me.token.issuedAtTimeMillis)+3e5;return Et=Math.min(Et,Me.token.expireTimeMillis-3e5),Math.max(0,Et-Date.now())}return 0},wt.RETRIAL_MIN_WAIT,wt.RETRIAL_MAX_WAIT)}(Fe),Me.tokenRefresher=Et),!Et.isRunning()&&Me.isTokenAutoRefreshEnabled&&Et.start()}function Un(Fe){return Fe.expireTimeMillis-Date.now()>0}function ir(Fe){return{token:tn(An),error:Fe}}class Sn{constructor(Re,Me){this.app=Re,this.heartbeatServiceProvider=Me}_delete(){const{tokenObservers:Re}=Je(this.app);for(const Me of Re)or(this.app,Me.next);return Promise.resolve()}}const gn="app-check-internal";!function vn(){(0,te._registerComponent)(new Oe.wA("app-check",Fe=>function bn(Fe,Re){return new Sn(Fe,Re)}(Fe.getProvider("app").getImmediate(),Fe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Fe,Re,Me)=>{Fe.getProvider(gn).initialize()})),(0,te._registerComponent)(new Oe.wA(gn,Fe=>function Wt(Fe){return{getToken:Re=>ln(Fe,Re),getLimitedUseToken:()=>an(Fe),addTokenListener:Re=>function Xn(Fe,Re,Me,Et){const{app:Ot}=Fe,xn=Je(Ot);if(xn.tokenObservers=[...xn.tokenObservers,{next:Me,error:Et,type:Re}],xn.token&&Un(xn.token)){const On=xn.token;Promise.resolve().then(()=>{Me({token:On.token}),Qn(Fe)}).catch(()=>{})}xn.cachedTokenPromise.then(()=>Qn(Fe))}(Fe,"INTERNAL",Re),removeTokenListener:Re=>or(Fe.app,Re)}}(Fe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)("@firebase/app-check","0.8.0")}();class Yn{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Ot:()=>Ie,hX:()=>Je,z6:()=>L});var p=k(259),W=k(4650),V=k(4976);class Ie{constructor(et){return et}}class L{constructor(){return(0,p.C6)()}}const Ae=new W.OlP("angularfire2._apps"),ve={provide:Ie,useFactory:function Oe(Qe){return Qe&&1===Qe.length?Qe[0]:new Ie((0,p.Mq)())},deps:[[new W.FiY,Ae]]},he={provide:L,deps:[[new W.FiY,Ae]]};function se(Qe){return(et,tt)=>{const Tt=et.runOutsideAngular(()=>Qe(tt));return new Ie(Tt)}}let _e=(()=>{class Qe{constructor(tt){(0,p.KN)("angularfire",V.q4.full,"core"),(0,p.KN)("angularfire",V.q4.full,"app"),(0,p.KN)("angular",W.q4F.full,tt.toString())}}return Qe.\u0275fac=function(tt){return new(tt||Qe)(W.LFG(W.Lbi))},Qe.\u0275mod=W.oAB({type:Qe}),Qe.\u0275inj=W.cJS({providers:[ve,he]}),Qe})();function Je(Qe,...et){return{ngModule:_e,providers:[{provide:Ae,useFactory:se(Qe),multi:!0,deps:[W.R0b,W.zs3,V.HU,...et]}]}}},7158:(Qt,Xe,k)=>{"use strict";k.d(Xe,{AR:()=>ot,dh:()=>ve});var p=k(4976),W=k(4650),V=k(3692),Ie=k(259),L=k(2313);k(4322);class Ae{constructor(Sn){return Sn}}class ve{constructor(){return(0,p.vb)("auth")}}const se=new W.OlP("angularfire2.auth-instances");function Je(ir){return(Sn,bn)=>{const Wt=Sn.runOutsideAngular(()=>ir(bn));return new Ae(Wt)}}const st={provide:ve,deps:[[new W.FiY,se]]},_t={provide:Ae,useFactory:function _e(ir,Sn){const bn=(0,p.JM)("auth",ir,Sn);return bn&&new Ae(bn)},deps:[[new W.FiY,se],V.Ot]};let Vt=(()=>{class ir{constructor(){(0,Ie.KN)("angularfire",p.q4.full,"auth")}}return ir.\u0275fac=function(bn){return new(bn||ir)},ir.\u0275mod=W.oAB({type:ir}),ir.\u0275inj=W.cJS({providers:[_t,st]}),ir})();function ot(ir,...Sn){return{ngModule:Vt,providers:[{provide:se,useFactory:Je(ir),multi:!0,deps:[W.R0b,W.zs3,p.HU,V.z6,[new W.FiY,L.nm],...Sn]}]}}},1205:(Qt,Xe,k)=>{"use strict";k.d(Xe,{zQ:()=>nr,rT:()=>on,f7:()=>Lt,L6:()=>Ue,_Q:()=>Pt,lh:()=>kt,Qv:()=>ct,nw:()=>At});var p=k(4650),W=k(7579),V=k(9646),Ie=k(9751),L=k(8996),te=k(6451),Oe=k(5363),Ae=k(3900),ve=k(4004),he=k(6063);class se extends W.x{constructor(je=1/0,Ze=1/0,ht=he.l){super(),this._bufferSize=je,this._windowTime=Ze,this._timestampProvider=ht,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ze===1/0,this._bufferSize=Math.max(1,je),this._windowTime=Math.max(1,Ze)}next(je){const{isStopped:Ze,_buffer:ht,_infiniteTimeWindow:ze,_timestampProvider:ft,_windowTime:Ft}=this;Ze||(ht.push(je),!ze&&ht.push(ft.now()+Ft)),this._trimBuffer(),super.next(je)}_subscribe(je){this._throwIfClosed(),this._trimBuffer();const Ze=this._innerSubscribe(je),{_infiniteTimeWindow:ht,_buffer:ze}=this,ft=ze.slice();for(let Ft=0;Ft<ft.length&&!je.closed;Ft+=ht?1:2)je.next(ft[Ft]);return this._checkFinalizedStatuses(je),Ze}_trimBuffer(){const{_bufferSize:je,_timestampProvider:Ze,_buffer:ht,_infiniteTimeWindow:ze}=this,ft=(ze?1:2)*je;if(je<1/0&&ft<ht.length&&ht.splice(0,ht.length-ft),!ze){const Ft=Ze.now();let Ln=0;for(let Ut=1;Ut<ht.length&&ht[Ut]<=Ft;Ut+=2)Ln=Ut;Ln&&ht.splice(0,Ln+1)}}}var _e=k(3099);function Je(Ke,je,Ze){let ht,ze=!1;return Ke&&"object"==typeof Ke?({bufferSize:ht=1/0,windowTime:je=1/0,refCount:ze=!1,scheduler:Ze}=Ke):ht=Ke??1/0,(0,_e.B)({connector:()=>new se(ht,je,Ze),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ze})}var st=k(590),_t=k(576);function Vt(Ke,je){return(0,_t.m)(je)?(0,Ae.w)(()=>Ke,je):(0,Ae.w)(()=>Ke)}var ot=k(9468),It=k(9300),mt=k(4976),wt=k(2011),Qe=k(6895),et=k(2313);k(9260);const ct=new p.OlP("angularfire2.auth.use-emulator"),Ue=new p.OlP("angularfire2.auth.settings"),Pt=new p.OlP("angularfire2.auth.tenant-id"),on=new p.OlP("angularfire2.auth.langugage-code"),kt=new p.OlP("angularfire2.auth.use-device-language"),Lt=new p.OlP("angularfire.auth.persistence"),At=(Ke,je,Ze,ht,ze,ft,Ft,Ln)=>(0,wt.cc)(`${Ke.name}.auth`,"AngularFireAuth",Ke.name,()=>{const Ut=je.runOutsideAngular(()=>Ke.auth());if(Ze&&Ut.useEmulator(...Ze),ht&&(Ut.tenantId=ht),Ut.languageCode=ze,ft&&Ut.useDeviceLanguage(),Ft)for(const[$t,_n]of Object.entries(Ft))Ut.settings[$t]=_n;return Ln&&Ut.setPersistence(Ln),Ut},[Ze,ht,ze,ft,Ft,Ln]);let nr=(()=>{class Ke{constructor(Ze,ht,ze,ft,Ft,Ln,Ut,$t,_n,Pn,kn,Ir){const Vn=new W.x,rr=(0,V.of)(void 0).pipe((0,Oe.Q)(Ft.outsideAngular),(0,Ae.w)(()=>ft.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9568)))),(0,ve.U)(()=>(0,wt.on)(Ze,ft,ht)),(0,ve.U)(zt=>At(zt,ft,Ln,$t,_n,Pn,Ut,kn)),Je({bufferSize:1,refCount:!1}));if((0,Qe.PM)(ze))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,V.of)(null);else{rr.pipe((0,st.P)()).subscribe();const yr=rr.pipe((0,Ae.w)(Ne=>Ne.getRedirectResult().then(Pe=>Pe,()=>null)),mt.iC,Je({bufferSize:1,refCount:!1})),De=rr.pipe((0,Ae.w)(Ne=>new Ie.y(Pe=>({unsubscribe:ft.runOutsideAngular(()=>Ne.onAuthStateChanged(it=>Pe.next(it),it=>Pe.error(it),()=>Pe.complete()))})))),Se=rr.pipe((0,Ae.w)(Ne=>new Ie.y(Pe=>({unsubscribe:ft.runOutsideAngular(()=>Ne.onIdTokenChanged(it=>Pe.next(it),it=>Pe.error(it),()=>Pe.complete()))}))));this.authState=yr.pipe(Vt(De),(0,ot.R)(Ft.outsideAngular),(0,Oe.Q)(Ft.insideAngular)),this.user=yr.pipe(Vt(Se),(0,ot.R)(Ft.outsideAngular),(0,Oe.Q)(Ft.insideAngular)),this.idToken=this.user.pipe((0,Ae.w)(Ne=>Ne?(0,L.D)(Ne.getIdToken()):(0,V.of)(null))),this.idTokenResult=this.user.pipe((0,Ae.w)(Ne=>Ne?(0,L.D)(Ne.getIdTokenResult()):(0,V.of)(null))),this.credential=(0,te.T)(yr,Vn,this.authState.pipe((0,It.h)(Ne=>!Ne))).pipe((0,ve.U)(Ne=>Ne?.user?Ne:null),(0,ot.R)(Ft.outsideAngular),(0,Oe.Q)(Ft.insideAngular))}return(0,wt.pX)(this,rr,ft,{spy:{apply:(zt,yr,De)=>{(zt.startsWith("signIn")||zt.startsWith("createUser"))&&De.then(Se=>Vn.next(Se))}}})}}return Ke.\u0275fac=function(Ze){return new(Ze||Ke)(p.LFG(wt.Dh),p.LFG(wt.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(mt.HU),p.LFG(ct,8),p.LFG(Ue,8),p.LFG(Pt,8),p.LFG(on,8),p.LFG(kt,8),p.LFG(Lt,8),p.LFG(et.nm,8))},Ke.\u0275prov=p.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"any"}),Ke})()},2011:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Dh:()=>Ae,GT:()=>te,cc:()=>st,hO:()=>Je,on:()=>he,pX:()=>L,xv:()=>ve});var p=k(4650),W=k(9260),V=k(4976);Qt=k.hmd(Qt);const Ie=["ngOnDestroy"],L=(It,mt,wt,Qe={})=>new Proxy(It,{get:(et,tt)=>wt.runOutsideAngular(()=>{var Tt;if(It[tt])return!(null===(Tt=Qe?.spy)||void 0===Tt)&&Tt.get&&Qe.spy.get(tt,It[tt]),It[tt];if(Ie.indexOf(tt)>-1)return()=>{};const ct=mt.toPromise().then(Ue=>{const Pt=Ue&&Ue[tt];return"function"==typeof Pt?Pt.bind(Ue):Pt&&Pt.then?Pt.then(on=>wt.run(()=>on)):wt.run(()=>Pt)});return new Proxy(()=>{},{get:(Ue,Pt)=>ct[Pt],apply:(Ue,Pt,on)=>ct.then(kt=>{var Lt;const At=kt&&kt(...on);return!(null===(Lt=Qe?.spy)||void 0===Lt)&&Lt.apply&&Qe.spy.apply(tt,on,At),At})})})}),te=(It,mt)=>{mt.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(Qe=>{Object.defineProperty(It.prototype,Qe,Object.getOwnPropertyDescriptor(wt.prototype||wt,Qe))})})};class Oe{constructor(mt){return mt}}const Ae=new p.OlP("angularfire2.app.options"),ve=new p.OlP("angularfire2.app.name");function he(It,mt,wt){const et="object"==typeof wt&&wt||{};et.name=et.name||"string"==typeof wt&&wt||"[DEFAULT]";const Tt=W.Z.apps.filter(ct=>ct&&ct.name===et.name)[0]||mt.runOutsideAngular(()=>W.Z.initializeApp(It,et));try{JSON.stringify(It)!==JSON.stringify(Tt.options)&&se("error",`${Tt.name} Firebase App already initialized with different options${Qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Oe(Tt)}const se=(It,...mt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[It](...mt)},_e={provide:Oe,useFactory:he,deps:[Ae,p.R0b,[new p.FiY,ve]]};let Je=(()=>{class It{constructor(wt){W.Z.registerVersion("angularfire",V.q4.full,"core"),W.Z.registerVersion("angularfire",V.q4.full,"app-compat"),W.Z.registerVersion("angular",p.q4F.full,wt.toString())}static initializeApp(wt,Qe){return{ngModule:It,providers:[{provide:Ae,useValue:wt},{provide:ve,useValue:Qe}]}}}return It.\u0275fac=function(wt){return new(wt||It)(p.LFG(p.Lbi))},It.\u0275mod=p.oAB({type:It}),It.\u0275inj=p.cJS({providers:[_e]}),It})();function st(It,mt,wt,Qe,et){const[,tt,Tt]=globalThis.\u0275AngularfireInstanceCache.find(ct=>ct[0]===It)||[];if(tt)return function _t(It,mt){try{return It.toString()===mt.toString()}catch{return It===mt}}(et,Tt)||(ot("error",`${mt} was already initialized on the ${wt} Firebase App with different settings.${Vt?" You may need to reload as Firebase is not HMR aware.":""}`),ot("warn",{is:et,was:Tt})),tt;{const ct=Qe();return globalThis.\u0275AngularfireInstanceCache.push([It,ct,et]),ct}}const Vt=!!Qt.hot,ot=(It,...mt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[It](...mt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6591:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Jt:()=>ct,KV:()=>He,Ke:()=>Ae,Vq:()=>It,aF:()=>Lt,iH:()=>At});var p=k(4976),W=k(4650),V=k(3692),Ie=k(7158),L=k(259),te=k(2313),Oe=k(1620);class Ae{constructor(ht){return ht}}const ve="storage",_e=new W.OlP("angularfire2.storage-instances");function st(Ze){return(ht,ze)=>{const ft=ht.runOutsideAngular(()=>Ze(ze));return new Ae(ft)}}const _t={provide:class he{constructor(){return(0,p.vb)(ve)}},deps:[[new W.FiY,_e]]},Vt={provide:Ae,useFactory:function Je(Ze,ht){const ze=(0,p.JM)(ve,Ze,ht);return ze&&new Ae(ze)},deps:[[new W.FiY,_e],V.Ot]};let ot=(()=>{class Ze{constructor(){(0,L.KN)("angularfire",p.q4.full,"gcs")}}return Ze.\u0275fac=function(ze){return new(ze||Ze)},Ze.\u0275mod=W.oAB({type:Ze}),Ze.\u0275inj=W.cJS({providers:[Vt,_t]}),Ze})();function It(Ze,...ht){return{ngModule:ot,providers:[{provide:_e,useFactory:st(Ze),multi:!0,deps:[W.R0b,W.zs3,p.HU,V.z6,[new W.FiY,Ie.dh],[new W.FiY,te.nm],...ht]}]}}const ct=(0,p.u3)(Oe.Jt,!0),Lt=(0,p.u3)(Oe.aF,!0),At=(0,p.u3)(Oe.iH,!0),He=(0,p.u3)(Oe.KV,!0)},4976:(Qt,Xe,k)=>{"use strict";k.d(Xe,{q4:()=>Ga,iC:()=>ql,fc:()=>yl,HU:()=>qu,vb:()=>Wl,JM:()=>Ta,u3:()=>vl});var p=k(4650),W=k(259),V=k(5861),Ie=k(6881),L=k(2090),te=k(4859),Oe=k(1877);const Ae=(b,M)=>M.some(G=>b instanceof G);let ve,he;const Je=new WeakMap,st=new WeakMap,_t=new WeakMap,Vt=new WeakMap,ot=new WeakMap;let wt={get(b,M,G){if(b instanceof IDBTransaction){if("done"===M)return st.get(b);if("objectStoreNames"===M)return b.objectStoreNames||_t.get(b);if("store"===M)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Tt(b[M])},set:(b,M,G)=>(b[M]=G,!0),has:(b,M)=>b instanceof IDBTransaction&&("done"===M||"store"===M)||M in b};function tt(b){return"function"==typeof b?function et(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...M){return b.apply(ct(this),M),Tt(Je.get(this))}:function(...M){return Tt(b.apply(ct(this),M))}:function(M,...G){const de=b.call(ct(this),M,...G);return _t.set(de,M.sort?M.sort():[M]),Tt(de)}}(b):(b instanceof IDBTransaction&&function mt(b){if(st.has(b))return;const M=new Promise((G,de)=>{const we=()=>{b.removeEventListener("complete",Te),b.removeEventListener("error",yt),b.removeEventListener("abort",yt)},Te=()=>{G(),we()},yt=()=>{de(b.error||new DOMException("AbortError","AbortError")),we()};b.addEventListener("complete",Te),b.addEventListener("error",yt),b.addEventListener("abort",yt)});st.set(b,M)}(b),Ae(b,function se(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,wt):b)}function Tt(b){if(b instanceof IDBRequest)return function It(b){const M=new Promise((G,de)=>{const we=()=>{b.removeEventListener("success",Te),b.removeEventListener("error",yt)},Te=()=>{G(Tt(b.result)),we()},yt=()=>{de(b.error),we()};b.addEventListener("success",Te),b.addEventListener("error",yt)});return M.then(G=>{G instanceof IDBCursor&&Je.set(G,b)}).catch(()=>{}),ot.set(M,b),M}(b);if(Vt.has(b))return Vt.get(b);const M=tt(b);return M!==b&&(Vt.set(b,M),ot.set(M,b)),M}const ct=b=>ot.get(b),on=["get","getKey","getAll","getAllKeys","count"],kt=["put","add","delete","clear"],Lt=new Map;function At(b,M){if(!(b instanceof IDBDatabase)||M in b||"string"!=typeof M)return;if(Lt.get(M))return Lt.get(M);const G=M.replace(/FromIndex$/,""),de=M!==G,we=kt.includes(G);if(!(G in(de?IDBIndex:IDBObjectStore).prototype)||!we&&!on.includes(G))return;const Te=function(){var yt=(0,V.Z)(function*(hn,...rn){const jn=this.transaction(hn,we?"readwrite":"readonly");let dr=jn.store;return de&&(dr=dr.index(rn.shift())),(yield Promise.all([dr[G](...rn),we&&jn.done]))[0]});return function(rn){return yt.apply(this,arguments)}}();return Lt.set(M,Te),Te}!function Qe(b){wt=b(wt)}(b=>({...b,get:(M,G,de)=>At(M,G)||b.get(M,G,de),has:(M,G)=>!!At(M,G)||b.has(M,G)}));const nr="@firebase/installations",He="0.6.4",Ke=1e4,je=`w:${He}`,Ze="FIS_v2",ht="https://firebaseinstallations.googleapis.com/v1",ze=36e5,Ut=new L.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $t(b){return b instanceof L.ZR&&b.code.includes("request-failed")}function _n({projectId:b}){return`${ht}/projects/${b}/installations`}function Pn(b){return{token:b.token,requestStatus:2,expiresIn:De(b.expiresIn),creationTime:Date.now()}}function kn(b,M){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,V.Z)(function*(b,M){const de=(yield M.json()).error;return Ut.create("request-failed",{requestName:b,serverCode:de.code,serverMessage:de.message,serverStatus:de.status})})).apply(this,arguments)}function Vn({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function zt(b){return yr.apply(this,arguments)}function yr(){return(yr=(0,V.Z)(function*(b){const M=yield b();return M.status>=500&&M.status<600?b():M})).apply(this,arguments)}function De(b){return Number(b.replace("s","000"))}function Pe(){return(Pe=(0,V.Z)(function*({appConfig:b,heartbeatServiceProvider:M},{fid:G}){const de=_n(b),we=Vn(b),Te=M.getImmediate({optional:!0});if(Te){const jn=yield Te.getHeartbeatsHeader();jn&&we.append("x-firebase-client",jn)}const hn={method:"POST",headers:we,body:JSON.stringify({fid:G,authVersion:Ze,appId:b.appId,sdkVersion:je})},rn=yield zt(()=>fetch(de,hn));if(rn.ok){const jn=yield rn.json();return{fid:jn.fid||G,registrationStatus:2,refreshToken:jn.refreshToken,authToken:Pn(jn.authToken)}}throw yield kn("Create Installation",rn)})).apply(this,arguments)}function it(b){return new Promise(M=>{setTimeout(M,b)})}const Gn=/^[cdef][\w-]{21}$/,yn="";function An(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const G=function tn(b){return function Mt(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Gn.test(G)?G:yn}catch{return yn}}function ln(b){return`${b.appName}!${b.appId}`}const Gt=new Map;function an(b,M){const G=ln(b);or(G,M),function Qn(b,M){const G=function Sr(){return!Wn&&"BroadcastChannel"in self&&(Wn=new BroadcastChannel("[Firebase] FID Change"),Wn.onmessage=b=>{or(b.data.key,b.data.fid)}),Wn}();G&&G.postMessage({key:b,fid:M}),function Un(){0===Gt.size&&Wn&&(Wn.close(),Wn=null)}()}(G,M)}function or(b,M){const G=Gt.get(b);if(G)for(const de of G)de(M)}let Wn=null;const ir="firebase-installations-database",Sn=1,bn="firebase-installations-store";let Wt=null;function Zn(){return Wt||(Wt=function Ue(b,M,{blocked:G,upgrade:de,blocking:we,terminated:Te}={}){const yt=indexedDB.open(b,M),hn=Tt(yt);return de&&yt.addEventListener("upgradeneeded",rn=>{de(Tt(yt.result),rn.oldVersion,rn.newVersion,Tt(yt.transaction))}),G&&yt.addEventListener("blocked",()=>G()),hn.then(rn=>{Te&&rn.addEventListener("close",()=>Te()),we&&rn.addEventListener("versionchange",()=>we())}).catch(()=>{}),hn}(ir,Sn,{upgrade:(b,M)=>{0===M&&b.createObjectStore(bn)}})),Wt}function gr(b,M){return $e.apply(this,arguments)}function $e(){return($e=(0,V.Z)(function*(b,M){const G=ln(b),we=(yield Zn()).transaction(bn,"readwrite"),Te=we.objectStore(bn),yt=yield Te.get(G);return yield Te.put(M,G),yield we.done,(!yt||yt.fid!==M.fid)&&an(b,M.fid),M})).apply(this,arguments)}function dt(b){return We.apply(this,arguments)}function We(){return(We=(0,V.Z)(function*(b){const M=ln(b),de=(yield Zn()).transaction(bn,"readwrite");yield de.objectStore(bn).delete(M),yield de.done})).apply(this,arguments)}function jt(b,M){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,V.Z)(function*(b,M){const G=ln(b),we=(yield Zn()).transaction(bn,"readwrite"),Te=we.objectStore(bn),yt=yield Te.get(G),hn=M(yt);return void 0===hn?yield Te.delete(G):yield Te.put(hn,G),yield we.done,hn&&(!yt||yt.fid!==hn.fid)&&an(b,hn.fid),hn})).apply(this,arguments)}function pe(b){return ce.apply(this,arguments)}function ce(){return ce=(0,V.Z)(function*(b){let M;const G=yield jt(b.appConfig,de=>{const we=function J(b){return xe(b||{fid:An(),registrationStatus:0})}(de),Te=function ie(b,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(Ut.create("app-offline"))};const G={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},de=function Z(b,M){return be.apply(this,arguments)}(b,G);return{installationEntry:G,registrationPromise:de}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:le(b)}:{installationEntry:M}}(b,we);return M=Te.registrationPromise,Te.installationEntry});return G.fid===yn?{installationEntry:yield M}:{installationEntry:G,registrationPromise:M}}),ce.apply(this,arguments)}function be(){return be=(0,V.Z)(function*(b,M){try{const G=yield function Ne(b,M){return Pe.apply(this,arguments)}(b,M);return gr(b.appConfig,G)}catch(G){throw $t(G)&&409===G.customData.serverCode?yield dt(b.appConfig):yield gr(b.appConfig,{fid:M.fid,registrationStatus:0}),G}}),be.apply(this,arguments)}function le(b){return fe.apply(this,arguments)}function fe(){return(fe=(0,V.Z)(function*(b){let M=yield ae(b.appConfig);for(;1===M.registrationStatus;)yield it(100),M=yield ae(b.appConfig);if(0===M.registrationStatus){const{installationEntry:G,registrationPromise:de}=yield pe(b);return de||G}return M})).apply(this,arguments)}function ae(b){return jt(b,M=>{if(!M)throw Ut.create("installation-not-found");return xe(M)})}function xe(b){return function nt(b){return 1===b.registrationStatus&&b.registrationTime+Ke<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function fn(){return(fn=(0,V.Z)(function*({appConfig:b,heartbeatServiceProvider:M},G){const de=function pn(b,{fid:M}){return`${_n(b)}/${M}/authTokens:generate`}(b,G),we=function rr(b,{refreshToken:M}){const G=Vn(b);return G.append("Authorization",function Se(b){return`${Ze} ${b}`}(M)),G}(b,G),Te=M.getImmediate({optional:!0});if(Te){const jn=yield Te.getHeartbeatsHeader();jn&&we.append("x-firebase-client",jn)}const hn={method:"POST",headers:we,body:JSON.stringify({installation:{sdkVersion:je,appId:b.appId}})},rn=yield zt(()=>fetch(de,hn));if(rn.ok)return Pn(yield rn.json());throw yield kn("Generate Auth Token",rn)})).apply(this,arguments)}function ar(b){return vr.apply(this,arguments)}function vr(){return vr=(0,V.Z)(function*(b,M=!1){let G;const de=yield jt(b.appConfig,Te=>{if(!Kn(Te))throw Ut.create("not-registered");const yt=Te.authToken;if(!M&&function Cn(b){return 2===b.requestStatus&&!function Yn(b){const M=Date.now();return M<b.creationTime||b.creationTime+b.expiresIn<M+ze}(b)}(yt))return Te;if(1===yt.requestStatus)return G=function pt(b,M){return qe.apply(this,arguments)}(b,M),Te;{if(!navigator.onLine)throw Ut.create("app-offline");const hn=function ur(b){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:M})}(Te);return G=function gn(b,M){return vn.apply(this,arguments)}(b,hn),hn}});return G?yield G:de.authToken}),vr.apply(this,arguments)}function qe(){return(qe=(0,V.Z)(function*(b,M){let G=yield Rt(b.appConfig);for(;1===G.authToken.requestStatus;)yield it(100),G=yield Rt(b.appConfig);const de=G.authToken;return 0===de.requestStatus?ar(b,M):de})).apply(this,arguments)}function Rt(b){return jt(b,M=>{if(!Kn(M))throw Ut.create("not-registered");return function Kr(b){return 1===b.requestStatus&&b.requestTime+Ke<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function vn(){return vn=(0,V.Z)(function*(b,M){try{const G=yield function Dt(b,M){return fn.apply(this,arguments)}(b,M),de=Object.assign(Object.assign({},M),{authToken:G});return yield gr(b.appConfig,de),G}catch(G){if(!$t(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const de=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield gr(b.appConfig,de)}else yield dt(b.appConfig);throw G}}),vn.apply(this,arguments)}function Kn(b){return void 0!==b&&2===b.registrationStatus}function $i(){return($i=(0,V.Z)(function*(b){const M=b,{installationEntry:G,registrationPromise:de}=yield pe(M);return de?de.catch(console.error):ar(M).catch(console.error),G.fid})).apply(this,arguments)}function jr(){return jr=(0,V.Z)(function*(b,M=!1){const G=b;return yield function ai(b){return Zt.apply(this,arguments)}(G),(yield ar(G,M)).token}),jr.apply(this,arguments)}function Zt(){return(Zt=(0,V.Z)(function*(b){const{registrationPromise:M}=yield pe(b);M&&(yield M)})).apply(this,arguments)}function Re(b){return Ut.create("missing-app-config-values",{valueName:b})}const Me="installations",Ot=b=>{const M=b.getProvider("app").getImmediate(),G=function Fe(b){if(!b||!b.options)throw Re("App Configuration");if(!b.name)throw Re("App Name");const M=["projectId","apiKey","appId"];for(const G of M)if(!b.options[G])throw Re(G);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(M);return{app:M,appConfig:G,heartbeatServiceProvider:(0,Ie._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},xn=b=>{const M=b.getProvider("app").getImmediate(),G=(0,Ie._getProvider)(M,Me).getImmediate();return{getId:()=>function Zr(b){return $i.apply(this,arguments)}(G),getToken:we=>function ti(b){return jr.apply(this,arguments)}(G,we)}};(function $n(){(0,Ie._registerComponent)(new te.wA(Me,Ot,"PUBLIC")),(0,Ie._registerComponent)(new te.wA("installations-internal",xn,"PRIVATE"))})(),(0,Ie.registerVersion)(nr,He),(0,Ie.registerVersion)(nr,He,"esm2017");const On="@firebase/remote-config",Ai=new L.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ki{constructor(M,G,de,we){this.client=M,this.storage=G,this.storageCache=de,this.logger=we}isCachedDataFresh(M,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const de=Date.now()-G,we=de<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${de}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${we}.`),we}fetch(M){var G=this;return(0,V.Z)(function*(){const[de,we]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(we&&G.isCachedDataFresh(M.cacheMaxAgeMillis,de))return we;M.eTag=we&&we.eTag;const Te=yield G.client.fetch(M),yt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Te.status&&yt.push(G.storage.setLastSuccessfulFetchResponse(Te)),yield Promise.all(yt),Te})()}}function As(b=navigator){return b.languages&&b.languages[0]||b.language}class ss{constructor(M,G,de,we,Te,yt){this.firebaseInstallations=M,this.sdkVersion=G,this.namespace=de,this.projectId=we,this.apiKey=Te,this.appId=yt}fetch(M){var G=this;return(0,V.Z)(function*(){const[de,we]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),yt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,hn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},rn={sdk_version:G.sdkVersion,app_instance_id:de,app_instance_id_token:we,app_id:G.appId,language_code:As()},jn={method:"POST",headers:hn,body:JSON.stringify(rn)},dr=fetch(yt,jn),hr=new Promise((_o,zo)=>{M.signal.addEventListener(()=>{const Zl=new Error("The operation was aborted.");Zl.name="AbortError",zo(Zl)})});let to;try{yield Promise.race([dr,hr]),to=yield dr}catch(_o){let zo="fetch-client-network";throw"AbortError"===_o?.name&&(zo="fetch-timeout"),Ai.create(zo,{originalErrorMessage:_o?.message})}let Os=to.status;const hu=to.headers.get("ETag")||void 0;let Kl,Mu;if(200===to.status){let _o;try{_o=yield to.json()}catch(zo){throw Ai.create("fetch-client-parse",{originalErrorMessage:zo?.message})}Kl=_o.entries,Mu=_o.state}if("INSTANCE_STATE_UNSPECIFIED"===Mu?Os=500:"NO_CHANGE"===Mu?Os=304:("NO_TEMPLATE"===Mu||"EMPTY_CONFIG"===Mu)&&(Kl={}),304!==Os&&200!==Os)throw Ai.create("fetch-status",{httpStatus:Os});return{status:Os,eTag:hu,config:Kl}})()}}class Fs{constructor(M,G){this.client=M,this.storage=G}fetch(M){var G=this;return(0,V.Z)(function*(){const de=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(M,de)})()}attemptFetch(M,{throttleEndTimeMillis:G,backoffCount:de}){var we=this;return(0,V.Z)(function*(){yield function bo(b,M){return new Promise((G,de)=>{const we=Math.max(M-Date.now(),0),Te=setTimeout(G,we);b.addEventListener(()=>{clearTimeout(Te),de(Ai.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,G);try{const Te=yield we.client.fetch(M);return yield we.storage.deleteThrottleMetadata(),Te}catch(Te){if(!function Ro(b){if(!(b instanceof L.ZR&&b.customData))return!1;const M=Number(b.customData.httpStatus);return 429===M||500===M||503===M||504===M}(Te))throw Te;const yt={throttleEndTimeMillis:Date.now()+(0,L.$s)(de),backoffCount:de+1};return yield we.storage.setThrottleMetadata(yt),we.attemptFetch(M,yt)}})()}}class es{constructor(M,G,de,we,Te){this.app=M,this._client=G,this._storageCache=de,this._storage=we,this._logger=Te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function os(b,M){const G=b.target.error||void 0;return Ai.create(M,{originalErrorMessage:G&&G?.message})}const Ss="app_namespace_store";class q{constructor(M,G,de,we=function K(){return new Promise((b,M)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=de=>{M(os(de,"storage-open"))},G.onsuccess=de=>{b(de.target.result)},G.onupgradeneeded=de=>{0===de.oldVersion&&de.target.result.createObjectStore(Ss,{keyPath:"compositeKey"})}}catch(G){M(Ai.create("storage-open",{originalErrorMessage:G?.message}))}})}()){this.appId=M,this.appName=G,this.namespace=de,this.openDbPromise=we}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var G=this;return(0,V.Z)(function*(){const de=yield G.openDbPromise;return new Promise((we,Te)=>{const hn=de.transaction([Ss],"readonly").objectStore(Ss),rn=G.createCompositeKey(M);try{const jn=hn.get(rn);jn.onerror=dr=>{Te(os(dr,"storage-get"))},jn.onsuccess=dr=>{const hr=dr.target.result;we(hr?hr.value:void 0)}}catch(jn){Te(Ai.create("storage-get",{originalErrorMessage:jn?.message}))}})})()}set(M,G){var de=this;return(0,V.Z)(function*(){const we=yield de.openDbPromise;return new Promise((Te,yt)=>{const rn=we.transaction([Ss],"readwrite").objectStore(Ss),jn=de.createCompositeKey(M);try{const dr=rn.put({compositeKey:jn,value:G});dr.onerror=hr=>{yt(os(hr,"storage-set"))},dr.onsuccess=()=>{Te()}}catch(dr){yt(Ai.create("storage-set",{originalErrorMessage:dr?.message}))}})})()}delete(M){var G=this;return(0,V.Z)(function*(){const de=yield G.openDbPromise;return new Promise((we,Te)=>{const hn=de.transaction([Ss],"readwrite").objectStore(Ss),rn=G.createCompositeKey(M);try{const jn=hn.delete(rn);jn.onerror=dr=>{Te(os(dr,"storage-delete"))},jn.onsuccess=()=>{we()}}catch(jn){Te(Ai.create("storage-delete",{originalErrorMessage:jn?.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class ge{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,V.Z)(function*(){const G=M.storage.getLastFetchStatus(),de=M.storage.getLastSuccessfulFetchTimestampMillis(),we=M.storage.getActiveConfig(),Te=yield G;Te&&(M.lastFetchStatus=Te);const yt=yield de;yt&&(M.lastSuccessfulFetchTimestampMillis=yt);const hn=yield we;hn&&(M.activeConfig=hn)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Bt(){return wn.apply(this,arguments)}function wn(){return(wn=(0,V.Z)(function*(){if(!(0,L.hl)())return!1;try{return yield(0,L.eu)()}catch{return!1}})).apply(this,arguments)}!function Ce(){(0,Ie._registerComponent)(new te.wA("remote-config",function b(M,{instanceIdentifier:G}){const de=M.getProvider("app").getImmediate(),we=M.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ai.create("registration-window");if(!(0,L.hl)())throw Ai.create("indexed-db-unavailable");const{projectId:Te,apiKey:yt,appId:hn}=de.options;if(!Te)throw Ai.create("registration-project-id");if(!yt)throw Ai.create("registration-api-key");if(!hn)throw Ai.create("registration-app-id");const rn=new q(hn,de.name,G=G||"firebase"),jn=new ge(rn),dr=new Oe.Yd(On);dr.logLevel=Oe.in.ERROR;const hr=new ss(we,Ie.SDK_VERSION,G,Te,yt,hn),to=new Fs(hr,rn),Os=new Ki(to,rn,jn,dr),hu=new es(de,Os,jn,rn,dr);return function wi(b){const M=(0,L.m9)(b);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(hu),hu},"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(On,"0.4.4"),(0,Ie.registerVersion)(On,"0.4.4","esm2017")}();const Dn=(b,M)=>M.some(G=>b instanceof G);let Hn,Jn;const zr=new WeakMap,kr=new WeakMap,lr=new WeakMap,Mr=new WeakMap,gi=new WeakMap;let Vr={get(b,M,G){if(b instanceof IDBTransaction){if("done"===M)return kr.get(b);if("objectStoreNames"===M)return b.objectStoreNames||lr.get(b);if("store"===M)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return hi(b[M])},set:(b,M,G)=>(b[M]=G,!0),has:(b,M)=>b instanceof IDBTransaction&&("done"===M||"store"===M)||M in b};function Vs(b){return"function"==typeof b?function Rr(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qr(){return Jn||(Jn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...M){return b.apply(ui(this),M),hi(zr.get(this))}:function(...M){return hi(b.apply(ui(this),M))}:function(M,...G){const de=b.call(ui(this),M,...G);return lr.set(de,M.sort?M.sort():[M]),hi(de)}}(b):(b instanceof IDBTransaction&&function Gr(b){if(kr.has(b))return;const M=new Promise((G,de)=>{const we=()=>{b.removeEventListener("complete",Te),b.removeEventListener("error",yt),b.removeEventListener("abort",yt)},Te=()=>{G(),we()},yt=()=>{de(b.error||new DOMException("AbortError","AbortError")),we()};b.addEventListener("complete",Te),b.addEventListener("error",yt),b.addEventListener("abort",yt)});kr.set(b,M)}(b),Dn(b,function $r(){return Hn||(Hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Vr):b)}function hi(b){if(b instanceof IDBRequest)return function Fr(b){const M=new Promise((G,de)=>{const we=()=>{b.removeEventListener("success",Te),b.removeEventListener("error",yt)},Te=()=>{G(hi(b.result)),we()},yt=()=>{de(b.error),we()};b.addEventListener("success",Te),b.addEventListener("error",yt)});return M.then(G=>{G instanceof IDBCursor&&zr.set(G,b)}).catch(()=>{}),gi.set(M,b),M}(b);if(Mr.has(b))return Mr.get(b);const M=Vs(b);return M!==b&&(Mr.set(b,M),gi.set(M,b)),M}const ui=b=>gi.get(b);function Us(b,M,{blocked:G,upgrade:de,blocking:we,terminated:Te}={}){const yt=indexedDB.open(b,M),hn=hi(yt);return de&&yt.addEventListener("upgradeneeded",rn=>{de(hi(yt.result),rn.oldVersion,rn.newVersion,hi(yt.transaction))}),G&&yt.addEventListener("blocked",()=>G()),hn.then(rn=>{Te&&rn.addEventListener("close",()=>Te()),we&&rn.addEventListener("versionchange",()=>we())}).catch(()=>{}),hn}function Ei(b,{blocked:M}={}){const G=indexedDB.deleteDatabase(b);return M&&G.addEventListener("blocked",()=>M()),hi(G).then(()=>{})}const qo=["get","getKey","getAll","getAllKeys","count"],as=["put","add","delete","clear"],Bs=new Map;function Ks(b,M){if(!(b instanceof IDBDatabase)||M in b||"string"!=typeof M)return;if(Bs.get(M))return Bs.get(M);const G=M.replace(/FromIndex$/,""),de=M!==G,we=as.includes(G);if(!(G in(de?IDBIndex:IDBObjectStore).prototype)||!we&&!qo.includes(G))return;const Te=function(){var yt=(0,V.Z)(function*(hn,...rn){const jn=this.transaction(hn,we?"readwrite":"readonly");let dr=jn.store;return de&&(dr=dr.index(rn.shift())),(yield Promise.all([dr[G](...rn),we&&jn.done]))[0]});return function(rn){return yt.apply(this,arguments)}}();return Bs.set(M,Te),Te}!function Wr(b){Vr=b(Vr)}(b=>({...b,get:(M,G,de)=>Ks(M,G)||b.get(M,G,de),has:(M,G)=>!!Ks(M,G)||b.has(M,G)}));const Nn="/firebase-messaging-sw.js",io="/firebase-cloud-messaging-push-scope",Ko="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Po="https://fcmregistrations.googleapis.com/v1",xs="google.c.a.c_id",fs="google.c.a.c_l",oa="google.c.a.ts",Oo="google.c.a.e";var x=(()=>{return(b=x||(x={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",x;var b})();function O(b){const M=new Uint8Array(b);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(b){const G=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),de=atob(G),we=new Uint8Array(de.length);for(let Te=0;Te<de.length;++Te)we[Te]=de.charCodeAt(Te);return we}const X="fcm_token_details_db",Ye=5,mn="fcm_token_object_Store";function ni(){return ni=(0,V.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Te=>Te.name).includes(X))return null;let M=null;return(yield Us(X,Ye,{upgrade:(de=(0,V.Z)(function*(we,Te,yt,hn){var rn;if(Te<2||!we.objectStoreNames.contains(mn))return;const jn=hn.objectStore(mn),dr=yield jn.index("fcmSenderId").get(b);if(yield jn.clear(),dr)if(2===Te){const hr=dr;if(!hr.auth||!hr.p256dh||!hr.endpoint)return;M={token:hr.fcmToken,createTime:null!==(rn=hr.createTime)&&void 0!==rn?rn:Date.now(),subscriptionOptions:{auth:hr.auth,p256dh:hr.p256dh,endpoint:hr.endpoint,swScope:hr.swScope,vapidKey:"string"==typeof hr.vapidKey?hr.vapidKey:O(hr.vapidKey)}}}else if(3===Te){const hr=dr;M={token:hr.fcmToken,createTime:hr.createTime,subscriptionOptions:{auth:O(hr.auth),p256dh:O(hr.p256dh),endpoint:hr.endpoint,swScope:hr.swScope,vapidKey:O(hr.vapidKey)}}}else if(4===Te){const hr=dr;M={token:hr.fcmToken,createTime:hr.createTime,subscriptionOptions:{auth:O(hr.auth),p256dh:O(hr.p256dh),endpoint:hr.endpoint,swScope:hr.swScope,vapidKey:O(hr.vapidKey)}}}}),function(Te,yt,hn,rn){return de.apply(this,arguments)})})).close(),yield Ei(X),yield Ei("fcm_vapid_details_db"),yield Ei("undefined"),function ps(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:M}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}(M)?M:null;var de}),ni.apply(this,arguments)}const Ms="firebase-messaging-database",_s=1,Ni="firebase-messaging-store";let Zs=null;function mi(){return Zs||(Zs=Us(Ms,_s,{upgrade:(b,M)=>{0===M&&b.createObjectStore(Ni)}})),Zs}function us(b){return oo.apply(this,arguments)}function oo(){return oo=(0,V.Z)(function*(b){const M=_a(b),de=yield(yield mi()).transaction(Ni).objectStore(Ni).get(M);if(de)return de;{const we=yield function Pr(b){return ni.apply(this,arguments)}(b.appConfig.senderId);if(we)return yield $s(b,we),we}}),oo.apply(this,arguments)}function $s(b,M){return ws.apply(this,arguments)}function ws(){return(ws=(0,V.Z)(function*(b,M){const G=_a(b),we=(yield mi()).transaction(Ni,"readwrite");return yield we.objectStore(Ni).put(M,G),yield we.done,M})).apply(this,arguments)}function ki(){return(ki=(0,V.Z)(function*(b){const M=_a(b),de=(yield mi()).transaction(Ni,"readwrite");yield de.objectStore(Ni).delete(M),yield de.done})).apply(this,arguments)}function _a({appConfig:b}){return b.appId}const ri=new L.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function No(b,M){return ts.apply(this,arguments)}function ts(){return(ts=(0,V.Z)(function*(b,M){const G=yield Fo(b),de=ns(M),we={method:"POST",headers:G,body:JSON.stringify(de)};let Te;try{Te=yield(yield fetch(Rs(b.appConfig),we)).json()}catch(yt){throw ri.create("token-subscribe-failed",{errorInfo:yt?.toString()})}if(Te.error)throw ri.create("token-subscribe-failed",{errorInfo:Te.error.message});if(!Te.token)throw ri.create("token-subscribe-no-token");return Te.token})).apply(this,arguments)}function Ar(){return(Ar=(0,V.Z)(function*(b,M){const G=yield Fo(b),de=ns(M.subscriptionOptions),we={method:"PATCH",headers:G,body:JSON.stringify(de)};let Te;try{Te=yield(yield fetch(`${Rs(b.appConfig)}/${M.token}`,we)).json()}catch(yt){throw ri.create("token-update-failed",{errorInfo:yt?.toString()})}if(Te.error)throw ri.create("token-update-failed",{errorInfo:Te.error.message});if(!Te.token)throw ri.create("token-update-no-token");return Te.token})).apply(this,arguments)}function La(b,M){return go.apply(this,arguments)}function go(){return(go=(0,V.Z)(function*(b,M){const de={method:"DELETE",headers:yield Fo(b)};try{const Te=yield(yield fetch(`${Rs(b.appConfig)}/${M}`,de)).json();if(Te.error)throw ri.create("token-unsubscribe-failed",{errorInfo:Te.error.message})}catch(we){throw ri.create("token-unsubscribe-failed",{errorInfo:we?.toString()})}})).apply(this,arguments)}function Rs({projectId:b}){return`${Po}/projects/${b}/registrations`}function Fo(b){return mo.apply(this,arguments)}function mo(){return(mo=(0,V.Z)(function*({appConfig:b,installations:M}){const G=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function ns({p256dh:b,auth:M,endpoint:G,vapidKey:de}){const we={web:{endpoint:G,auth:M,p256dh:b}};return de!==Ko&&(we.web.applicationPubKey=de),we}const Lo=6048e5;function gs(){return gs=(0,V.Z)(function*(b){const M=yield function tu(b,M){return Zi.apply(this,arguments)}(b.swRegistration,b.vapidKey),G={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:M.endpoint,auth:O(M.getKey("auth")),p256dh:O(M.getKey("p256dh"))},de=yield us(b.firebaseDependencies);if(de){if(function Ci(b,M){return M.vapidKey===b.vapidKey&&M.endpoint===b.endpoint&&M.auth===b.auth&&M.p256dh===b.p256dh}(de.subscriptionOptions,G))return Date.now()>=de.createTime+Lo?function Xr(b,M){return Vo.apply(this,arguments)}(b,{token:de.token,createTime:Date.now(),subscriptionOptions:G}):de.token;try{yield La(b.firebaseDependencies,de.token)}catch(we){console.warn(we)}return Ys(b.firebaseDependencies,G)}return Ys(b.firebaseDependencies,G)}),gs.apply(this,arguments)}function qr(){return qr=(0,V.Z)(function*(b){const M=yield us(b.firebaseDependencies);M&&(yield La(b.firebaseDependencies,M.token),yield function Zo(b){return ki.apply(this,arguments)}(b.firebaseDependencies));const G=yield b.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()}),qr.apply(this,arguments)}function Vo(){return Vo=(0,V.Z)(function*(b,M){try{const G=yield function ko(b,M){return Ar.apply(this,arguments)}(b.firebaseDependencies,M),de=Object.assign(Object.assign({},M),{token:G,createTime:Date.now()});return yield $s(b.firebaseDependencies,de),G}catch(G){throw yield function Jr(b){return qr.apply(this,arguments)}(b),G}}),Vo.apply(this,arguments)}function Ys(b,M){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,V.Z)(function*(b,M){const de={token:yield No(b,M),createTime:Date.now(),subscriptionOptions:M};return yield $s(b,de),de.token})).apply(this,arguments)}function Zi(){return(Zi=(0,V.Z)(function*(b,M){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:R(M)})})).apply(this,arguments)}function aa(b){const M={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function Yo(b,M){if(!M.notification)return;b.notification={};const G=M.notification.title;G&&(b.notification.title=G);const de=M.notification.body;de&&(b.notification.body=de);const we=M.notification.image;we&&(b.notification.image=we);const Te=M.notification.icon;Te&&(b.notification.icon=Te)}(M,b),function Va(b,M){M.data&&(b.data=M.data)}(M,b),function S(b,M){var G,de,we,Te,yt;if(!(M.fcmOptions||null!==(G=M.notification)&&void 0!==G&&G.click_action))return;b.fcmOptions={};const hn=null!==(we=null===(de=M.fcmOptions)||void 0===de?void 0:de.link)&&void 0!==we?we:null===(Te=M.notification)||void 0===Te?void 0:Te.click_action;hn&&(b.fcmOptions.link=hn);const rn=null===(yt=M.fcmOptions)||void 0===yt?void 0:yt.analytics_label;rn&&(b.fcmOptions.analyticsLabel=rn)}(M,b),M}function N(b,M){const G=[];for(let de=0;de<b.length;de++)G.push(b.charAt(de)),de<M.length&&G.push(M.charAt(de));return G.join("")}function ye(b){return ri.create("missing-app-config-values",{valueName:b})}N("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),N("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _{constructor(M,G,de){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const we=function Q(b){if(!b||!b.options)throw ye("App Configuration Object");if(!b.name)throw ye("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:G}=b;for(const de of M)if(!G[de])throw ye(de);return{appName:b.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:we,installations:G,analyticsProvider:de}}_delete(){return Promise.resolve()}}function I(b){return B.apply(this,arguments)}function B(){return(B=(0,V.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Nn,{scope:io}),b.swRegistration.update().catch(()=>{})}catch(M){throw ri.create("failed-service-worker-registration",{browserErrorMessage:M?.message})}})).apply(this,arguments)}function Ge(){return(Ge=(0,V.Z)(function*(b,M){if(!M&&!b.swRegistration&&(yield I(b)),M||!b.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw ri.create("invalid-sw-registration");b.swRegistration=M}})).apply(this,arguments)}function En(){return(En=(0,V.Z)(function*(b,M){M?b.vapidKey=M:b.vapidKey||(b.vapidKey=Ko)})).apply(this,arguments)}function gt(){return gt=(0,V.Z)(function*(b,M){if(!navigator)throw ri.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ri.create("permission-blocked");return yield function qt(b,M){return En.apply(this,arguments)}(b,M?.vapidKey),yield function ue(b,M){return Ge.apply(this,arguments)}(b,M?.serviceWorkerRegistration),function Co(b){return gs.apply(this,arguments)}(b)}),gt.apply(this,arguments)}function fi(){return(fi=(0,V.Z)(function*(b,M,G){const de=function Es(b){switch(b){case x.NOTIFICATION_CLICKED:return"notification_open";case x.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(M);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(de,{message_id:G[xs],message_name:G[fs],message_time:G[oa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function cn(){return cn=(0,V.Z)(function*(b,M){const G=M.data;if(!G.isFirebaseMessaging)return;b.onMessageHandler&&G.messageType===x.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(aa(G)):b.onMessageHandler.next(aa(G)));const de=G.data;(function j(b){return"object"==typeof b&&!!b&&xs in b})(de)&&"1"===de[Oo]&&(yield function cr(b,M,G){return fi.apply(this,arguments)}(b,G.messageType,de))}),cn.apply(this,arguments)}const Qs="@firebase/messaging",at=b=>{const M=new _(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function un(b,M){return cn.apply(this,arguments)}(M,G)),M},Nt=b=>{const M=b.getProvider("messaging").getImmediate();return{getToken:de=>function _r(b,M){return gt.apply(this,arguments)}(M,de)}};function nu(){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,V.Z)(function*(){try{yield(0,L.eu)()}catch{return!1}return typeof window<"u"&&(0,L.hl)()&&(0,L.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fi(){(0,Ie._registerComponent)(new te.wA("messaging",at,"PUBLIC")),(0,Ie._registerComponent)(new te.wA("messaging-internal",Nt,"PRIVATE")),(0,Ie.registerVersion)(Qs,"0.12.4"),(0,Ie.registerVersion)(Qs,"0.12.4","esm2017")}();const wa="analytics",sr="firebase_id",Jo="origin",ru=6e4,Di="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fn="https://www.googletagmanager.com/gtag/js",Li=new Oe.Yd("@firebase/analytics"),Ri=new L.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ii(b){if(!b.startsWith(Fn)){const M=Ri.create("invalid-gtag-resource",{gtagURL:b});return Li.warn(M.message),""}return b}function nn(b){return Promise.all(b.map(M=>M.catch(G=>G)))}function Bo(){return(Bo=(0,V.Z)(function*(b,M,G,de,we,Te){const yt=de[we];try{if(yt)yield M[yt];else{const rn=(yield nn(G)).find(jn=>jn.measurementId===we);rn&&(yield M[rn.appId])}}catch(hn){Li.error(hn)}b("config",we,Te)})).apply(this,arguments)}function Do(){return(Do=(0,V.Z)(function*(b,M,G,de,we){try{let Te=[];if(we&&we.send_to){let yt=we.send_to;Array.isArray(yt)||(yt=[yt]);const hn=yield nn(G);for(const rn of yt){const jn=hn.find(hr=>hr.measurementId===rn),dr=jn&&M[jn.appId];if(!dr){Te=[];break}Te.push(dr)}}0===Te.length&&(Te=Object.values(M)),yield Promise.all(Te),b("event",de,we||{})}catch(Te){Li.error(Te)}})).apply(this,arguments)}const Ba=30,Ps=new class To{constructor(M={},G=1e3){this.throttleMetadata=M,this.intervalMillis=G}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,G){this.throttleMetadata[M]=G}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function pl(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function si(){return(si=(0,V.Z)(function*(b){var M;const{appId:G,apiKey:de}=b,we={method:"GET",headers:pl(de)},Te=Di.replace("{app-id}",G),yt=yield fetch(Te,we);if(200!==yt.status&&304!==yt.status){let hn="";try{const rn=yield yt.json();null!==(M=rn.error)&&void 0!==M&&M.message&&(hn=rn.error.message)}catch{}throw Ri.create("config-fetch-failed",{httpStatus:yt.status,responseMessage:hn})}return yt.json()})).apply(this,arguments)}function Wu(){return(Wu=(0,V.Z)(function*(b,M=Ps,G){const{appId:de,apiKey:we,measurementId:Te}=b.options;if(!de)throw Ri.create("no-app-id");if(!we){if(Te)return{measurementId:Te,appId:de};throw Ri.create("no-api-key")}const yt=M.getThrottleMetadata(de)||{backoffCount:0,throttleEndTimeMillis:Date.now()},hn=new ml;return setTimeout((0,V.Z)(function*(){hn.abort()}),void 0!==G?G:ru),Ia({appId:de,apiKey:we,measurementId:Te},yt,hn,M)})).apply(this,arguments)}function Ia(b,M,G){return ea.apply(this,arguments)}function ea(){return ea=(0,V.Z)(function*(b,{throttleEndTimeMillis:M,backoffCount:G},de,we=Ps){var Te;const{appId:yt,measurementId:hn}=b;try{yield function gl(b,M){return new Promise((G,de)=>{const we=Math.max(M-Date.now(),0),Te=setTimeout(G,we);b.addEventListener(()=>{clearTimeout(Te),de(Ri.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(de,M)}catch(rn){if(hn)return Li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${hn} provided in the "measurementId" field in the local Firebase config. [${rn?.message}]`),{appId:yt,measurementId:hn};throw rn}try{const rn=yield function ut(b){return si.apply(this,arguments)}(b);return we.deleteThrottleMetadata(yt),rn}catch(rn){const jn=rn;if(!function $a(b){if(!(b instanceof L.ZR&&b.customData))return!1;const M=Number(b.customData.httpStatus);return 429===M||500===M||503===M||504===M}(jn)){if(we.deleteThrottleMetadata(yt),hn)return Li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${hn} provided in the "measurementId" field in the local Firebase config. [${jn?.message}]`),{appId:yt,measurementId:hn};throw rn}const dr=503===Number(null===(Te=jn?.customData)||void 0===Te?void 0:Te.httpStatus)?(0,L.$s)(G,we.intervalMillis,Ba):(0,L.$s)(G,we.intervalMillis),hr={throttleEndTimeMillis:Date.now()+dr,backoffCount:G+1};return we.setThrottleMetadata(yt,hr),Li.debug(`Calling attemptFetch again in ${dr} millis`),Ia(b,hr,de,we)}}),ea.apply(this,arguments)}class ml{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let ta,au;function $l(){return($l=(0,V.Z)(function*(b,M,G,de,we){if(we&&we.global)b("event",G,de);else{const Te=yield M;b("event",G,Object.assign(Object.assign({},de),{send_to:Te}))}})).apply(this,arguments)}function Ha(){return(Ha=(0,V.Z)(function*(){if(!(0,L.hl)())return Li.warn(Ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,L.eu)()}catch(b){return Li.warn(Ri.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function w(){return w=(0,V.Z)(function*(b,M,G,de,we,Te,yt){var hn;const rn=function Js(b){return Wu.apply(this,arguments)}(b);rn.then(Os=>{G[Os.measurementId]=Os.appId,b.options.measurementId&&Os.measurementId!==b.options.measurementId&&Li.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Os.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Os=>Li.error(Os)),M.push(rn);const jn=function uo(){return Ha.apply(this,arguments)}().then(Os=>{if(Os)return de.getId()}),[dr,hr]=yield Promise.all([rn,jn]);(function Vi(b){const M=window.document.getElementsByTagName("script");for(const G of Object.values(M))if(G.src&&G.src.includes(Fn)&&G.src.includes(b))return G;return null})(Te)||function Xo(b,M){const G=function ua(b,M){let G;return window.trustedTypes&&(G=window.trustedTypes.createPolicy(b,M)),G}("firebase-js-sdk-policy",{createScriptURL:Ii}),de=document.createElement("script"),we=`${Fn}?l=${b}&id=${M}`;de.src=G?G?.createScriptURL(we):we,de.async=!0,document.head.appendChild(de)}(Te,dr.measurementId),au&&(we("consent","default",au),function uu(b){au=b}(void 0)),we("js",new Date);const to=null!==(hn=yt?.config)&&void 0!==hn?hn:{};return to[Jo]="firebase",to.update=!0,null!=hr&&(to[sr]=hr),we("config",dr.measurementId,to),ta&&(we("set",ta),function Du(b){ta=b}(void 0)),dr.measurementId}),w.apply(this,arguments)}class m{constructor(M){this.app=M}_delete(){return delete A[this.app.options.appId],Promise.resolve()}}let A={},U=[];const Y={};let St,Xt,re="dataLayer",Be="gtag",dn=!1;function $o(b,M,G){!function Pi(){const b=[];if((0,L.ru)()&&b.push("This is a browser extension environment."),(0,L.zI)()||b.push("Cookies are not available."),b.length>0){const M=b.map((de,we)=>`(${we+1}) ${de}`).join(" "),G=Ri.create("invalid-analytics-context",{errorInfo:M});Li.warn(G.message)}}();const de=b.options.appId;if(!de)throw Ri.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Ri.create("no-api-key");Li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=A[de])throw Ri.create("already-exists",{id:de});if(!dn){!function la(b){let M=[];Array.isArray(window[b])?M=window[b]:window[b]=M}(re);const{wrappedGtag:Te,gtagCore:yt}=function Ea(b,M,G,de,we){let Te=function(...yt){window[de].push(arguments)};return window[we]&&"function"==typeof window[we]&&(Te=window[we]),window[we]=function Is(b,M,G,de){function Te(){return Te=(0,V.Z)(function*(yt,...hn){try{if("event"===yt){const[rn,jn]=hn;yield function Gu(b,M,G,de,we){return Do.apply(this,arguments)}(b,M,G,rn,jn)}else if("config"===yt){const[rn,jn]=hn;yield function fl(b,M,G,de,we,Te){return Bo.apply(this,arguments)}(b,M,G,de,rn,jn)}else if("consent"===yt){const[rn]=hn;b("consent","update",rn)}else if("get"===yt){const[rn,jn,dr]=hn;b("get",rn,jn,dr)}else if("set"===yt){const[rn]=hn;b("set",rn)}else b(yt,...hn)}catch(rn){Li.error(rn)}}),Te.apply(this,arguments)}return function we(yt){return Te.apply(this,arguments)}}(Te,b,M,G),{gtagCore:Te,wrappedGtag:window[we]}}(A,U,Y,re,Be);Xt=Te,St=yt,dn=!0}return A[de]=function v(b,M,G,de,we,Te,yt){return w.apply(this,arguments)}(b,U,Y,M,St,re,G),new m(b)}function Xs(){return yi.apply(this,arguments)}function yi(){return(yi=(0,V.Z)(function*(){if((0,L.ru)()||!(0,L.zI)()||!(0,L.hl)())return!1;try{return yield(0,L.eu)()}catch{return!1}})).apply(this,arguments)}const lo="@firebase/analytics";!function jl(){(0,Ie._registerComponent)(new te.wA(wa,(M,{options:G})=>$o(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,Ie._registerComponent)(new te.wA("analytics-internal",function b(M){try{const G=M.getProvider(wa).getImmediate();return{logEvent:(de,we,Te)=>function Dc(b,M,G,de){b=(0,L.m9)(b),function vd(b,M,G,de,we){return $l.apply(this,arguments)}(Xt,A[b.app.options.appId],M,G,de).catch(we=>Li.error(we))}(G,de,we,Te)}}catch(G){throw Ri.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,Ie.registerVersion)(lo,"0.10.0"),(0,Ie.registerVersion)(lo,"0.10.0","esm2017")}();var bs=k(4408),Ao=k(7565);const ba=new class Yi extends Ao.v{}(class _d extends bs.o{constructor(M,G){super(M,G),this.scheduler=M,this.work=G}schedule(M,G=0){return G>0?super.schedule(M,G):(this.delay=G,this.state=M,this.scheduler.flush(this),this)}execute(M,G){return G>0||this.closed?super.execute(M,G):this._execute(M,G)}requestAsyncId(M,G,de=0){return null!=de&&de>0||null==de&&this.delay>0?super.requestAsyncId(M,G,de):(M.flush(this),0)}});var Hl=k(4986),Ca=k(9751),Ac=k(8505),jo=k(5363),pa=k(9468);const Ga=new p.GfV("7.6.1"),Da="__angularfire_symbol__analyticsIsSupportedValue",Ho="__angularfire_symbol__analyticsIsSupported",ga="__angularfire_symbol__remoteConfigIsSupportedValue",ma="__angularfire_symbol__remoteConfigIsSupported",zl="__angularfire_symbol__messagingIsSupportedValue",Wa="__angularfire_symbol__messagingIsSupported";function Ta(b,M,G){if(M){if(1===M.length)return M[0];const Te=M.filter(yt=>yt.app===G);if(1===Te.length)return Te[0]}return G.container.getProvider(b).getImmediate({optional:!0})}globalThis[Ho]||(globalThis[Ho]=Xs().then(b=>globalThis[Da]=b).catch(()=>globalThis[Da]=!1)),globalThis[Wa]||(globalThis[Wa]=nu().then(b=>globalThis[zl]=b).catch(()=>globalThis[zl]=!1)),globalThis[ma]||(globalThis[ma]=Bt().then(b=>globalThis[ga]=b).catch(()=>globalThis[ga]=!1));const Wl=(b,M)=>{const G=M?[M]:(0,W.C6)(),de=[];return G.forEach(we=>{we.container.getProvider(b).instances.forEach(yt=>{de.includes(yt)||de.push(yt)})}),de};function qa(){}class cu{constructor(M,G=ba){this.zone=M,this.delegate=G}now(){return this.delegate.now()}schedule(M,G,de){const we=this.zone;return this.delegate.schedule(function(yt){we.runGuarded(()=>{M.apply(this,[yt])})},G,de)}}class vo{constructor(M){this.zone=M,this.task=null}call(M,G){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qa,{},qa,qa)),G.pipe((0,Ac.b)({next:de,complete:de,error:de})).subscribe(M).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qu=(()=>{class b{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new cu(Zone.current)),this.insideAngular=G.run(()=>new cu(Zone.current,Hl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(G){return new(G||b)(p.LFG(p.R0b))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function du(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Aa(b){return du().ngZone.run(()=>b())}function yl(b){return b.pipe((0,jo.Q)(du().outsideAngular))}function ql(b){return du(),function Bi(b){return function(G){return(G=G.lift(new vo(b.ngZone))).pipe((0,pa.R)(b.outsideAngular),(0,jo.Q)(b.insideAngular))}}(du())(b)}const Sa=(b,M)=>function(){const de=arguments;return M&&setTimeout(()=>{"scheduled"===M.state&&M.invoke()},10),Aa(()=>b.apply(void 0,de))},vl=(b,M)=>function(){let G;const de=arguments;for(let Te=0;Te<arguments.length;Te++)"function"==typeof de[Te]&&(M&&(G||(G=Aa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qa,{},qa,qa)))),de[Te]=Sa(de[Te],G));const we=function wd(b){return du().ngZone.runOutsideAngular(()=>b())}(()=>b.apply(this,de));if(!M){if(we instanceof Ca.y){const Te=du();return we.pipe((0,pa.R)(Te.outsideAngular),(0,jo.Q)(Te.insideAngular))}return Aa(()=>we)}return we instanceof Ca.y?we.pipe(ql):we instanceof Promise?Aa(()=>new Promise((Te,yt)=>we.then(hn=>Aa(()=>Te(hn)),hn=>Aa(()=>yt(hn))))):"function"==typeof we&&G?function(){return setTimeout(()=>{G&&"scheduled"===G.state&&G.invoke()},10),we.apply(this,arguments)}:Aa(()=>we)}},1389:(Qt,Xe,k)=>{"use strict";k.d(Xe,{$:()=>Nn,A:()=>se,D:()=>st,I:()=>mr,J:()=>Ot,L:()=>xi,N:()=>jt,P:()=>v,Q:()=>q,R:()=>ca,U:()=>bt,V:()=>Bt,W:()=>wn,X:()=>Le,Y:()=>$r,Z:()=>Qr,_:()=>gi,a:()=>yo,a0:()=>Ko,a1:()=>xs,a2:()=>so,a3:()=>mn,a4:()=>ni,a5:()=>Ms,a6:()=>Ni,a7:()=>mi,a8:()=>oo,a9:()=>ws,aA:()=>Ue,aB:()=>Ho,aC:()=>dt,aD:()=>Jt,aE:()=>Ac,aF:()=>Ui,aG:()=>ms,aH:()=>br,aL:()=>Qo,aO:()=>Hn,aa:()=>Zo,ab:()=>_a,ac:()=>Fa,ad:()=>ko,ae:()=>La,af:()=>Rs,ai:()=>Lo,aj:()=>gs,ak:()=>Jr,an:()=>Rr,ao:()=>Yo,aq:()=>En,ar:()=>Qs,as:()=>on,at:()=>xe,au:()=>le,av:()=>Qe,aw:()=>hr,ax:()=>Wa,ay:()=>nt,az:()=>et,b:()=>bu,c:()=>Xt,d:()=>$o,e:()=>Ur,f:()=>lo,g:()=>Yi,h:()=>bs,i:()=>iu,j:()=>Hl,k:()=>Mu,l:()=>js,m:()=>Zl,o:()=>Sh,p:()=>Ae,r:()=>ja,s:()=>na,u:()=>uo});var p=k(5861),W=k(2090),V=k(6881),Ie=k(7582),L=k(1877),te=k(4859);const Ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const st=function _e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},_t=function Je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Vt=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),It=new L.Yd("@firebase/auth");function wt(E,...d){It.logLevel<=L.in.ERROR&&It.error(`Auth (${V.SDK_VERSION}): ${E}`,...d)}function Qe(E,...d){throw ct(E,...d)}function et(E,...d){return ct(E,...d)}function tt(E,d,g){const D=Object.assign(Object.assign({},_t()),{[d]:g});return new W.LL("auth","Firebase",D).create(d,{appName:E.name})}function Tt(E,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&Qe(E,"argument-error"),tt(E,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ct(E,...d){if("string"!=typeof E){const g=d[0],D=[...d.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(g,...D)}return Vt.create(E,...d)}function Ue(E,d,...g){if(!E)throw ct(d,...g)}function Pt(E){const d="INTERNAL ASSERTION FAILED: "+E;throw wt(d),new Error(d)}function on(E,d){E||Pt(d)}function kt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Lt(){return"http:"===At()||"https:"===At()}function At(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Ke{constructor(d,g){this.shortDelay=d,this.longDelay=g,on(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function nr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function je(E,d){on(E.emulator,"Emulator should always be set here");const{url:g}=E.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class Ze{static initialize(d,g,D){this.fetchImpl=d,g&&(this.headersImpl=g),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ht={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ze=new Ke(3e4,6e4);function ft(E,d){return E.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:E.tenantId}):d}function Ft(E,d,g,D){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,p.Z)(function*(E,d,g,D,z={}){return Ut(E,z,(0,p.Z)(function*(){let oe={},Ve={};D&&("GET"===d?Ve=D:oe={body:JSON.stringify(D)});const vt=(0,W.xO)(Object.assign({key:E.config.apiKey},Ve)).slice(1),en=yield E._getAdditionalHeaders();return en["Content-Type"]="application/json",E.languageCode&&(en["X-Firebase-Locale"]=E.languageCode),Ze.fetch()(kn(E,E.config.apiHost,g,vt),Object.assign({method:d,headers:en,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Ut(E,d,g){return $t.apply(this,arguments)}function $t(){return($t=(0,p.Z)(function*(E,d,g){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},ht),d);try{const z=new Ir(E),oe=yield Promise.race([g(),z.promise]);z.clearNetworkTimeout();const Ve=yield oe.json();if("needConfirmation"in Ve)throw Vn(E,"account-exists-with-different-credential",Ve);if(oe.ok&&!("errorMessage"in Ve))return Ve;{const vt=oe.ok?Ve.errorMessage:Ve.error.message,[en,In]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===en)throw Vn(E,"credential-already-in-use",Ve);if("EMAIL_EXISTS"===en)throw Vn(E,"email-already-in-use",Ve);if("USER_DISABLED"===en)throw Vn(E,"user-disabled",Ve);const zn=D[en]||en.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw tt(E,zn,In);Qe(E,zn)}}catch(z){if(z instanceof W.ZR)throw z;Qe(E,"network-request-failed",{message:String(z)})}})).apply(this,arguments)}function _n(E,d,g,D){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,p.Z)(function*(E,d,g,D,z={}){const oe=yield Ft(E,d,g,D,z);return"mfaPendingCredential"in oe&&Qe(E,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function kn(E,d,g,D){const z=`${d}${g}?${D}`;return E.config.emulator?je(E.config,z):`${E.config.apiScheme}://${z}`}class Ir{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,D)=>{this.timer=setTimeout(()=>D(et(this.auth,"network-request-failed")),ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(E,d,g){const D={appName:E.name};g.email&&(D.email=g.email),g.phoneNumber&&(D.phoneNumber=g.phoneNumber);const z=et(E,d,D);return z.customData._tokenResponse=g,z}function zt(){return(zt=(0,p.Z)(function*(E,d){return Ft(E,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function De(){return(De=(0,p.Z)(function*(E,d){return Ft(E,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ne(){return(Ne=(0,p.Z)(function*(E,d){return Ft(E,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Pe(E){if(E)try{const d=new Date(Number(E));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Gn(){return(Gn=(0,p.Z)(function*(E,d=!1){const g=(0,W.m9)(E),D=yield g.getIdToken(d),z=An(D);Ue(z&&z.exp&&z.auth_time&&z.iat,g.auth,"internal-error");const oe="object"==typeof z.firebase?z.firebase:void 0,Ve=oe?.sign_in_provider;return{claims:z,token:D,authTime:Pe(yn(z.auth_time)),issuedAtTime:Pe(yn(z.iat)),expirationTime:Pe(yn(z.exp)),signInProvider:Ve||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function yn(E){return 1e3*Number(E)}function An(E){const[d,g,D]=E.split(".");if(void 0===d||void 0===g||void 0===D)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,W.tV)(g);return z?JSON.parse(z):(wt("Failed to decode base64 JWT payload"),null)}catch(z){return wt("Caught error parsing JWT payload as JSON",z?.toString()),null}}function ln(E,d){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,p.Z)(function*(E,d,g=!1){if(g)return d;try{return yield d}catch(D){throw D instanceof W.ZR&&function an({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}class pr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const z=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const D=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),D)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class Xn{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pe(this.lastLoginAt),this.creationTime=Pe(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function or(E){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,p.Z)(function*(E){var d;const g=E.auth,D=yield E.getIdToken(),z=yield ln(E,function Se(E,d){return Ne.apply(this,arguments)}(g,{idToken:D}));Ue(z?.users.length,g,"internal-error");const oe=z.users[0];E._notifyReloadListener(oe);const Ve=null!==(d=oe.providerUserInfo)&&void 0!==d&&d.length?function ir(E){return E.map(d=>{var{providerId:g}=d,D=(0,Ie._T)(d,["providerId"]);return{providerId:g,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(oe.providerUserInfo):[],vt=function Un(E,d){return[...E.filter(D=>!d.some(z=>z.providerId===D.providerId)),...d]}(E.providerData,Ve),zn=!!E.isAnonymous&&!(E.email&&oe.passwordHash||vt?.length),Tr={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:vt,metadata:new Xn(oe.createdAt,oe.lastLoginAt),isAnonymous:zn};Object.assign(E,Tr)}),Qn.apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(function*(E){const d=(0,W.m9)(E);yield or(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function bn(){return(bn=(0,p.Z)(function*(E,d){const g=yield Ut(E,{},(0,p.Z)(function*(){const D=(0,W.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:z,apiKey:oe}=E.config,Ve=kn(E,z,"/v1/token",`key=${oe}`),vt=yield E._getAdditionalHeaders();return vt["Content-Type"]="application/x-www-form-urlencoded",Ze.fetch()(Ve,{method:"POST",headers:vt,body:D})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Ue(d.idToken,"internal-error"),Ue(typeof d.idToken<"u","internal-error"),Ue(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function tn(E){const d=An(E);return Ue(d,"internal-error"),Ue(typeof d.exp<"u","internal-error"),Ue(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var D=this;return(0,p.Z)(function*(){return Ue(!D.accessToken||D.refreshToken,d,"user-token-expired"),g||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(d,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var D=this;return(0,p.Z)(function*(){const{accessToken:z,refreshToken:oe,expiresIn:Ve}=yield function Sn(E,d){return bn.apply(this,arguments)}(d,g);D.updateTokensAndExpiration(z,oe,Number(Ve))})()}updateTokensAndExpiration(d,g,D){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(d,g){const{refreshToken:D,accessToken:z,expirationTime:oe}=g,Ve=new Wt;return D&&(Ue("string"==typeof D,"internal-error",{appName:d}),Ve.refreshToken=D),z&&(Ue("string"==typeof z,"internal-error",{appName:d}),Ve.accessToken=z),oe&&(Ue("number"==typeof oe,"internal-error",{appName:d}),Ve.expirationTime=oe),Ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Wt,this.toJSON())}_performRefresh(){return Pt("not implemented")}}function Zn(E,d){Ue("string"==typeof E||typeof E>"u","internal-error",{appName:d})}class gr{constructor(d){var{uid:g,auth:D,stsTokenManager:z}=d,oe=(0,Ie._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=D,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new Xn(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,p.Z)(function*(){const D=yield ln(g,g.stsTokenManager.getToken(g.auth,d));return Ue(D,g.auth,"internal-error"),g.accessToken!==D&&(g.accessToken=D,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),D})()}getIdTokenResult(d){return function Mt(E){return Gn.apply(this,arguments)}(this,d)}reload(){return function Wn(E){return Sr.apply(this,arguments)}(this)}_assign(d){this!==d&&(Ue(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new gr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var D=this;return(0,p.Z)(function*(){let z=!1;d.idToken&&d.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(d),z=!0),g&&(yield or(D)),yield D.auth._persistUserIfCurrent(D),z&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var d=this;return(0,p.Z)(function*(){const g=yield d.getIdToken();return yield ln(d,function rr(E,d){return zt.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var D,z,oe,Ve,vt,en,In,zn;const Tr=null!==(D=g.displayName)&&void 0!==D?D:void 0,wo=null!==(z=g.email)&&void 0!==z?z:void 0,pu=null!==(oe=g.phoneNumber)&&void 0!==oe?oe:void 0,ya=null!==(Ve=g.photoURL)&&void 0!==Ve?Ve:void 0,Zf=null!==(vt=g.tenantId)&&void 0!==vt?vt:void 0,zs=null!==(en=g._redirectEventId)&&void 0!==en?en:void 0,Cd=null!==(In=g.createdAt)&&void 0!==In?In:void 0,Zu=null!==(zn=g.lastLoginAt)&&void 0!==zn?zn:void 0,{uid:Yl,emailVerified:va,isAnonymous:Ql,providerData:Pu,stsTokenManager:Jl}=g;Ue(Yl&&Jl,d,"internal-error");const Mc=Wt.fromJSON(this.name,Jl);Ue("string"==typeof Yl,d,"internal-error"),Zn(Tr,d.name),Zn(wo,d.name),Ue("boolean"==typeof va,d,"internal-error"),Ue("boolean"==typeof Ql,d,"internal-error"),Zn(pu,d.name),Zn(ya,d.name),Zn(Zf,d.name),Zn(zs,d.name),Zn(Cd,d.name),Zn(Zu,d.name);const Cr=new gr({uid:Yl,auth:d,email:wo,emailVerified:va,displayName:Tr,isAnonymous:Ql,photoURL:ya,phoneNumber:pu,tenantId:Zf,stsTokenManager:Mc,createdAt:Cd,lastLoginAt:Zu});return Pu&&Array.isArray(Pu)&&(Cr.providerData=Pu.map(Dd=>Object.assign({},Dd))),zs&&(Cr._redirectEventId=zs),Cr}static _fromIdTokenResponse(d,g,D=!1){return(0,p.Z)(function*(){const z=new Wt;z.updateFromServerResponse(g);const oe=new gr({uid:g.localId,auth:d,stsTokenManager:z,isAnonymous:D});return yield or(oe),oe})()}}const $e=new Map;function dt(E){on(E instanceof Function,"Expected a class definition");let d=$e.get(E);return d?(on(d instanceof E,"Instance stored in cache mismatched with class"),d):(d=new E,$e.set(E,d),d)}const jt=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,D){var z=this;return(0,p.Z)(function*(){z.storage[g]=D})()}_get(g){var D=this;return(0,p.Z)(function*(){const z=D.storage[g];return void 0===z?null:z})()}_remove(g){var D=this;return(0,p.Z)(function*(){delete D.storage[g]})()}_addListener(g,D){}_removeListener(g,D){}}return E.type="NONE",E})();function Jt(E,d,g){return`firebase:${E}:${d}:${g}`}class pe{constructor(d,g,D){this.persistence=d,this.auth=g,this.userKey=D;const{config:z,name:oe}=this.auth;this.fullUserKey=Jt(this.userKey,z.apiKey,oe),this.fullPersistenceKey=Jt("persistence",z.apiKey,oe),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?gr._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,p.Z)(function*(){if(g.persistence===d)return;const D=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,D?g.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,D="authUser"){return(0,p.Z)(function*(){if(!g.length)return new pe(dt(jt),d,D);const z=(yield Promise.all(g.map(function(){var In=(0,p.Z)(function*(zn){if(yield zn._isAvailable())return zn});return function(zn){return In.apply(this,arguments)}}()))).filter(In=>In);let oe=z[0]||dt(jt);const Ve=Jt(D,d.config.apiKey,d.name);let vt=null;for(const In of g)try{const zn=yield In._get(Ve);if(zn){const Tr=gr._fromJSON(d,zn);In!==oe&&(vt=Tr),oe=In;break}}catch{}const en=z.filter(In=>In._shouldAllowMigration);return oe._shouldAllowMigration&&en.length?(oe=en[0],vt&&(yield oe._set(Ve,vt.toJSON())),yield Promise.all(g.map(function(){var In=(0,p.Z)(function*(zn){if(zn!==oe)try{yield zn._remove(Ve)}catch{}});return function(zn){return In.apply(this,arguments)}}())),new pe(oe,d,D)):new pe(oe,d,D)})()}}function ce(E){const d=E.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(be(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(J(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(fe(d))return"Blackberry";if(ae(d))return"Webos";if(ie(d))return"Safari";if((d.includes("chrome/")||Z(d))&&!d.includes("edge/"))return"Chrome";if(le(d))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function J(E=(0,W.z$)()){return/firefox\//i.test(E)}function ie(E=(0,W.z$)()){const d=E.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Z(E=(0,W.z$)()){return/crios\//i.test(E)}function be(E=(0,W.z$)()){return/iemobile/i.test(E)}function le(E=(0,W.z$)()){return/android/i.test(E)}function fe(E=(0,W.z$)()){return/blackberry/i.test(E)}function ae(E=(0,W.z$)()){return/webos/i.test(E)}function xe(E=(0,W.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function nt(E=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function pn(E=(0,W.z$)()){return xe(E)||le(E)||ae(E)||fe(E)||/windows phone/i.test(E)||be(E)}function vr(E,d=[]){let g;switch(E){case"Browser":g=ce((0,W.z$)());break;case"Worker":g=`${ce((0,W.z$)())}-${E}`;break;default:g=E}const D=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${V.SDK_VERSION}/${D}`}function qe(){return(qe=(0,p.Z)(function*(E){return(yield Ft(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rt(E,d){return gn.apply(this,arguments)}function gn(){return(gn=(0,p.Z)(function*(E,d){return Ft(E,"GET","/v2/recaptchaConfig",ft(E,d))})).apply(this,arguments)}function vn(E){return void 0!==E&&void 0!==E.getResponse}function Kn(E){return void 0!==E&&void 0!==E.enterprise}class Cn{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function ur(E){return new Promise((d,g)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=d,D.onerror=z=>{const oe=et("internal-error");oe.customData=z,g(oe)},D.type="text/javascript",D.charset="UTF-8",function Yn(){var E,d;return null!==(d=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==d?d:document}().appendChild(D)})}function Kr(E){return`__${E}${Math.floor(1e6*Math.random())}`}const ti="NO_RECAPTCHA";class jr{constructor(d){this.type="recaptcha-enterprise",this.auth=br(d)}verify(d="verify",g=!1){var D=this;return(0,p.Z)(function*(){function oe(){return oe=(0,p.Z)(function*(vt){if(!g){if(null==vt.tenantId&&null!=vt._agentRecaptchaConfig)return vt._agentRecaptchaConfig.siteKey;if(null!=vt.tenantId&&void 0!==vt._tenantRecaptchaConfigs[vt.tenantId])return vt._tenantRecaptchaConfigs[vt.tenantId].siteKey}return new Promise(function(){var en=(0,p.Z)(function*(In,zn){Rt(vt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Tr=>{if(void 0!==Tr.recaptchaKey){const wo=new Cn(Tr);return null==vt.tenantId?vt._agentRecaptchaConfig=wo:vt._tenantRecaptchaConfigs[vt.tenantId]=wo,In(wo.siteKey)}zn(new Error("recaptcha Enterprise site key undefined"))}).catch(Tr=>{zn(Tr)})});return function(In,zn){return en.apply(this,arguments)}}())}),oe.apply(this,arguments)}function Ve(vt,en,In){const zn=window.grecaptcha;Kn(zn)?zn.enterprise.ready(()=>{zn.enterprise.execute(vt,{action:d}).then(Tr=>{en(Tr)}).catch(()=>{en(ti)})}):In(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((vt,en)=>{(function z(vt){return oe.apply(this,arguments)})(D.auth).then(In=>{if(!g&&Kn(window.grecaptcha))Ve(In,vt,en);else{if(typeof window>"u")return void en(new Error("RecaptchaVerifier is only supported in browser"));ur("https://www.google.com/recaptcha/enterprise.js?render="+In).then(()=>{Ve(In,vt,en)}).catch(zn=>{en(zn)})}}).catch(In=>{en(In)})})})()}}function ai(E,d,g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,p.Z)(function*(E,d,g,D=!1){const z=new jr(E);let oe;try{oe=yield z.verify(g)}catch{oe=yield z.verify(g,!0)}const Ve=Object.assign({},d);return Object.assign(Ve,D?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(Ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ve})).apply(this,arguments)}class Bn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const D=oe=>new Promise((Ve,vt)=>{try{Ve(d(oe))}catch(en){vt(en)}});D.onAbort=g,this.queue.push(D);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===d)return;const D=[];try{for(const z of g.queue)yield z(d),z.onAbort&&D.push(z.onAbort)}catch(z){D.reverse();for(const oe of D)try{oe()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:z?.message})}})()}}class Br{constructor(d,g,D,z){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=D,this.config=z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yr(this),this.idTokenSubscription=new Yr(this),this.beforeStateQueue=new Bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=z.sdkClientVersion}_initializeWithPersistence(d,g){var D=this;return g&&(this._popupRedirectResolver=dt(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var z,oe;if(!D._deleted&&(D.persistenceManager=yield pe.create(D,d),!D._deleted)){if(null!==(z=D._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(g),D.lastNotifiedUid=(null===(oe=D.currentUser)||void 0===oe?void 0:oe.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,p.Z)(function*(){var D;const z=yield g.assertedPersistence.getCurrentUser();let oe=z,Ve=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const vt=null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId,en=oe?._redirectEventId,In=yield g.tryRedirectSignIn(d);(!vt||vt===en)&&In?.user&&(oe=In.user,Ve=!0)}if(!oe)return g.directlySetCurrentUser(null);if(!oe._redirectEventId){if(Ve)try{yield g.beforeStateQueue.runMiddleware(oe)}catch(vt){oe=z,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(vt))}return oe?g.reloadAndSetCurrentUserOrClear(oe):g.directlySetCurrentUser(null)}return Ue(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===oe._redirectEventId?g.directlySetCurrentUser(oe):g.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(d){var g=this;return(0,p.Z)(function*(){let D=null;try{D=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,p.Z)(function*(){try{yield or(d)}catch(D){if("auth/network-request-failed"!==D?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function He(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,p.Z)(function*(){const D=d?(0,W.m9)(d):null;return D&&Ue(D.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(D&&D._clone(g))})()}_updateCurrentUser(d,g=!1){var D=this;return(0,p.Z)(function*(){if(!D._deleted)return d&&Ue(D.tenantId===d.tenantId,D,"tenant-id-mismatch"),g||(yield D.beforeStateQueue.runMiddleware(d)),D.queue((0,p.Z)(function*(){yield D.directlySetCurrentUser(d),D.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(dt(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const g=yield Rt(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new Cn(g);null==d.tenantId?d._agentRecaptchaConfig=D:d._tenantRecaptchaConfigs[d.tenantId]=D,D.emailPasswordEnabled&&new jr(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new W.LL("auth","Firebase",d())}onAuthStateChanged(d,g,D){return this.registerStateListener(this.authStateSubscription,d,g,D)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,D){return this.registerStateListener(this.idTokenSubscription,d,g,D)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var D=this;return(0,p.Z)(function*(){const z=yield D.getOrInitRedirectPersistenceManager(g);return null===d?z.removeCurrentUser():z.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const D=d&&dt(d)||g._popupRedirectResolver;Ue(D,g,"argument-error"),g.redirectPersistenceManager=yield pe.create(g,[dt(D._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,p.Z)(function*(){var D,z;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(D=g._currentUser)||void 0===D?void 0:D._redirectEventId)===d?g._currentUser:(null===(z=g.redirectUser)||void 0===z?void 0:z._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,p.Z)(function*(){if(d===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,D,z){if(this._deleted)return()=>{};const oe="function"==typeof g?g:g.next.bind(g),Ve=this._isInitialized?Promise.resolve():this._initializationPromise;return Ue(Ve,this,"internal-error"),Ve.then(()=>oe(this.currentUser)),"function"==typeof g?d.addObserver(g,D,z):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=vr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var g;const D={"X-Client-Version":d.clientVersion};d.app.options.appId&&(D["X-Firebase-gmpid"]=d.app.options.appId);const z=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();z&&(D["X-Firebase-Client"]=z);const oe=yield d._getAppCheckToken();return oe&&(D["X-Firebase-AppCheck"]=oe),D})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var g;const D=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return D?.error&&function mt(E,...d){It.logLevel<=L.in.WARN&&It.warn(`Auth (${V.SDK_VERSION}): ${E}`,...d)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function br(E){return(0,W.m9)(E)}class Yr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,W.ne)(g=>this.observer=g)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mr(E,d,g){const D=br(E);Ue(D._canInitEmulator,D,"emulator-config-failed"),Ue(/^https?:\/\//.test(d),D,"invalid-emulator-scheme");const z=!!g?.disableWarnings,oe=Fe(d),{host:Ve,port:vt}=function Re(E){const d=Fe(E),g=/(\/\/)?([^?#/]+)/.exec(E.substr(d.length));if(!g)return{host:"",port:null};const D=g[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(D);if(z){const oe=z[1];return{host:oe,port:Me(D.substr(oe.length+1))}}{const[oe,Ve]=D.split(":");return{host:oe,port:Me(Ve)}}}(d);D.config.emulator={url:`${oe}//${Ve}${null===vt?"":`:${vt}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Ve,port:vt,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Et(){function E(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Fe(E){const d=E.indexOf(":");return d<0?"":E.substr(0,d+1)}function Me(E){if(!E)return null;const d=Number(E);return isNaN(d)?null:d}class Ot{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return Pt("not implemented")}_getIdTokenResponse(d){return Pt("not implemented")}_linkToIdToken(d,g){return Pt("not implemented")}_getReauthenticationResolver(d){return Pt("not implemented")}}function xn(E,d){return $n.apply(this,arguments)}function $n(){return($n=(0,p.Z)(function*(E,d){return Ft(E,"POST","/v1/accounts:resetPassword",ft(E,d))})).apply(this,arguments)}function On(E,d){return er.apply(this,arguments)}function er(){return(er=(0,p.Z)(function*(E,d){return Ft(E,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Hr(){return(Hr=(0,p.Z)(function*(E,d){return Ft(E,"POST","/v1/accounts:update",ft(E,d))})).apply(this,arguments)}function di(E,d){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,p.Z)(function*(E,d){return _n(E,"POST","/v1/accounts:signInWithPassword",ft(E,d))})).apply(this,arguments)}function xr(E,d){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,p.Z)(function*(E,d){return Ft(E,"POST","/v1/accounts:sendOobCode",ft(E,d))})).apply(this,arguments)}function rs(){return(rs=(0,p.Z)(function*(E,d){return xr(E,d)})).apply(this,arguments)}function Xi(E,d){return is.apply(this,arguments)}function is(){return(is=(0,p.Z)(function*(E,d){return xr(E,d)})).apply(this,arguments)}function ds(E,d){return _i.apply(this,arguments)}function _i(){return(_i=(0,p.Z)(function*(E,d){return xr(E,d)})).apply(this,arguments)}function wi(){return(wi=(0,p.Z)(function*(E,d){return xr(E,d)})).apply(this,arguments)}function zi(){return(zi=(0,p.Z)(function*(E,d){return _n(E,"POST","/v1/accounts:signInWithEmailLink",ft(E,d))})).apply(this,arguments)}function Si(){return(Si=(0,p.Z)(function*(E,d){return _n(E,"POST","/v1/accounts:signInWithEmailLink",ft(E,d))})).apply(this,arguments)}class bi extends Ot{constructor(d,g,D,z=null){super("password",D),this._email=d,this._password=g,this._tenantId=z}static _fromEmailAndPassword(d,g){return new bi(d,g,"password")}static _fromEmailAndCode(d,g,D=null){return new bi(d,g,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,p.Z)(function*(){var D;switch(g.signInMethod){case"password":const z={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=d._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const oe=yield ai(d,z,"signInWithPassword");return di(d,oe)}return di(d,z).catch(function(){var oe=(0,p.Z)(function*(Ve){if("auth/missing-recaptcha-token"===Ve.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const vt=yield ai(d,z,"signInWithPassword");return di(d,vt)}return Promise.reject(Ve)});return function(Ve){return oe.apply(this,arguments)}}());case"emailLink":return function Hi(E,d){return zi.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:Qe(d,"internal-error")}})()}_linkToIdToken(d,g){var D=this;return(0,p.Z)(function*(){switch(D.signInMethod){case"password":return On(d,{idToken:g,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Gi(E,d){return Si.apply(this,arguments)}(d,{idToken:g,email:D._email,oobCode:D._password});default:Qe(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function hs(E,d){return Er.apply(this,arguments)}function Er(){return(Er=(0,p.Z)(function*(E,d){return _n(E,"POST","/v1/accounts:signInWithIdp",ft(E,d))})).apply(this,arguments)}class xi extends Ot{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new xi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):Qe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:z}=g,oe=(0,Ie._T)(g,["providerId","signInMethod"]);if(!D||!z)return null;const Ve=new xi(D,z);return Ve.idToken=oe.idToken||void 0,Ve.accessToken=oe.accessToken||void 0,Ve.secret=oe.secret,Ve.nonce=oe.nonce,Ve.pendingToken=oe.pendingToken||null,Ve}_getIdTokenResponse(d){return hs(d,this.buildRequest())}_linkToIdToken(d,g){const D=this.buildRequest();return D.idToken=g,hs(d,D)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,hs(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,W.xO)(g)}return d}}function As(){return(As=(0,p.Z)(function*(E,d){return Ft(E,"POST","/v1/accounts:sendVerificationCode",ft(E,d))})).apply(this,arguments)}function bo(){return(bo=(0,p.Z)(function*(E,d){return _n(E,"POST","/v1/accounts:signInWithPhoneNumber",ft(E,d))})).apply(this,arguments)}function Fs(){return(Fs=(0,p.Z)(function*(E,d){const g=yield _n(E,"POST","/v1/accounts:signInWithPhoneNumber",ft(E,d));if(g.temporaryProof)throw Vn(E,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ro={USER_NOT_FOUND:"user-not-found"};function es(){return(es=(0,p.Z)(function*(E,d){return _n(E,"POST","/v1/accounts:signInWithPhoneNumber",ft(E,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ro)})).apply(this,arguments)}class os extends Ot{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new os({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new os({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function ss(E,d){return bo.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function Ro(E,d){return Fs.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Ls(E,d){return es.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:D,verificationCode:z}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:D,code:z}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:D,phoneNumber:z,temporaryProof:oe}=d;return D||g||z||oe?new os({verificationId:g,verificationCode:D,phoneNumber:z,temporaryProof:oe}):null}}class Oi{constructor(d){var g,D,z,oe,Ve,vt;const en=(0,W.zd)((0,W.pd)(d)),In=null!==(g=en.apiKey)&&void 0!==g?g:null,zn=null!==(D=en.oobCode)&&void 0!==D?D:null,Tr=function Ss(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=en.mode)&&void 0!==z?z:null);Ue(In&&zn&&Tr,"argument-error"),this.apiKey=In,this.operation=Tr,this.code=zn,this.continueUrl=null!==(oe=en.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(Ve=en.languageCode)&&void 0!==Ve?Ve:null,this.tenantId=null!==(vt=en.tenantId)&&void 0!==vt?vt:null}static parseLink(d){const g=function po(E){const d=(0,W.zd)((0,W.pd)(E)).link,g=d?(0,W.zd)((0,W.pd)(d)).deep_link_id:null,D=(0,W.zd)((0,W.pd)(E)).deep_link_id;return(D?(0,W.zd)((0,W.pd)(D)).link:null)||D||g||d||E}(d);try{return new Oi(g)}catch{return null}}}let q=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(g,D){return bi._fromEmailAndPassword(g,D)}static credentialWithLink(g,D){const z=Oi.parseLink(D);return Ue(z,"argument-error"),bi._fromEmailAndCode(g,z.code,z.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ge{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Ce extends ge{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Le extends Ce{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return Ue("providerId"in g&&"signInMethod"in g,"argument-error"),xi._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Ue(d.idToken||d.accessToken,"argument-error"),xi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Le.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Le.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:D,oauthTokenSecret:z,pendingToken:oe,nonce:Ve,providerId:vt}=d;if(!D&&!z&&!g&&!oe||!vt)return null;try{return new Le(vt)._credential({idToken:g,accessToken:D,nonce:Ve,pendingToken:oe})}catch{return null}}}let bt=(()=>{class E extends Ce{constructor(){super("facebook.com")}static credential(g){return xi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Bt=(()=>{class E extends Ce{constructor(){super("google.com"),this.addScope("profile")}static credential(g,D){return xi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:D})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:D,oauthAccessToken:z}=g;if(!D&&!z)return null;try{return E.credential(D,z)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),wn=(()=>{class E extends Ce{constructor(){super("github.com")}static credential(g){return xi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Hn extends Ot{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return hs(d,this.buildRequest())}_linkToIdToken(d,g){const D=this.buildRequest();return D.idToken=g,hs(d,D)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,hs(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:z,pendingToken:oe}=g;return D&&z&&oe&&D===z?new Hn(D,oe):null}static _create(d,g){return new Hn(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $r extends ge{constructor(d){Ue(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return $r.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return $r.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=Hn.fromJSON(d);return Ue(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:D}=d;if(!g||!D)return null;try{return Hn._create(D,g)}catch{return null}}}let Qr=(()=>{class E extends Ce{constructor(){super("twitter.com")}static credential(g,D){return xi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:D})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:D,oauthTokenSecret:z}=g;if(!D||!z)return null;try{return E.credential(D,z)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function zr(E,d){return kr.apply(this,arguments)}function kr(){return(kr=(0,p.Z)(function*(E,d){return _n(E,"POST","/v1/accounts:signUp",ft(E,d))})).apply(this,arguments)}class lr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,D,z=!1){return(0,p.Z)(function*(){const oe=yield gr._fromIdTokenResponse(d,D,z),Ve=Mr(D);return new lr({user:oe,providerId:Ve,_tokenResponse:D,operationType:g})})()}static _forOperation(d,g,D){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(D,!0);const z=Mr(D);return new lr({user:d,providerId:z,_tokenResponse:D,operationType:g})})()}}function Mr(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function gi(E){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,p.Z)(function*(E){var d;const g=br(E);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new lr({user:g.currentUser,providerId:null,operationType:"signIn"});const D=yield zr(g,{returnSecureToken:!0}),z=yield lr._fromIdTokenResponse(g,"signIn",D,!0);return yield g._updateCurrentUser(z.user),z})).apply(this,arguments)}class Gr extends W.ZR{constructor(d,g,D,z){var oe;super(g.code,g.message),this.operationType=D,this.user=z,Object.setPrototypeOf(this,Gr.prototype),this.customData={appName:d.name,tenantId:null!==(oe=d.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:g.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(d,g,D,z){return new Gr(d,g,D,z)}}function Vr(E,d,g,D){return("reauthenticate"===d?g._getReauthenticationResolver(E):g._getIdTokenResponse(E)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?Gr._fromErrorAndOperation(E,oe,d,D):oe})}function Wr(E){return new Set(E.map(({providerId:d})=>d).filter(d=>!!d))}function Rr(E,d){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,p.Z)(function*(E,d){const g=(0,W.m9)(E);yield Us(!0,g,d);const{providerUserInfo:D}=yield function yr(E,d){return De.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),z=Wr(D||[]);return g.providerData=g.providerData.filter(oe=>z.has(oe.providerId)),z.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Vs.apply(this,arguments)}function hi(E,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,p.Z)(function*(E,d,g=!1){const D=yield ln(E,d._linkToIdToken(E.auth,yield E.getIdToken()),g);return lr._forOperation(E,"link",D)})).apply(this,arguments)}function Us(E,d,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(E,d,g){yield or(d);const z=!1===E?"provider-already-linked":"no-such-provider";Ue(Wr(d.providerData).has(g)===E,d.auth,z)})).apply(this,arguments)}function qo(E,d){return as.apply(this,arguments)}function as(){return(as=(0,p.Z)(function*(E,d,g=!1){const{auth:D}=E,z="reauthenticate";try{const oe=yield ln(E,Vr(D,z,d,E),g);Ue(oe.idToken,D,"internal-error");const Ve=An(oe.idToken);Ue(Ve,D,"internal-error");const{sub:vt}=Ve;return Ue(E.uid===vt,D,"user-mismatch"),lr._forOperation(E,z,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&Qe(D,"user-mismatch"),oe}})).apply(this,arguments)}function Bs(E,d){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,p.Z)(function*(E,d,g=!1){const D="signIn",z=yield Vr(E,D,d),oe=yield lr._fromIdTokenResponse(E,D,z);return g||(yield E._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function Nn(E,d){return io.apply(this,arguments)}function io(){return(io=(0,p.Z)(function*(E,d){return Bs(br(E),d)})).apply(this,arguments)}function Ko(E,d){return Po.apply(this,arguments)}function Po(){return(Po=(0,p.Z)(function*(E,d){const g=(0,W.m9)(E);return yield Us(!1,g,d.providerId),hi(g,d)})).apply(this,arguments)}function xs(E,d){return fs.apply(this,arguments)}function fs(){return(fs=(0,p.Z)(function*(E,d){return qo((0,W.m9)(E),d)})).apply(this,arguments)}function Oo(){return(Oo=(0,p.Z)(function*(E,d){return _n(E,"POST","/v1/accounts:signInWithCustomToken",ft(E,d))})).apply(this,arguments)}function so(E,d){return x.apply(this,arguments)}function x(){return x=(0,p.Z)(function*(E,d){const g=br(E),D=yield function oa(E,d){return Oo.apply(this,arguments)}(g,{token:d,returnSecureToken:!0}),z=yield lr._fromIdTokenResponse(g,"signIn",D);return yield g._updateCurrentUser(z.user),z}),x.apply(this,arguments)}class O{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?R._fromServerResponse(d,g):"totpInfo"in g?X._fromServerResponse(d,g):Qe(d,"internal-error")}}class R extends O{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new R(g)}}class X extends O{constructor(d){super("totp",d)}static _fromServerResponse(d,g){return new X(g)}}function Ye(E,d,g){var D;Ue((null===(D=g.url)||void 0===D?void 0:D.length)>0,E,"invalid-continue-uri"),Ue(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ue(g.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(Ue(g.android.packageName.length>0,E,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function mn(E,d,g){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,p.Z)(function*(E,d,g){var D;const z=br(E),oe={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=z._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const Ve=yield ai(z,oe,"getOobCode",!0);g&&Ye(z,Ve,g),yield Xi(z,Ve)}else g&&Ye(z,oe,g),yield Xi(z,oe).catch(function(){var Ve=(0,p.Z)(function*(vt){if("auth/missing-recaptcha-token"!==vt.code)return Promise.reject(vt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const en=yield ai(z,oe,"getOobCode",!0);g&&Ye(z,en,g),yield Xi(z,en)}});return function(vt){return Ve.apply(this,arguments)}}())}),Pr.apply(this,arguments)}function ni(E,d,g){return ps.apply(this,arguments)}function ps(){return(ps=(0,p.Z)(function*(E,d,g){yield xn((0,W.m9)(E),{oobCode:d,newPassword:g})})).apply(this,arguments)}function Ms(E,d){return _s.apply(this,arguments)}function _s(){return _s=(0,p.Z)(function*(E,d){yield function vi(E,d){return Hr.apply(this,arguments)}((0,W.m9)(E),{oobCode:d})}),_s.apply(this,arguments)}function Ni(E,d){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,p.Z)(function*(E,d){const g=(0,W.m9)(E),D=yield xn(g,{oobCode:d}),z=D.requestType;switch(Ue(z,g,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(D.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(D.mfaInfo,g,"internal-error");default:Ue(D.email,g,"internal-error")}let oe=null;return D.mfaInfo&&(oe=O._fromServerResponse(br(g),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:oe},operation:z}})).apply(this,arguments)}function mi(E,d){return us.apply(this,arguments)}function us(){return(us=(0,p.Z)(function*(E,d){const{data:g}=yield Ni((0,W.m9)(E),d);return g.email})).apply(this,arguments)}function oo(E,d,g){return $s.apply(this,arguments)}function $s(){return $s=(0,p.Z)(function*(E,d,g){var D;const z=br(E),oe={returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"};let Ve;if(null!==(D=z._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const In=yield ai(z,oe,"signUpPassword");Ve=zr(z,In)}else Ve=zr(z,oe).catch(function(){var In=(0,p.Z)(function*(zn){if("auth/missing-recaptcha-token"===zn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Tr=yield ai(z,oe,"signUpPassword");return zr(z,Tr)}return Promise.reject(zn)});return function(zn){return In.apply(this,arguments)}}());const vt=yield Ve.catch(In=>Promise.reject(In)),en=yield lr._fromIdTokenResponse(z,"signIn",vt);return yield z._updateCurrentUser(en.user),en}),$s.apply(this,arguments)}function ws(E,d,g){return Nn((0,W.m9)(E),q.credential(d,g))}function Zo(E,d,g){return ki.apply(this,arguments)}function ki(){return ki=(0,p.Z)(function*(E,d,g){var D;const z=br(E),oe={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Ve(vt,en){Ue(en.handleCodeInApp,z,"argument-error"),en&&Ye(z,vt,en)}if(null!==(D=z._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const vt=yield ai(z,oe,"getOobCode",!0);Ve(vt,g),yield ds(z,vt)}else Ve(oe,g),yield ds(z,oe).catch(function(){var vt=(0,p.Z)(function*(en){if("auth/missing-recaptcha-token"!==en.code)return Promise.reject(en);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const In=yield ai(z,oe,"getOobCode",!0);Ve(In,g),yield ds(z,In)}});return function(en){return vt.apply(this,arguments)}}())}),ki.apply(this,arguments)}function _a(E,d){return"EMAIL_SIGNIN"===Oi.parseLink(d)?.operation}function Fa(E,d,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,p.Z)(function*(E,d,g){const D=(0,W.m9)(E),z=q.credentialWithLink(d,g||kt());return Ue(z._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Nn(D,z)})).apply(this,arguments)}function ts(){return(ts=(0,p.Z)(function*(E,d){return Ft(E,"POST","/v1/accounts:createAuthUri",ft(E,d))})).apply(this,arguments)}function ko(E,d){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,p.Z)(function*(E,d){const D={identifier:d,continueUri:Lt()?kt():"http://localhost"},{signinMethods:z}=yield function No(E,d){return ts.apply(this,arguments)}((0,W.m9)(E),D);return z||[]}),Ar.apply(this,arguments)}function La(E,d){return go.apply(this,arguments)}function go(){return go=(0,p.Z)(function*(E,d){const g=(0,W.m9)(E),z={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};d&&Ye(g.auth,z,d);const{email:oe}=yield function qs(E,d){return rs.apply(this,arguments)}(g.auth,z);oe!==E.email&&(yield E.reload())}),go.apply(this,arguments)}function Rs(E,d,g){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,p.Z)(function*(E,d,g){const D=(0,W.m9)(E),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:d};g&&Ye(D.auth,oe,g);const{email:Ve}=yield function vs(E,d){return wi.apply(this,arguments)}(D.auth,oe);Ve!==E.email&&(yield E.reload())}),Fo.apply(this,arguments)}function ns(){return(ns=(0,p.Z)(function*(E,d){return Ft(E,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Lo(E,d){return Co.apply(this,arguments)}function Co(){return Co=(0,p.Z)(function*(E,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const D=(0,W.m9)(E),oe={idToken:yield D.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},Ve=yield ln(D,function mo(E,d){return ns.apply(this,arguments)}(D.auth,oe));D.displayName=Ve.displayName||null,D.photoURL=Ve.photoUrl||null;const vt=D.providerData.find(({providerId:en})=>"password"===en);vt&&(vt.displayName=D.displayName,vt.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Ve)}),Co.apply(this,arguments)}function gs(E,d){return qr((0,W.m9)(E),d,null)}function Jr(E,d){return qr((0,W.m9)(E),null,d)}function qr(E,d,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,p.Z)(function*(E,d,g){const{auth:D}=E,oe={idToken:yield E.getIdToken(),returnSecureToken:!0};d&&(oe.email=d),g&&(oe.password=g);const Ve=yield ln(E,On(D,oe));yield E._updateTokensIfNecessary(Ve,!0)})).apply(this,arguments)}class Ys{constructor(d,g,D={}){this.isNewUser=d,this.providerId=g,this.profile=D}}class Uo extends Ys{constructor(d,g,D,z){super(d,g,D),this.username=z}}class tu extends Ys{constructor(d,g){super(d,"facebook.com",g)}}class Zi extends Uo{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Ci extends Ys{constructor(d,g){super(d,"google.com",g)}}class aa extends Uo{constructor(d,g,D){super(d,"twitter.com",g,D)}}function Yo(E){const{user:d,_tokenResponse:g}=E;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Vo(E){var d,g;if(!E)return null;const{providerId:D}=E,z=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},oe=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!D&&E?.idToken){const Ve=null===(g=null===(d=An(E.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ve)return new Ys(oe,"anonymous"!==Ve&&"custom"!==Ve?Ve:null)}if(!D)return null;switch(D){case"facebook.com":return new tu(oe,z);case"github.com":return new Zi(oe,z);case"google.com":return new Ci(oe,z);case"twitter.com":return new aa(oe,z,E.screenName||null);case"custom":case"anonymous":return new Ys(oe,null);default:return new Ys(oe,D,z)}}(g)}class Ge{constructor(d,g,D){this.type=d,this.credential=g,this.auth=D}static _fromIdtoken(d,g){return new Ge("enroll",d,g)}static _fromMfaPendingCredential(d){return new Ge("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,D;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ge._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(D=d.multiFactorSession)&&void 0!==D&&D.idToken)return Ge._fromIdtoken(d.multiFactorSession.idToken)}return null}}class qt{constructor(d,g,D){this.session=d,this.hints=g,this.signInResolver=D}static _fromError(d,g){const D=br(d),z=g.customData._serverResponse,oe=(z.mfaInfo||[]).map(vt=>O._fromServerResponse(D,vt));Ue(z.mfaPendingCredential,D,"internal-error");const Ve=Ge._fromMfaPendingCredential(z.mfaPendingCredential);return new qt(Ve,oe,function(){var vt=(0,p.Z)(function*(en){const In=yield en._process(D,Ve);delete z.mfaInfo,delete z.mfaPendingCredential;const zn=Object.assign(Object.assign({},z),{idToken:In.idToken,refreshToken:In.refreshToken});switch(g.operationType){case"signIn":const Tr=yield lr._fromIdTokenResponse(D,g.operationType,zn);return yield D._updateCurrentUser(Tr.user),Tr;case"reauthenticate":return Ue(g.user,D,"internal-error"),lr._forOperation(g.user,g.operationType,zn);default:Qe(D,"internal-error")}});return function(en){return vt.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,p.Z)(function*(){return g.signInResolver(d)})()}}function En(E,d){var g;const D=(0,W.m9)(E),z=d;return Ue(d.customData.operationType,D,"argument-error"),Ue(null===(g=z.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,D,"argument-error"),qt._fromError(D,z)}class un{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(D=>O._fromServerResponse(d.auth,D)))})}static _fromUser(d){return new un(d)}getSession(){var d=this;return(0,p.Z)(function*(){return Ge._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var D=this;return(0,p.Z)(function*(){const z=d,oe=yield D.getSession(),Ve=yield ln(D.user,z._process(D.user.auth,oe,g));return yield D.user._updateTokensIfNecessary(Ve),D.user.reload()})()}unenroll(d){var g=this;return(0,p.Z)(function*(){const D="string"==typeof d?d:d.uid,z=yield g.user.getIdToken();try{const oe=yield ln(g.user,function Es(E,d){return Ft(E,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(E,d))}(g.user.auth,{idToken:z,mfaEnrollmentId:D}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ve})=>Ve!==D),yield g.user._updateTokensIfNecessary(oe),yield g.user.reload()}catch(oe){throw oe}})()}}const cn=new WeakMap;function Qs(E){const d=(0,W.m9)(E);return cn.has(d)||cn.set(d,un._fromUser(d)),cn.get(d)}const Kt="__sak";class at{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Kt,"1"),this.storage.removeItem(Kt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const bu=(()=>{class E extends at{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,D)=>this.onStorageEvent(g,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Nt(){const E=(0,W.z$)();return ie(E)||xe(E)}()&&function ar(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const D of Object.keys(this.listeners)){const z=this.storage.getItem(D),oe=this.localCache[D];z!==oe&&g(D,oe,z)}}onStorageEvent(g,D=!1){if(!g.key)return void this.forAllChangedKeys((vt,en,In)=>{this.notifyListeners(vt,In)});const z=g.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const vt=this.storage.getItem(z);if(g.newValue!==vt)null!==g.newValue?this.storage.setItem(z,g.newValue):this.storage.removeItem(z);else if(this.localCache[z]===g.newValue&&!D)return}const oe=()=>{const vt=this.storage.getItem(z);!D&&this.localCache[z]===vt||this.notifyListeners(z,vt)},Ve=this.storage.getItem(z);!function fn(){return(0,W.w1)()&&10===document.documentMode}()||Ve===g.newValue||g.newValue===g.oldValue?oe():setTimeout(oe,10)}notifyListeners(g,D){this.localCache[g]=D;const z=this.listeners[g];if(z)for(const oe of Array.from(z))oe(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,D,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:D,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(D)}_removeListener(g,D){this.listeners[g]&&(this.listeners[g].delete(D),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,D){var z=()=>super._set,oe=this;return(0,p.Z)(function*(){yield z().call(oe,g,D),oe.localCache[g]=JSON.stringify(D)})()}_get(g){var D=()=>super._get,z=this;return(0,p.Z)(function*(){const oe=yield D().call(z,g);return z.localCache[g]=JSON.stringify(oe),oe})()}_remove(g){var D=()=>super._remove,z=this;return(0,p.Z)(function*(){yield D().call(z,g),delete z.localCache[g]})()}}return E.type="LOCAL",E})(),yo=(()=>{class E extends at{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,D){}_removeListener(g,D){}}return E.type="SESSION",E})();let Cu=(()=>{class E{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const D=this.receivers.find(oe=>oe.isListeningto(g));if(D)return D;const z=new E(g);return this.receivers.push(z),z}isListeningto(g){return this.eventTarget===g}handleEvent(g){var D=this;return(0,p.Z)(function*(){const z=g,{eventId:oe,eventType:Ve,data:vt}=z.data,en=D.handlersMap[Ve];if(!en?.size)return;z.ports[0].postMessage({status:"ack",eventId:oe,eventType:Ve});const In=Array.from(en).map(function(){var Tr=(0,p.Z)(function*(wo){return wo(z.origin,vt)});return function(wo){return Tr.apply(this,arguments)}}()),zn=yield function bc(E){return Promise.all(E.map(function(){var d=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(D){return{fulfilled:!1,reason:D}}});return function(g){return d.apply(this,arguments)}}()))}(In);z.ports[0].postMessage({status:"done",eventId:oe,eventType:Ve,response:zn})})()}_subscribe(g,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(D)}_unsubscribe(g,D){this.handlersMap[g]&&D&&this.handlersMap[g].delete(D),(!D||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Qo(E="",d=10){let g="";for(let D=0;D<d;D++)g+=Math.floor(10*Math.random());return E+g}class Cc{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,D=50){var z=this;return(0,p.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let Ve,vt;return new Promise((en,In)=>{const zn=Qo("",20);oe.port1.start();const Tr=setTimeout(()=>{In(new Error("unsupported_event"))},D);vt={messageChannel:oe,onMessage(wo){const pu=wo;if(pu.data.eventId===zn)switch(pu.data.status){case"ack":clearTimeout(Tr),Ve=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ve),en(pu.data.response);break;default:clearTimeout(Tr),clearTimeout(Ve),In(new Error("invalid_response"))}}},z.handlers.add(vt),oe.port1.addEventListener("message",vt.onMessage),z.target.postMessage({eventType:d,eventId:zn,data:g},[oe.port2])}).finally(()=>{vt&&z.removeMessageHandler(vt)})})()}}function Mi(){return window}function sr(){return typeof Mi().WorkerGlobalScope<"u"&&"function"==typeof Mi().importScripts}function ru(){return(ru=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Li="firebaseLocalStorageDb",tr=1,Ri="firebaseLocalStorage",Ii="fbase_key";class nn{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ua(E,d){return E.transaction([Ri],d?"readwrite":"readonly").objectStore(Ri)}function la(){const E=indexedDB.open(Li,tr);return new Promise((d,g)=>{E.addEventListener("error",()=>{g(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore(Ri,{keyPath:Ii})}catch(z){g(z)}}),E.addEventListener("success",(0,p.Z)(function*(){const D=E.result;D.objectStoreNames.contains(Ri)?d(D):(D.close(),yield function Xo(){const E=indexedDB.deleteDatabase(Li);return new nn(E).toPromise()}(),d(yield la()))}))})}function fl(E,d,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,p.Z)(function*(E,d,g){const D=ua(E,!0).put({[Ii]:d,value:g});return new nn(D).toPromise()})).apply(this,arguments)}function Do(){return(Do=(0,p.Z)(function*(E,d){const g=ua(E,!1).get(d),D=yield new nn(g).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Is(E,d){const g=ua(E,!0).delete(d);return new nn(g).toPromise()}const iu=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield la()),g.db})()}_withRetries(g){var D=this;return(0,p.Z)(function*(){let z=0;for(;;)try{const oe=yield D._openDb();return yield g(oe)}catch(oe){if(z++>3)throw oe;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return sr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Cu._getInstance(function Fn(){return sr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var D=(0,p.Z)(function*(z,oe){return{keyProcessed:(yield g._poll()).includes(oe.key)}});return function(z,oe){return D.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var D=(0,p.Z)(function*(z,oe){return["keyChanged"]});return function(z,oe){return D.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var D,z;if(g.activeServiceWorker=yield function Jo(){return ru.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Cc(g.activeServiceWorker);const oe=yield g.sender._send("ping",{},800);oe&&null!==(D=oe[0])&&void 0!==D&&D.fulfilled&&null!==(z=oe[0])&&void 0!==z&&z.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var D=this;return(0,p.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Di(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:g},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield la();return yield fl(g,Kt,"1"),yield Is(g,Kt),!0}catch{}return!1})()}_withPendingWrite(g){var D=this;return(0,p.Z)(function*(){D.pendingWrites++;try{yield g()}finally{D.pendingWrites--}})()}_set(g,D){var z=this;return(0,p.Z)(function*(){return z._withPendingWrite((0,p.Z)(function*(){return yield z._withRetries(oe=>fl(oe,g,D)),z.localCache[g]=D,z.notifyServiceWorker(g)}))})()}_get(g){var D=this;return(0,p.Z)(function*(){const z=yield D._withRetries(oe=>function Gu(E,d){return Do.apply(this,arguments)}(oe,g));return D.localCache[g]=z,z})()}_remove(g){var D=this;return(0,p.Z)(function*(){return D._withPendingWrite((0,p.Z)(function*(){return yield D._withRetries(z=>Is(z,g)),delete D.localCache[g],D.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const D=yield g._withRetries(Ve=>{const vt=ua(Ve,!1).getAll();return new nn(vt).toPromise()});if(!D)return[];if(0!==g.pendingWrites)return[];const z=[],oe=new Set;for(const{fbase_key:Ve,value:vt}of D)oe.add(Ve),JSON.stringify(g.localCache[Ve])!==JSON.stringify(vt)&&(g.notifyListeners(Ve,vt),z.push(Ve));for(const Ve of Object.keys(g.localCache))g.localCache[Ve]&&!oe.has(Ve)&&(g.notifyListeners(Ve,null),z.push(Ve));return z})()}notifyListeners(g,D){this.localCache[g]=D;const z=this.listeners[g];if(z)for(const oe of Array.from(z))oe(D)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(D)}_removeListener(g,D){this.listeners[g]&&(this.listeners[g].delete(D),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),Js=1e12;class Wu{constructor(d){this.auth=d,this.counter=Js,this._widgets=new Map}render(d,g){const D=this.counter;return this._widgets.set(D,new Ia(d,this.auth.name,g||{})),this.counter++,D}reset(d){var g;const D=d||Js;null===(g=this._widgets.get(D))||void 0===g||g.delete(),this._widgets.delete(D)}getResponse(d){var g;return(null===(g=this._widgets.get(d||Js))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,p.Z)(function*(){var D;return null===(D=g._widgets.get(d||Js))||void 0===D||D.execute(),""})()}}class Ia{constructor(d,g,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof d?document.getElementById(d):d;Ue(z,"argument-error",{appName:g}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ea(E){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<E;D++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gl=Kr("rcb"),$a=new Ke(3e4,6e4);class ta{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Mi().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return Ue(function vd(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(g),d,"argument-error"),this.shouldResolveImmediately(g)&&vn(Mi().grecaptcha)?Promise.resolve(Mi().grecaptcha):new Promise((D,z)=>{const oe=Mi().setTimeout(()=>{z(et(d,"network-request-failed"))},$a.get());Mi()[gl]=()=>{Mi().clearTimeout(oe),delete Mi()[gl];const vt=Mi().grecaptcha;if(!vt||!vn(vt))return void z(et(d,"internal-error"));const en=vt.render;vt.render=(In,zn)=>{const Tr=en(In,zn);return this.counter++,Tr},this.hostLanguage=g,D(vt)},ur(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:gl,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(oe),z(et(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=Mi().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $l{load(d){return(0,p.Z)(function*(){return new Wu(d)})()}clearedOneInstance(){}}const ii="recaptcha",ao={theme:"light",type:"image"};class ca{constructor(d,g=Object.assign({},ao),D){this.parameters=g,this.type=ii,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=br(D),this.isInvisible="invisible"===this.parameters.size,Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof d?document.getElementById(d):d;Ue(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $l:new ta,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),D=d.getAssertedRecaptcha();return D.getResponse(g)||new Promise(oe=>{const Ve=vt=>{vt&&(d.tokenChangeListeners.delete(Ve),oe(vt))};d.tokenChangeListeners.add(Ve),d.isInvisible&&D.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(D=>D(g)),"function"==typeof d)d(g);else if("string"==typeof d){const D=Mi()[d];"function"==typeof D&&D(g)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const D=document.createElement("div");g.appendChild(D),g=D}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){Ue(Lt()&&!sr(),d.auth,"internal-error"),yield function su(){let E=null;return new Promise(d=>{"complete"!==document.readyState?(E=()=>d(),window.addEventListener("load",E)):d()}).catch(d=>{throw E&&window.removeEventListener("load",E),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function pt(E){return qe.apply(this,arguments)}(d.auth);Ue(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class li{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=os._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function na(E,d,g){return ou.apply(this,arguments)}function ou(){return(ou=(0,p.Z)(function*(E,d,g){const D=br(E),z=yield uu(D,d,(0,W.m9)(g));return new li(z,oe=>Nn(D,oe))})).apply(this,arguments)}function js(E,d,g){return da.apply(this,arguments)}function da(){return(da=(0,p.Z)(function*(E,d,g){const D=(0,W.m9)(E);yield Us(!1,D,"phone");const z=yield uu(D.auth,d,(0,W.m9)(g));return new li(z,oe=>Ko(D,oe))})).apply(this,arguments)}function ja(E,d,g){return au.apply(this,arguments)}function au(){return(au=(0,p.Z)(function*(E,d,g){const D=(0,W.m9)(E),z=yield uu(D.auth,d,(0,W.m9)(g));return new li(z,oe=>xs(D,oe))})).apply(this,arguments)}function uu(E,d,g){return Du.apply(this,arguments)}function Du(){return Du=(0,p.Z)(function*(E,d,g){var D;const z=yield g.verify();try{let oe;if(Ue("string"==typeof z,E,"argument-error"),Ue(g.type===ii,E,"argument-error"),oe="string"==typeof d?{phoneNumber:d}:d,"session"in oe){const Ve=oe.session;if("phoneNumber"in oe)return Ue("enroll"===Ve.type,E,"internal-error"),(yield function _r(E,d){return Ft(E,"POST","/v2/accounts/mfaEnrollment:start",ft(E,d))}(E,{idToken:Ve.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{Ue("signin"===Ve.type,E,"internal-error");const vt=(null===(D=oe.multiFactorHint)||void 0===D?void 0:D.uid)||oe.multiFactorUid;return Ue(vt,E,"missing-multi-factor-info"),(yield function To(E,d){return Ft(E,"POST","/v2/accounts/mfaSignIn:start",ft(E,d))}(E,{mfaPendingCredential:Ve.credential,mfaEnrollmentId:vt,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ve}=yield function Ki(E,d){return As.apply(this,arguments)}(E,{phoneNumber:oe.phoneNumber,recaptchaToken:z});return Ve}}finally{g._reset()}}),Du.apply(this,arguments)}function uo(E,d){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,p.Z)(function*(E,d){yield hi((0,W.m9)(E),d)})).apply(this,arguments)}let v=(()=>{class E{constructor(g){this.providerId=E.PROVIDER_ID,this.auth=br(g)}verifyPhoneNumber(g,D){return uu(this.auth,g,(0,W.m9)(D))}static credential(g,D){return os._fromVerification(g,D)}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:D,temporaryProof:z}=g;return D&&z?os._fromTokenResponse(D,z):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function w(E,d){return d?dt(d):(Ue(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class m extends Ot{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return hs(d,this._buildIdpRequest())}_linkToIdToken(d,g){return hs(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return hs(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function A(E){return Bs(E.auth,new m(E),E.bypassAuthState)}function U(E){const{auth:d,user:g}=E;return Ue(g,d,"internal-error"),qo(g,new m(E),E.bypassAuthState)}function Y(E){return re.apply(this,arguments)}function re(){return(re=(0,p.Z)(function*(E){const{auth:d,user:g}=E;return Ue(g,d,"internal-error"),hi(g,new m(E),E.bypassAuthState)})).apply(this,arguments)}class Be{constructor(d,g,D,z,oe=!1){this.auth=d,this.resolver=D,this.user=z,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,p.Z)(function*(D,z){d.pendingPromise={resolve:D,reject:z};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(oe){d.reject(oe)}});return function(D,z){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,p.Z)(function*(){const{urlResponse:D,sessionId:z,postBody:oe,tenantId:Ve,error:vt,type:en}=d;if(vt)return void g.reject(vt);const In={auth:g.auth,requestUri:D,sessionId:z,tenantId:Ve||void 0,postBody:oe||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(en)(In))}catch(zn){g.reject(zn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return A;case"linkViaPopup":case"linkViaRedirect":return Y;case"reauthViaPopup":case"reauthViaRedirect":return U;default:Qe(this.auth,"internal-error")}}resolve(d){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const St=new Ke(2e3,1e4);function Xt(E,d,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,p.Z)(function*(E,d,g){const D=br(E);Tt(E,d,ge);const z=w(D,g);return new ra(D,"signInViaPopup",d,z).executeNotNull()})).apply(this,arguments)}function Ur(E,d,g){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,p.Z)(function*(E,d,g){const D=(0,W.m9)(E);Tt(D.auth,d,ge);const z=w(D.auth,g);return new ra(D.auth,"reauthViaPopup",d,z,D).executeNotNull()})).apply(this,arguments)}function $o(E,d,g){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(E,d,g){const D=(0,W.m9)(E);Tt(D.auth,d,ge);const z=w(D.auth,g);return new ra(D.auth,"linkViaPopup",d,z,D).executeNotNull()})).apply(this,arguments)}let ra=(()=>{class E extends Be{constructor(g,D,z,oe,Ve){super(g,D,oe,Ve),this.provider=z,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const D=yield g.execute();return Ue(D,g.auth,"internal-error"),D})()}onExecution(){var g=this;return(0,p.Z)(function*(){on(1===g.filter.length,"Popup operations only handle one event");const D=Qo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],D),g.authWindow.associatedEvent=D,g.resolver._originValidation(g.auth).catch(z=>{g.reject(z)}),g.resolver._isIframeWebStorageSupported(g.auth,z=>{z||g.reject(et(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const g=()=>{var D,z;this.pollId=null!==(z=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(et(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,St.get())};g()}}return E.currentPopupAction=null,E})();const Xs="pendingRedirect",yi=new Map;class za extends Be{constructor(d,g,D=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,D),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,p.Z)(function*(){let D=yi.get(g.auth._key());if(!D){try{const oe=(yield function ha(E,d){return Tu.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;D=()=>Promise.resolve(oe)}catch(z){D=()=>Promise.reject(z)}yi.set(g.auth._key(),D)}return g.bypassAuthState||yi.set(g.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,D=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(D,d);if("unknown"!==d.type){if(d.eventId){const z=yield D.auth._redirectUserForId(d.eventId);if(z)return D.user=z,g().call(D,d);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Tu(){return(Tu=(0,p.Z)(function*(E,d){const g=lu(d),D=Dc(E);if(!(yield D._isAvailable()))return!1;const z="true"===(yield D._get(g));return yield D._remove(g),z})).apply(this,arguments)}function Ti(E,d){return fa.apply(this,arguments)}function fa(){return(fa=(0,p.Z)(function*(E,d){return Dc(E)._set(lu(d),"true")})).apply(this,arguments)}function ms(){yi.clear()}function Ui(E,d){yi.set(E._key(),d)}function Dc(E){return dt(E._redirectPersistence)}function lu(E){return Jt(Xs,E.config.apiKey,E.name)}function lo(E,d,g){return function Tc(E,d,g){return jl.apply(this,arguments)}(E,d,g)}function jl(){return(jl=(0,p.Z)(function*(E,d,g){const D=br(E);Tt(E,d,ge),yield D._initializationPromise;const z=w(D,g);return yield Ti(z,D),z._openRedirect(D,d,"signInViaRedirect")})).apply(this,arguments)}function bs(E,d,g){return function _d(E,d,g){return Ao.apply(this,arguments)}(E,d,g)}function Ao(){return(Ao=(0,p.Z)(function*(E,d,g){const D=(0,W.m9)(E);Tt(D.auth,d,ge),yield D.auth._initializationPromise;const z=w(D.auth,g);yield Ti(z,D.auth);const oe=yield pa(D);return z._openRedirect(D.auth,d,"reauthViaRedirect",oe)})).apply(this,arguments)}function Yi(E,d,g){return function ba(E,d,g){return Au.apply(this,arguments)}(E,d,g)}function Au(){return(Au=(0,p.Z)(function*(E,d,g){const D=(0,W.m9)(E);Tt(D.auth,d,ge),yield D.auth._initializationPromise;const z=w(D.auth,g);yield Us(!1,D,d.providerId),yield Ti(z,D.auth);const oe=yield pa(D);return z._openRedirect(D.auth,d,"linkViaRedirect",oe)})).apply(this,arguments)}function Hl(E,d){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,p.Z)(function*(E,d){return yield br(E)._initializationPromise,Ac(E,d,!1)})).apply(this,arguments)}function Ac(E,d){return jo.apply(this,arguments)}function jo(){return(jo=(0,p.Z)(function*(E,d,g=!1){const D=br(E),z=w(D,d),Ve=yield new za(D,z,g).execute();return Ve&&!g&&(delete Ve.user._redirectEventId,yield D._persistUserIfCurrent(Ve.user),yield D._setRedirectUser(null,d)),Ve})).apply(this,arguments)}function pa(E){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,p.Z)(function*(E){const d=Qo(`${E.uid}:::`);return E._redirectEventId=d,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),d})).apply(this,arguments)}class Ho{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(d,D)&&(g=!0,this.sendToConsumer(d,D),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function zl(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ma(E);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var D;if(d.error&&!ma(d)){const z=(null===(D=d.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";g.onError(et(this.auth,z))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const D=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&D}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ga(d))}saveEventToCache(d){this.cachedEventUids.add(ga(d)),this.lastProcessedEventTime=Date.now()}}function ga(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(d=>d).join("-")}function ma({type:E,error:d}){return"unknown"===E&&"auth/no-auth-event"===d?.code}function Wa(E){return Su.apply(this,arguments)}function Su(){return(Su=(0,p.Z)(function*(E,d={}){return Ft(E,"GET","/v1/projects",d)})).apply(this,arguments)}const Sc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xu=/^https?/;function Ta(){return(Ta=(0,p.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:d}=yield Wa(E);for(const g of d)try{if(Wl(g))return}catch{}Qe(E,"unauthorized-domain")})).apply(this,arguments)}function Wl(E){const d=kt(),{protocol:g,hostname:D}=new URL(d);if(E.startsWith("chrome-extension://")){const Ve=new URL(E);return""===Ve.hostname&&""===D?"chrome-extension:"===g&&E.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Ve.hostname===D}if(!xu.test(g))return!1;if(Sc.test(E))return D===E;const z=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(D)}const qa=new Ke(3e4,6e4);function cu(){const E=Mi().___jsl;if(E?.H)for(const d of Object.keys(E.H))if(E.H[d].r=E.H[d].r||[],E.H[d].L=E.H[d].L||[],E.H[d].r=[...E.H[d].L],E.CP)for(let g=0;g<E.CP.length;g++)E.CP[g]=null}let qu=null;const wd=new Ke(5e3,15e3),Aa="__/auth/iframe",yl="emulator/auth/iframe",eo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bi(E){const d=E.config;Ue(d.authDomain,E,"auth-domain-config-required");const g=d.emulator?je(d,yl):`https://${E.config.authDomain}/${Aa}`,D={apiKey:d.apiKey,appName:E.name,v:V.SDK_VERSION},z=ql.get(E.config.apiHost);z&&(D.eid=z);const oe=E._getFrameworks();return oe.length&&(D.fw=oe.join(",")),`${g}?${(0,W.xO)(D).slice(1)}`}function vl(){return vl=(0,p.Z)(function*(E){const d=yield function du(E){return qu=qu||function vo(E){return new Promise((d,g)=>{var D,z,oe;function Ve(){cu(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{cu(),g(et(E,"network-request-failed"))},timeout:qa.get()})}if(null!==(z=null===(D=Mi().gapi)||void 0===D?void 0:D.iframes)&&void 0!==z&&z.Iframe)d(gapi.iframes.getContext());else{if(null===(oe=Mi().gapi)||void 0===oe||!oe.load){const vt=Kr("iframefcb");return Mi()[vt]=()=>{gapi.load?Ve():g(et(E,"network-request-failed"))},ur(`https://apis.google.com/js/api.js?onload=${vt}`).catch(en=>g(en))}Ve()}}).catch(d=>{throw qu=null,d})}(E),qu}(E),g=Mi().gapi;return Ue(g,E,"internal-error"),d.open({where:document.body,url:Bi(E),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eo,dontclear:!0},D=>new Promise(function(){var z=(0,p.Z)(function*(oe,Ve){yield D.restyle({setHideOnLeave:!1});const vt=et(E,"network-request-failed"),en=Mi().setTimeout(()=>{Ve(vt)},wd.get());function In(){Mi().clearTimeout(en),oe(D)}D.ping(In).then(In,()=>{Ve(vt)})});return function(oe,Ve){return z.apply(this,arguments)}}()))}),vl.apply(this,arguments)}const b={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M=500,G=600,de="_blank",we="http://localhost";class Te{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rn="__/auth/handler",jn="emulator/auth/handler",dr=encodeURIComponent("fac");function hr(E,d,g,D,z,oe){return to.apply(this,arguments)}function to(){return(to=(0,p.Z)(function*(E,d,g,D,z,oe){Ue(E.config.authDomain,E,"auth-domain-config-required"),Ue(E.config.apiKey,E,"invalid-api-key");const Ve={apiKey:E.config.apiKey,appName:E.name,authType:g,redirectUrl:D,v:V.SDK_VERSION,eventId:z};if(d instanceof ge){d.setDefaultLanguage(E.languageCode),Ve.providerId=d.providerId||"",(0,W.xb)(d.getCustomParameters())||(Ve.customParameters=JSON.stringify(d.getCustomParameters()));for(const[zn,Tr]of Object.entries(oe||{}))Ve[zn]=Tr}if(d instanceof Ce){const zn=d.getScopes().filter(Tr=>""!==Tr);zn.length>0&&(Ve.scopes=zn.join(","))}E.tenantId&&(Ve.tid=E.tenantId);const vt=Ve;for(const zn of Object.keys(vt))void 0===vt[zn]&&delete vt[zn];const en=yield E._getAppCheckToken(),In=en?`#${dr}=${encodeURIComponent(en)}`:"";return`${function Os({config:E}){return E.emulator?je(E,jn):`https://${E.authDomain}/${rn}`}(E)}?${(0,W.xO)(vt).slice(1)}${In}`})).apply(this,arguments)}const hu="webStorageSupport",Mu=class Kl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yo,this._completeRedirectFn=Ac,this._overrideRedirectResult=Ui}_openPopup(d,g,D,z){var oe=this;return(0,p.Z)(function*(){var Ve;on(null===(Ve=oe.eventManagers[d._key()])||void 0===Ve?void 0:Ve.manager,"_initialize() not called before _openPopup()");const vt=yield hr(d,g,D,kt(),z);return function yt(E,d,g,D=M,z=G){const oe=Math.max((window.screen.availHeight-z)/2,0).toString(),Ve=Math.max((window.screen.availWidth-D)/2,0).toString();let vt="";const en=Object.assign(Object.assign({},b),{width:D.toString(),height:z.toString(),top:oe,left:Ve}),In=(0,W.z$)().toLowerCase();g&&(vt=Z(In)?de:g),J(In)&&(d=d||we,en.scrollbars="yes");const zn=Object.entries(en).reduce((wo,[pu,ya])=>`${wo}${pu}=${ya},`,"");if(function Dt(E=(0,W.z$)()){var d;return xe(E)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(In)&&"_self"!==vt)return function hn(E,d){const g=document.createElement("a");g.href=E,g.target=d;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(D)}(d||"",vt),new Te(null);const Tr=window.open(d||"",vt,zn);Ue(Tr,E,"popup-blocked");try{Tr.focus()}catch{}return new Te(Tr)}(d,vt,Qo())})()}_openRedirect(d,g,D,z){var oe=this;return(0,p.Z)(function*(){return yield oe._originValidation(d),function wa(E){Mi().location.href=E}(yield hr(d,g,D,kt(),z)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:z,promise:oe}=this.eventManagers[g];return z?Promise.resolve(z):(on(oe,"If manager is not set, promise should be"),oe)}const D=this.initAndGetManager(d);return this.eventManagers[g]={promise:D},D.catch(()=>{delete this.eventManagers[g]}),D}initAndGetManager(d){var g=this;return(0,p.Z)(function*(){const D=yield function Sa(E){return vl.apply(this,arguments)}(d),z=new Ho(d);return D.register("authEvent",oe=>(Ue(oe?.authEvent,d,"invalid-auth-event"),{status:z.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:z},g.iframes[d._key()]=D,z})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(hu,{type:hu},z=>{var oe;const Ve=null===(oe=z?.[0])||void 0===oe?void 0:oe[hu];void 0!==Ve&&g(!!Ve),Qe(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Gl(E){return Ta.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return pn()||ie()||xe()}};class _o{constructor(d){this.factorId=d}_process(d,g,D){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,D);case"signin":return this._finalizeSignIn(d,g.credential);default:return Pt("unexpected MultiFactorSessionType")}}}class zo extends _o{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new zo(d)}_finalizeEnroll(d,g,D){return function gt(E,d){return Ft(E,"POST","/v2/accounts/mfaEnrollment:finalize",ft(E,d))}(d,{idToken:g,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function Ps(E,d){return Ft(E,"POST","/v2/accounts/mfaSignIn:finalize",ft(E,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zl=(()=>{class E{constructor(){}static assertion(g){return zo._fromCredential(g)}}return E.FACTOR_ID="phone",E})();var Ka="@firebase/auth";class fu{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(D=>{d(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xa=(0,W.Pz)("authIdTokenMaxAge")||300;let bd=null;const wl=E=>function(){var d=(0,p.Z)(function*(g){const D=g&&(yield g.getIdTokenResult()),z=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(z&&z>xa)return;const oe=D?.token;bd!==oe&&(bd=oe,yield fetch(E,{method:oe?"POST":"DELETE",headers:oe?{Authorization:`Bearer ${oe}`}:{}}))});return function(g){return d.apply(this,arguments)}}();function Sh(E=(0,V.getApp)()){const d=(0,V._getProvider)(E,"auth");if(d.isInitialized())return d.getImmediate();const g=function ci(E,d){const g=(0,V._getProvider)(E,"auth");if(g.isInitialized()){const z=g.getImmediate(),oe=g.getOptions();if((0,W.vZ)(oe,d??{}))return z;Qe(z,"already-initialized")}return g.initialize({options:d})}(E,{popupRedirectResolver:Mu,persistence:[iu,bu,yo]}),D=(0,W.Pz)("authTokenSyncURL");if(D){const oe=wl(D);(function N(E,d,g){(0,W.m9)(E).beforeAuthStateChanged(d,g)})(g,oe,()=>oe(g.currentUser)),function j(E,d,g,D){(0,W.m9)(E).onIdTokenChanged(d,g,D)}(g,Ve=>oe(Ve))}const z=(0,W.q4)("auth");return z&&mr(g,`http://${z}`),g}!function Id(E){(0,V._registerComponent)(new te.wA("auth",(d,{options:g})=>{const D=d.getProvider("app").getImmediate(),z=d.getProvider("heartbeat"),oe=d.getProvider("app-check-internal"),{apiKey:Ve,authDomain:vt}=D.options;Ue(Ve&&!Ve.includes(":"),"invalid-api-key",{appName:D.name});const en={apiKey:Ve,authDomain:vt,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vr(E)},In=new Br(D,z,oe,en);return function ji(E,d){const g=d?.persistence||[],D=(Array.isArray(g)?g:[g]).map(dt);d?.errorMap&&E._updateErrorMap(d.errorMap),E._initializeWithPersistence(D,d?.popupRedirectResolver)}(In,g),In},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,D)=>{d.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new te.wA("auth-internal",d=>{const g=br(d.getProvider("auth").getImmediate());return new fu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)(Ka,"0.23.2",function _l(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,V.registerVersion)(Ka,"0.23.2","esm2017")}("Browser")},6961:(Qt,Xe,k)=>{"use strict";k.d(Xe,{$Y:()=>ti,B0:()=>ks,FN:()=>$i,IX:()=>Re,Jt:()=>bo,KV:()=>hs,UJ:()=>Wn,Ym:()=>Ki,a1:()=>es,aF:()=>ss,bm:()=>yn,cF:()=>Ls,g6:()=>ro,gE:()=>He,gH:()=>on,iH:()=>Fs,oq:()=>Ro,pb:()=>As,qm:()=>tn,sd:()=>xi,y4:()=>Lt});var p=k(5861),W=k(6881),V=k(2090),Ie=k(4859);const L="firebasestorage.googleapis.com",te="storageBucket";class he extends V.ZR{constructor(q,ge,Ce=0){super(_e(q),`Firebase Storage: ${ge} (${_e(q)})`),this.status_=Ce,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,he.prototype)}get status(){return this.status_}set status(q){this.status_=q}_codeEquals(q){return _e(q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(q){this.customData.serverResponse=q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var se=(()=>{return(K=se||(se={})).UNKNOWN="unknown",K.OBJECT_NOT_FOUND="object-not-found",K.BUCKET_NOT_FOUND="bucket-not-found",K.PROJECT_NOT_FOUND="project-not-found",K.QUOTA_EXCEEDED="quota-exceeded",K.UNAUTHENTICATED="unauthenticated",K.UNAUTHORIZED="unauthorized",K.UNAUTHORIZED_APP="unauthorized-app",K.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",K.INVALID_CHECKSUM="invalid-checksum",K.CANCELED="canceled",K.INVALID_EVENT_NAME="invalid-event-name",K.INVALID_URL="invalid-url",K.INVALID_DEFAULT_BUCKET="invalid-default-bucket",K.NO_DEFAULT_BUCKET="no-default-bucket",K.CANNOT_SLICE_BLOB="cannot-slice-blob",K.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",K.NO_DOWNLOAD_URL="no-download-url",K.INVALID_ARGUMENT="invalid-argument",K.INVALID_ARGUMENT_COUNT="invalid-argument-count",K.APP_DELETED="app-deleted",K.INVALID_ROOT_OPERATION="invalid-root-operation",K.INVALID_FORMAT="invalid-format",K.INTERNAL_ERROR="internal-error",K.UNSUPPORTED_ENVIRONMENT="unsupported-environment",se;var K})();function _e(K){return"storage/"+K}function Je(){return new he(se.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function mt(){return new he(se.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wt(){return new he(se.CANCELED,"User canceled the upload/download.")}function Tt(){return new he(se.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function on(K){return new he(se.INVALID_ARGUMENT,K)}function kt(){return new he(se.APP_DELETED,"The Firebase app was deleted.")}function Lt(K){return new he(se.INVALID_ROOT_OPERATION,"The operation '"+K+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function At(K,q){return new he(se.INVALID_FORMAT,"String does not match format '"+K+"': "+q)}function nr(K){throw new he(se.INTERNAL_ERROR,"Internal error: "+K)}class He{constructor(q,ge){this.bucket=q,this.path_=ge}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const q=encodeURIComponent;return"/b/"+q(this.bucket)+"/o/"+q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(q,ge){let Ce;try{Ce=He.makeFromUrl(q,ge)}catch{return new He(q,"")}if(""===Ce.path)return Ce;throw function et(K){return new he(se.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+K+"'.")}(q)}static makeFromUrl(q,ge){let Ce=null;const Le="([A-Za-z0-9.\\-_]+)",wn=new RegExp("^gs://"+Le+"(/(.*))?$","i");function Hn(Vr){Vr.path_=decodeURIComponent(Vr.path)}const $r=ge.replace(/[.]/g,"\\."),Gr=[{regex:wn,indices:{bucket:1,path:3},postModify:function bt(Vr){"/"===Vr.path.charAt(Vr.path.length-1)&&(Vr.path_=Vr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${$r}/v[A-Za-z0-9_]+/b/${Le}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Hn},{regex:new RegExp(`^https?://${ge===L?"(?:storage.googleapis.com|storage.cloud.google.com)":ge}/${Le}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Hn}];for(let Vr=0;Vr<Gr.length;Vr++){const Wr=Gr[Vr],Rr=Wr.regex.exec(q);if(Rr){let hi=Rr[Wr.indices.path];hi||(hi=""),Ce=new He(Rr[Wr.indices.bucket],hi),Wr.postModify(Ce);break}}if(null==Ce)throw function Qe(K){return new he(se.INVALID_URL,"Invalid URL '"+K+"'.")}(q);return Ce}}class Ke{constructor(q){this.promise_=Promise.reject(q)}getPromise(){return this.promise_}cancel(q=!1){}}function Ft(K){return"string"==typeof K||K instanceof String}function Ln(K){return Ut()&&K instanceof Blob}function Ut(){return typeof Blob<"u"&&!(0,V.UG)()}function $t(K,q,ge,Ce){if(Ce<q)throw on(`Invalid value for '${K}'. Expected ${q} or greater.`);if(Ce>ge)throw on(`Invalid value for '${K}'. Expected ${ge} or less.`)}function _n(K,q,ge){let Ce=q;return null==ge&&(Ce=`https://${q}`),`${ge}://${Ce}/v0${K}`}function Pn(K){const q=encodeURIComponent;let ge="?";for(const Ce in K)K.hasOwnProperty(Ce)&&(ge=ge+(q(Ce)+"=")+q(K[Ce])+"&");return ge=ge.slice(0,-1),ge}var kn=(()=>{return(K=kn||(kn={}))[K.NO_ERROR=0]="NO_ERROR",K[K.NETWORK_ERROR=1]="NETWORK_ERROR",K[K.ABORT=2]="ABORT",kn;var K})();function Ir(K,q){const ge=K>=500&&K<600,Le=-1!==[408,429].indexOf(K),bt=-1!==q.indexOf(K);return ge||Le||bt}class Vn{constructor(q,ge,Ce,Le,bt,Bt,wn,Dn,Hn,Jn,$r,Qr=!0){this.url_=q,this.method_=ge,this.headers_=Ce,this.body_=Le,this.successCodes_=bt,this.additionalRetryCodes_=Bt,this.callback_=wn,this.errorCallback_=Dn,this.timeout_=Hn,this.progressCallback_=Jn,this.connectionFactory_=$r,this.retry=Qr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((zr,kr)=>{this.resolve_=zr,this.reject_=kr,this.start_()})}start_(){const ge=(Ce,Le)=>{const bt=this.resolve_,Bt=this.reject_,wn=Le.connection;if(Le.wasSuccessCode)try{const Dn=this.callback_(wn,wn.getResponse());!function ht(K){return void 0!==K}(Dn)?bt():bt(Dn)}catch(Dn){Bt(Dn)}else if(null!==wn){const Dn=Je();Dn.serverResponse=wn.getErrorText(),Bt(this.errorCallback_?this.errorCallback_(wn,Dn):Dn)}else Bt(Le.canceled?this.appDelete_?kt():wt():mt())};this.canceled_?ge(0,new rr(!1,null,!0)):this.backoffId_=function je(K,q,ge){let Ce=1,Le=null,bt=null,Bt=!1,wn=0;function Dn(){return 2===wn}let Hn=!1;function Jn(...Mr){Hn||(Hn=!0,q.apply(null,Mr))}function $r(Mr){Le=setTimeout(()=>{Le=null,K(zr,Dn())},Mr)}function Qr(){bt&&clearTimeout(bt)}function zr(Mr,...gi){if(Hn)return void Qr();if(Mr)return Qr(),void Jn.call(null,Mr,...gi);if(Dn()||Bt)return Qr(),void Jn.call(null,Mr,...gi);let Gr;Ce<64&&(Ce*=2),1===wn?(wn=2,Gr=0):Gr=1e3*(Ce+Math.random()),$r(Gr)}let kr=!1;function lr(Mr){kr||(kr=!0,Qr(),!Hn&&(null!==Le?(Mr||(wn=2),clearTimeout(Le),$r(0)):Mr||(wn=1)))}return $r(0),bt=setTimeout(()=>{Bt=!0,lr(!0)},ge),lr}((Ce,Le)=>{if(Le)return void Ce(!1,new rr(!1,null,!0));const bt=this.connectionFactory_();this.pendingConnection_=bt;const Bt=wn=>{null!==this.progressCallback_&&this.progressCallback_(wn.loaded,wn.lengthComputable?wn.total:-1)};null!==this.progressCallback_&&bt.addUploadProgressListener(Bt),bt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&bt.removeUploadProgressListener(Bt),this.pendingConnection_=null;const wn=bt.getErrorCode()===kn.NO_ERROR,Dn=bt.getStatus();if(!wn||Ir(Dn,this.additionalRetryCodes_)&&this.retry){const Jn=bt.getErrorCode()===kn.ABORT;return void Ce(!1,new rr(!1,null,Jn))}const Hn=-1!==this.successCodes_.indexOf(Dn);Ce(!0,new rr(Hn,bt))})},ge,this.timeout_)}getPromise(){return this.promise_}cancel(q){this.canceled_=!0,this.appDelete_=q||!1,null!==this.backoffId_&&function Ze(K){K(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class rr{constructor(q,ge,Ce){this.wasSuccessCode=q,this.connection=ge,this.canceled=!!Ce}}function it(...K){const q=function Pe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==q){const ge=new q;for(let Ce=0;Ce<K.length;Ce++)ge.append(K[Ce]);return ge.getBlob()}if(Ut())return new Blob(K);throw new he(se.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const yn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class An{constructor(q,ge){this.data=q,this.contentType=ge||null}}function tn(K,q){switch(K){case yn.RAW:return new An(ln(q));case yn.BASE64:case yn.BASE64URL:return new An(an(K,q));case yn.DATA_URL:return new An(function Xn(K){const q=new pr(K);return q.base64?an(yn.BASE64,q.rest):function Gt(K){let q;try{q=decodeURIComponent(K)}catch{throw At(yn.DATA_URL,"Malformed data URL.")}return ln(q)}(q.rest)}(q),function or(K){return new pr(K).contentType}(q))}throw Je()}function ln(K){const q=[];for(let ge=0;ge<K.length;ge++){let Ce=K.charCodeAt(ge);Ce<=127?q.push(Ce):Ce<=2047?q.push(192|Ce>>6,128|63&Ce):55296==(64512&Ce)?ge<K.length-1&&56320==(64512&K.charCodeAt(ge+1))?(Ce=65536|(1023&Ce)<<10|1023&K.charCodeAt(++ge),q.push(240|Ce>>18,128|Ce>>12&63,128|Ce>>6&63,128|63&Ce)):q.push(239,191,189):56320==(64512&Ce)?q.push(239,191,189):q.push(224|Ce>>12,128|Ce>>6&63,128|63&Ce)}return new Uint8Array(q)}function an(K,q){switch(K){case yn.BASE64:{const Le=-1!==q.indexOf("-"),bt=-1!==q.indexOf("_");if(Le||bt)throw At(K,"Invalid character '"+(Le?"-":"_")+"' found: is it base64url encoded?");break}case yn.BASE64URL:{const Le=-1!==q.indexOf("+"),bt=-1!==q.indexOf("/");if(Le||bt)throw At(K,"Invalid character '"+(Le?"+":"/")+"' found: is it base64 encoded?");q=q.replace(/-/g,"+").replace(/_/g,"/");break}}let ge;try{ge=function Gn(K){if(typeof atob>"u")throw function Pt(K){return new he(se.UNSUPPORTED_ENVIRONMENT,`${K} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(K)}(q)}catch(Le){throw Le.message.includes("polyfill")?Le:At(K,"Invalid character found")}const Ce=new Uint8Array(ge.length);for(let Le=0;Le<ge.length;Le++)Ce[Le]=ge.charCodeAt(Le);return Ce}class pr{constructor(q){this.base64=!1,this.contentType=null;const ge=q.match(/^data:([^,]+)?,/);if(null===ge)throw At(yn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ce=ge[1]||null;null!=Ce&&(this.base64=function Qn(K,q){return K.length>=q.length&&K.substring(K.length-q.length)===q}(Ce,";base64"),this.contentType=this.base64?Ce.substring(0,Ce.length-7):Ce),this.rest=q.substring(q.indexOf(",")+1)}}class Wn{constructor(q,ge){let Ce=0,Le="";Ln(q)?(this.data_=q,Ce=q.size,Le=q.type):q instanceof ArrayBuffer?(ge?this.data_=new Uint8Array(q):(this.data_=new Uint8Array(q.byteLength),this.data_.set(new Uint8Array(q))),Ce=this.data_.length):q instanceof Uint8Array&&(ge?this.data_=q:(this.data_=new Uint8Array(q.length),this.data_.set(q)),Ce=q.length),this.size_=Ce,this.type_=Le}size(){return this.size_}type(){return this.type_}slice(q,ge){if(Ln(this.data_)){const Le=function Mt(K,q,ge){return K.webkitSlice?K.webkitSlice(q,ge):K.mozSlice?K.mozSlice(q,ge):K.slice?K.slice(q,ge):null}(this.data_,q,ge);return null===Le?null:new Wn(Le)}{const Ce=new Uint8Array(this.data_.buffer,q,ge-q);return new Wn(Ce,!0)}}static getBlob(...q){if(Ut()){const ge=q.map(Ce=>Ce instanceof Wn?Ce.data_:Ce);return new Wn(it.apply(null,ge))}{const ge=q.map(Bt=>Ft(Bt)?tn(yn.RAW,Bt).data:Bt.data_);let Ce=0;ge.forEach(Bt=>{Ce+=Bt.byteLength});const Le=new Uint8Array(Ce);let bt=0;return ge.forEach(Bt=>{for(let wn=0;wn<Bt.length;wn++)Le[bt++]=Bt[wn]}),new Wn(Le,!0)}}uploadData(){return this.data_}}function Sr(K){let q;try{q=JSON.parse(K)}catch{return null}return function ft(K){return"object"==typeof K&&!Array.isArray(K)}(q)?q:null}function Sn(K){const q=K.lastIndexOf("/",K.length-2);return-1===q?K:K.slice(q+1)}function bn(K,q){return q}class Wt{constructor(q,ge,Ce,Le){this.server=q,this.local=ge||q,this.writable=!!Ce,this.xform=Le||bn}}let Zn=null;function $e(){if(Zn)return Zn;const K=[];K.push(new Wt("bucket")),K.push(new Wt("generation")),K.push(new Wt("metageneration")),K.push(new Wt("name","fullPath",!0));const ge=new Wt("name");ge.xform=function q(bt,Bt){return function gr(K){return!Ft(K)||K.length<2?K:Sn(K)}(Bt)},K.push(ge);const Le=new Wt("size");return Le.xform=function Ce(bt,Bt){return void 0!==Bt?Number(Bt):Bt},K.push(Le),K.push(new Wt("timeCreated")),K.push(new Wt("updated")),K.push(new Wt("md5Hash",null,!0)),K.push(new Wt("cacheControl",null,!0)),K.push(new Wt("contentDisposition",null,!0)),K.push(new Wt("contentEncoding",null,!0)),K.push(new Wt("contentLanguage",null,!0)),K.push(new Wt("contentType",null,!0)),K.push(new Wt("metadata","customMetadata",!0)),Zn=K,Zn}function jt(K,q,ge){const Ce=Sr(q);return null===Ce?null:function We(K,q,ge){const Ce={type:"file"},Le=ge.length;for(let bt=0;bt<Le;bt++){const Bt=ge[bt];Ce[Bt.local]=Bt.xform(Ce,q[Bt.server])}return function dt(K,q){Object.defineProperty(K,"ref",{get:function ge(){const bt=new He(K.bucket,K.fullPath);return q._makeStorageReference(bt)}})}(Ce,K),Ce}(K,Ce,ge)}function pe(K,q){const ge={},Ce=q.length;for(let Le=0;Le<Ce;Le++){const bt=q[Le];bt.writable&&(ge[bt.server]=K[bt.local])}return JSON.stringify(ge)}const ce="prefixes",J="items";class be{constructor(q,ge,Ce,Le){this.url=q,this.method=ge,this.handler=Ce,this.timeout=Le,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function le(K){if(!K)throw Je()}function fe(K,q){return function ge(Ce,Le){const bt=jt(K,Le,q);return le(null!==bt),bt}}function nt(K){return function q(ge,Ce){let Le;return Le=401===ge.getStatus()?ge.getErrorText().includes("Firebase App Check token is invalid")?function ot(){return new he(se.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Vt(){return new he(se.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ge.getStatus()?function _t(K){return new he(se.QUOTA_EXCEEDED,"Quota for bucket '"+K+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(K.bucket):403===ge.getStatus()?function It(K){return new he(se.UNAUTHORIZED,"User does not have permission to access '"+K+"'.")}(K.path):Ce,Le.status=ge.getStatus(),Le.serverResponse=Ce.serverResponse,Le}}function Dt(K){const q=nt(K);return function ge(Ce,Le){let bt=q(Ce,Le);return 404===Ce.getStatus()&&(bt=function st(K){return new he(se.OBJECT_NOT_FOUND,"Object '"+K+"' does not exist.")}(K.path)),bt.serverResponse=Le.serverResponse,bt}}function fn(K,q,ge){const Le=_n(q.fullServerUrl(),K.host,K._protocol),Bt=K.maxOperationRetryTime,wn=new be(Le,"GET",fe(K,ge),Bt);return wn.errorHandler=Dt(q),wn}function pn(K,q,ge,Ce,Le){const bt={};bt.prefix=q.isRoot?"":q.path+"/",ge&&ge.length>0&&(bt.delimiter=ge),Ce&&(bt.pageToken=Ce),Le&&(bt.maxResults=Le);const wn=_n(q.bucketOnlyServerUrl(),K.host,K._protocol),Hn=K.maxOperationRetryTime,Jn=new be(wn,"GET",function ae(K,q){return function ge(Ce,Le){const bt=function Z(K,q,ge){const Ce=Sr(ge);return null===Ce?null:function ie(K,q,ge){const Ce={prefixes:[],items:[],nextPageToken:ge.nextPageToken};if(ge[ce])for(const Le of ge[ce]){const bt=Le.replace(/\/$/,""),Bt=K._makeStorageReference(new He(q,bt));Ce.prefixes.push(Bt)}if(ge[J])for(const Le of ge[J]){const bt=K._makeStorageReference(new He(q,Le.name));Ce.items.push(bt)}return Ce}(K,q,Ce)}(K,q,Le);return le(null!==bt),bt}}(K,q.bucket),Hn);return Jn.urlParams=bt,Jn.errorHandler=nt(q),Jn}function gn(K,q,ge){const Ce=Object.assign({},ge);return Ce.fullPath=K.path,Ce.size=q.size(),Ce.contentType||(Ce.contentType=function Rt(K,q){return K&&K.contentType||q&&q.type()||"application/octet-stream"}(null,q)),Ce}function vn(K,q,ge,Ce,Le){const bt=q.bucketOnlyServerUrl(),Bt={"X-Goog-Upload-Protocol":"multipart"},Dn=function wn(){let Gr="";for(let Vr=0;Vr<2;Vr++)Gr+=Math.random().toString().slice(2);return Gr}();Bt["Content-Type"]="multipart/related; boundary="+Dn;const Hn=gn(q,Ce,Le),Jn=pe(Hn,ge),zr=Wn.getBlob("--"+Dn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Jn+"\r\n--"+Dn+"\r\nContent-Type: "+Hn.contentType+"\r\n\r\n",Ce,"\r\n--"+Dn+"--");if(null===zr)throw Tt();const kr={name:Hn.fullPath},lr=_n(bt,K.host,K._protocol),gi=K.maxUploadRetryTime,Fr=new be(lr,"POST",fe(K,ge),gi);return Fr.urlParams=kr,Fr.headers=Bt,Fr.body=zr.uploadData(),Fr.errorHandler=nt(q),Fr}class Kn{constructor(q,ge,Ce,Le){this.current=q,this.total=ge,this.finalized=!!Ce,this.metadata=Le||null}}function Cn(K,q){let ge=null;try{ge=K.getResponseHeader("X-Goog-Upload-Status")}catch{le(!1)}return le(!!ge&&-1!==(q||["active"]).indexOf(ge)),ge}const $i={STATE_CHANGED:"state_changed"},ti={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jr(K){switch(K){case"running":case"pausing":case"canceling":return ti.RUNNING;case"paused":return ti.PAUSED;case"success":return ti.SUCCESS;case"canceled":return ti.CANCELED;default:return ti.ERROR}}class ai{constructor(q,ge,Ce){if(function ze(K){return"function"==typeof K}(q)||null!=ge||null!=Ce)this.next=q,this.error=ge??void 0,this.complete=Ce??void 0;else{const bt=q;this.next=bt.next,this.error=bt.error,this.complete=bt.complete}}}function Zt(K){return(...q)=>{Promise.resolve().then(()=>K(...q))}}let Bn=null;class Br{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kn.NO_ERROR,this.sendPromise_=new Promise(q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=kn.ABORT,q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=kn.NETWORK_ERROR,q()}),this.xhr_.addEventListener("load",()=>{q()})})}send(q,ge,Ce,Le){if(this.sent_)throw nr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ge,q,!0),void 0!==Le)for(const bt in Le)Le.hasOwnProperty(bt)&&this.xhr_.setRequestHeader(bt,Le[bt].toString());return void 0!==Ce?this.xhr_.send(Ce):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nr("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(q){return this.xhr_.getResponseHeader(q)}addUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",q)}removeUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",q)}}class br extends Br{initXhr(){this.xhr_.responseType="text"}}function Yr(){return Bn?Bn():new br}class Re{constructor(q,ge,Ce=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=q,this._blob=ge,this._metadata=Ce,this._mappings=$e(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Le=>{if(this._request=void 0,this._chunkMultiplier=1,Le._codeEquals(se.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const bt=this.isExponentialBackoffExpired();if(Ir(Le.status,[])){if(!bt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Le=mt()}this._error=Le,this._transition("error")}},this._metadataErrorHandler=Le=>{this._request=void 0,Le._codeEquals(se.CANCELED)?this.completeTransitions_():(this._error=Le,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Le,bt)=>{this._resolve=Le,this._reject=bt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const q=this._transferred;return ge=>this._updateProgress(q+ge)}_shouldDoResumable(q){return q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ge,Ce])=>{switch(this._state){case"running":q(ge,Ce);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((q,ge)=>{const Ce=function Yn(K,q,ge,Ce,Le){const bt=q.bucketOnlyServerUrl(),Bt=gn(q,Ce,Le),wn={name:Bt.fullPath},Dn=_n(bt,K.host,K._protocol),Jn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ce.size()}`,"X-Goog-Upload-Header-Content-Type":Bt.contentType,"Content-Type":"application/json; charset=utf-8"},$r=pe(Bt,ge),kr=new be(Dn,"POST",function zr(lr){let Mr;Cn(lr);try{Mr=lr.getResponseHeader("X-Goog-Upload-URL")}catch{le(!1)}return le(Ft(Mr)),Mr},K.maxUploadRetryTime);return kr.urlParams=wn,kr.headers=Jn,kr.body=$r,kr.errorHandler=nt(q),kr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Le=this._ref.storage._makeRequest(Ce,Yr,q,ge);this._request=Le,Le.getPromise().then(bt=>{this._request=void 0,this._uploadUrl=bt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const q=this._uploadUrl;this._resolveToken((ge,Ce)=>{const Le=function ur(K,q,ge,Ce){const Dn=new be(ge,"POST",function bt(Hn){const Jn=Cn(Hn,["active","final"]);let $r=null;try{$r=Hn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{le(!1)}$r||le(!1);const Qr=Number($r);return le(!isNaN(Qr)),new Kn(Qr,Ce.size(),"final"===Jn)},K.maxUploadRetryTime);return Dn.headers={"X-Goog-Upload-Command":"query"},Dn.errorHandler=nt(q),Dn}(this._ref.storage,this._ref._location,q,this._blob),bt=this._ref.storage._makeRequest(Le,Yr,ge,Ce);this._request=bt,bt.getPromise().then(Bt=>{this._request=void 0,this._updateProgress(Bt.current),this._needToFetchStatus=!1,Bt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const q=262144*this._chunkMultiplier,ge=new Kn(this._transferred,this._blob.size()),Ce=this._uploadUrl;this._resolveToken((Le,bt)=>{let Bt;try{Bt=function Zr(K,q,ge,Ce,Le,bt,Bt,wn){const Dn=new Kn(0,0);if(Bt?(Dn.current=Bt.current,Dn.total=Bt.total):(Dn.current=0,Dn.total=Ce.size()),Ce.size()!==Dn.total)throw function ct(){return new he(se.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Hn=Dn.total-Dn.current;let Jn=Hn;Le>0&&(Jn=Math.min(Jn,Le));const $r=Dn.current;let zr="";zr=0===Jn?"finalize":Hn===Jn?"upload, finalize":"upload";const kr={"X-Goog-Upload-Command":zr,"X-Goog-Upload-Offset":`${Dn.current}`},lr=Ce.slice($r,$r+Jn);if(null===lr)throw Tt();const Gr=new be(ge,"POST",function Mr(Vr,Wr){const Rr=Cn(Vr,["active","final"]),Vs=Dn.current+Jn,hi=Ce.size();let ui;return ui="final"===Rr?fe(q,bt)(Vr,Wr):null,new Kn(Vs,hi,"final"===Rr,ui)},q.maxUploadRetryTime);return Gr.headers=kr,Gr.body=lr.uploadData(),Gr.progressCallback=wn||null,Gr.errorHandler=nt(K),Gr}(this._ref._location,this._ref.storage,Ce,this._blob,q,this._mappings,ge,this._makeProgressCallback())}catch(Dn){return this._error=Dn,void this._transition("error")}const wn=this._ref.storage._makeRequest(Bt,Yr,Le,bt,!1);this._request=wn,wn.getPromise().then(Dn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Dn.current),Dn.finalized?(this._metadata=Dn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((q,ge)=>{const Ce=fn(this._ref.storage,this._ref._location,this._mappings),Le=this._ref.storage._makeRequest(Ce,Yr,q,ge);this._request=Le,Le.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((q,ge)=>{const Ce=vn(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Le=this._ref.storage._makeRequest(Ce,Yr,q,ge);this._request=Le,Le.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(q){const ge=this._transferred;this._transferred=q,this._transferred!==ge&&this._notifyObservers()}_transition(q){if(this._state!==q)switch(q){case"canceling":case"pausing":this._state=q,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ge="paused"===this._state;this._state=q,ge&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=q,this._notifyObservers();break;case"canceled":this._error=wt(),this._state=q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const q=jr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:q,metadata:this._metadata,task:this,ref:this._ref}}on(q,ge,Ce,Le){const bt=new ai(ge||void 0,Ce||void 0,Le||void 0);return this._addObserver(bt),()=>{this._removeObserver(bt)}}then(q,ge){return this._promise.then(q,ge)}catch(q){return this.then(null,q)}_addObserver(q){this._observers.push(q),this._notifyObserver(q)}_removeObserver(q){const ge=this._observers.indexOf(q);-1!==ge&&this._observers.splice(ge,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ge=>{this._notifyObserver(ge)})}_finishPromise(){if(void 0!==this._resolve){let q=!0;switch(jr(this._state)){case ti.SUCCESS:Zt(this._resolve.bind(null,this.snapshot))();break;case ti.CANCELED:case ti.ERROR:Zt(this._reject.bind(null,this._error))();break;default:q=!1}q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(q){switch(jr(this._state)){case ti.RUNNING:case ti.PAUSED:q.next&&Zt(q.next.bind(q,this.snapshot))();break;case ti.SUCCESS:q.complete&&Zt(q.complete.bind(q))();break;default:q.error&&Zt(q.error.bind(q,this._error))()}}resume(){const q="paused"===this._state||"pausing"===this._state;return q&&this._transition("running"),q}pause(){const q="running"===this._state;return q&&this._transition("pausing"),q}cancel(){const q="running"===this._state||"pausing"===this._state;return q&&this._transition("canceling"),q}}class Me{constructor(q,ge){this._service=q,this._location=ge instanceof He?ge:He.makeFromUrl(ge,q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(q,ge){return new Me(q,ge)}get root(){const q=new He(this._location.bucket,"");return this._newRef(this._service,q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Sn(this._location.path)}get storage(){return this._service}get parent(){const q=function Un(K){if(0===K.length)return null;const q=K.lastIndexOf("/");return-1===q?"":K.slice(0,q)}(this._location.path);if(null===q)return null;const ge=new He(this._location.bucket,q);return new Me(this._service,ge)}_throwIfRoot(q){if(""===this._location.path)throw Lt(q)}}function vi(K,q,ge){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,p.Z)(function*(K,q,ge){const Le=yield di(K,{pageToken:ge});q.prefixes.push(...Le.prefixes),q.items.push(...Le.items),null!=Le.nextPageToken&&(yield vi(K,q,Le.nextPageToken))})).apply(this,arguments)}function di(K,q){null!=q&&"number"==typeof q.maxResults&&$t("options.maxResults",1,1e3,q.maxResults);const ge=q||{},Ce=pn(K.storage,K._location,"/",ge.pageToken,ge.maxResults);return K.storage.makeRequestWithTokens(Ce,Yr)}function Ji(K){K._throwIfRoot("getDownloadURL");const q=function vr(K,q,ge){const Le=_n(q.fullServerUrl(),K.host,K._protocol),Bt=K.maxOperationRetryTime,wn=new be(Le,"GET",function xe(K,q){return function ge(Ce,Le){const bt=jt(K,Le,q);return le(null!==bt),function Jt(K,q,ge,Ce){const Le=Sr(q);if(null===Le||!Ft(Le.downloadTokens))return null;const bt=Le.downloadTokens;if(0===bt.length)return null;const Bt=encodeURIComponent;return bt.split(",").map(Hn=>{const $r=K.fullPath;return _n("/b/"+Bt(K.bucket)+"/o/"+Bt($r),ge,Ce)+Pn({alt:"media",token:Hn})})[0]}(bt,Le,K.host,K._protocol)}}(K,ge),Bt);return wn.errorHandler=Dt(q),wn}(K.storage,K._location,$e());return K.storage.makeRequestWithTokens(q,Yr).then(ge=>{if(null===ge)throw function Ue(){return new he(se.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ge})}function rs(K,q){const ge=function ir(K,q){const ge=q.split("/").filter(Ce=>Ce.length>0).join("/");return 0===K.length?ge:K+"/"+ge}(K._location.path,q),Ce=new He(K._location.bucket,ge);return new Me(K.storage,Ce)}function ds(K,q){if(K instanceof Hi){const ge=K;if(null==ge._bucket)throw function tt(){return new he(se.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+te+"' property when initializing the app?")}();const Ce=new Me(ge,ge._bucket);return null!=q?ds(Ce,q):Ce}return void 0!==q?rs(K,q):K}function _i(K,q){if(q&&function Xi(K){return/^[A-Za-z]+:\/\//.test(K)}(q)){if(K instanceof Hi)return function is(K,q){return new Me(K,q)}(K,q);throw on("To use ref(service, url), the first argument must be a Storage instance.")}return ds(K,q)}function vs(K,q){const ge=q?.[te];return null==ge?null:He.makeFromBucketSpec(ge,K)}class Hi{constructor(q,ge,Ce,Le,bt){this.app=q,this._authProvider=ge,this._appCheckProvider=Ce,this._url=Le,this._firebaseVersion=bt,this._bucket=null,this._host=L,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Le?He.makeFromBucketSpec(Le,this._host):vs(this._host,this.app.options)}get host(){return this._host}set host(q){this._host=q,this._bucket=null!=this._url?He.makeFromBucketSpec(this._url,q):vs(q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(q){$t("time",0,Number.POSITIVE_INFINITY,q),this._maxUploadRetryTime=q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(q){$t("time",0,Number.POSITIVE_INFINITY,q),this._maxOperationRetryTime=q}_getAuthToken(){var q=this;return(0,p.Z)(function*(){if(q._overrideAuthToken)return q._overrideAuthToken;const ge=q._authProvider.getImmediate({optional:!0});if(ge){const Ce=yield ge.getToken();if(null!==Ce)return Ce.accessToken}return null})()}_getAppCheckToken(){var q=this;return(0,p.Z)(function*(){const ge=q._appCheckProvider.getImmediate({optional:!0});return ge?(yield ge.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(q=>q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(q){return new Me(this,q)}_makeRequest(q,ge,Ce,Le,bt=!0){if(this._deleted)return new Ke(kt());{const Bt=function Ne(K,q,ge,Ce,Le,bt,Bt=!0){const wn=Pn(K.urlParams),Dn=K.url+wn,Hn=Object.assign({},K.headers);return function De(K,q){q&&(K["X-Firebase-GMPID"]=q)}(Hn,q),function zt(K,q){null!==q&&q.length>0&&(K.Authorization="Firebase "+q)}(Hn,ge),function yr(K,q){K["X-Firebase-Storage-Version"]="webjs/"+(q??"AppManager")}(Hn,bt),function Se(K,q){null!==q&&(K["X-Firebase-AppCheck"]=q)}(Hn,Ce),new Vn(Dn,K.method,Hn,K.body,K.successCodes,K.additionalRetryCodes,K.handler,K.errorHandler,K.timeout,K.progressCallback,Le,Bt)}(q,this._appId,Ce,Le,ge,this._firebaseVersion,bt);return this._requests.add(Bt),Bt.getPromise().then(()=>this._requests.delete(Bt),()=>this._requests.delete(Bt)),Bt}}makeRequestWithTokens(q,ge){var Ce=this;return(0,p.Z)(function*(){const[Le,bt]=yield Promise.all([Ce._getAuthToken(),Ce._getAppCheckToken()]);return Ce._makeRequest(q,ge,Le,bt).getPromise()})()}}const zi="@firebase/storage",Si="storage";function hs(K,q,ge){return function xn(K,q,ge){K._throwIfRoot("uploadBytes");const Ce=vn(K.storage,K._location,$e(),new Wn(q,!0),ge);return K.storage.makeRequestWithTokens(Ce,Yr).then(Le=>({metadata:Le,ref:K}))}(K=(0,V.m9)(K),q,ge)}function ks(K,q,ge){return function $n(K,q,ge){return K._throwIfRoot("uploadBytesResumable"),new Re(K,new Wn(q),ge)}(K=(0,V.m9)(K),q,ge)}function xi(K){return function Ai(K){K._throwIfRoot("getMetadata");const q=fn(K.storage,K._location,$e());return K.storage.makeRequestWithTokens(q,Yr)}(K=(0,V.m9)(K))}function Ki(K,q){return function xr(K,q){K._throwIfRoot("updateMetadata");const ge=function pt(K,q,ge,Ce){const bt=_n(q.fullServerUrl(),K.host,K._protocol),wn=pe(ge,Ce),Hn=K.maxOperationRetryTime,Jn=new be(bt,"PATCH",fe(K,Ce),Hn);return Jn.headers={"Content-Type":"application/json; charset=utf-8"},Jn.body=wn,Jn.errorHandler=Dt(q),Jn}(K.storage,K._location,q,$e());return K.storage.makeRequestWithTokens(ge,Yr)}(K=(0,V.m9)(K),q)}function As(K,q){return di(K=(0,V.m9)(K),q)}function ss(K){return function er(K){const q={prefixes:[],items:[]};return vi(K,q).then(()=>q)}(K=(0,V.m9)(K))}function bo(K){return Ji(K=(0,V.m9)(K))}function Ro(K){return function qs(K){K._throwIfRoot("deleteObject");const q=function qe(K,q){const Ce=_n(q.fullServerUrl(),K.host,K._protocol),wn=new be(Ce,"DELETE",function Bt(Dn,Hn){},K.maxOperationRetryTime);return wn.successCodes=[200,204],wn.errorHandler=Dt(q),wn}(K.storage,K._location);return K.storage.makeRequestWithTokens(q,Yr)}(K=(0,V.m9)(K))}function Fs(K,q){return _i(K=(0,V.m9)(K),q)}function ro(K,q){return rs(K,q)}function Ls(K=(0,W.getApp)(),q){K=(0,V.m9)(K);const Ce=(0,W._getProvider)(K,Si).getImmediate({identifier:q}),Le=(0,V.P0)("storage");return Le&&es(Ce,...Le),Ce}function es(K,q,ge,Ce={}){!function wi(K,q,ge,Ce={}){K.host=`${q}:${ge}`,K._protocol="http";const{mockUserToken:Le}=Ce;Le&&(K._overrideAuthToken="string"==typeof Le?Le:(0,V.Sg)(Le,K.app.options.projectId))}(K,q,ge,Ce)}function po(K,{instanceIdentifier:q}){const ge=K.getProvider("app").getImmediate(),Ce=K.getProvider("auth-internal"),Le=K.getProvider("app-check-internal");return new Hi(ge,Ce,Le,q,W.SDK_VERSION)}!function Oi(){(0,W._registerComponent)(new Ie.wA(Si,po,"PUBLIC").setMultipleInstances(!0)),(0,W.registerVersion)(zi,"0.11.2",""),(0,W.registerVersion)(zi,"0.11.2","esm2017")}()},2090:(Qt,Xe,k)=>{"use strict";k.d(Xe,{$s:()=>dt,BH:()=>tt,G6:()=>je,L:()=>ve,LL:()=>Ln,P0:()=>wt,Pz:()=>et,Sg:()=>Tt,UG:()=>Pt,US:()=>te,ZB:()=>_e,ZR:()=>Ft,aH:()=>Qe,b$:()=>Lt,eu:()=>ht,hl:()=>Ze,jU:()=>on,m9:()=>Jt,ne:()=>ln,pd:()=>An,q4:()=>mt,r3:()=>yr,ru:()=>kt,tV:()=>he,uI:()=>Ue,vZ:()=>Pe,w1:()=>nr,xO:()=>Gn,xb:()=>Se,z$:()=>ct,zI:()=>ze,zd:()=>yn});const Ie=function(pe){const ce=[];let J=0;for(let ie=0;ie<pe.length;ie++){let Z=pe.charCodeAt(ie);Z<128?ce[J++]=Z:Z<2048?(ce[J++]=Z>>6|192,ce[J++]=63&Z|128):55296==(64512&Z)&&ie+1<pe.length&&56320==(64512&pe.charCodeAt(ie+1))?(Z=65536+((1023&Z)<<10)+(1023&pe.charCodeAt(++ie)),ce[J++]=Z>>18|240,ce[J++]=Z>>12&63|128,ce[J++]=Z>>6&63|128,ce[J++]=63&Z|128):(ce[J++]=Z>>12|224,ce[J++]=Z>>6&63|128,ce[J++]=63&Z|128)}return ce},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,ce){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[];for(let Z=0;Z<pe.length;Z+=3){const be=pe[Z],le=Z+1<pe.length,fe=le?pe[Z+1]:0,ae=Z+2<pe.length,xe=ae?pe[Z+2]:0;let fn=(15&fe)<<2|xe>>6,pn=63&xe;ae||(pn=64,le||(fn=64)),ie.push(J[be>>2],J[(3&be)<<4|fe>>4],J[fn],J[pn])}return ie.join("")},encodeString(pe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(pe):this.encodeByteArray(Ie(pe),ce)},decodeString(pe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(pe):function(pe){const ce=[];let J=0,ie=0;for(;J<pe.length;){const Z=pe[J++];if(Z<128)ce[ie++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const be=pe[J++];ce[ie++]=String.fromCharCode((31&Z)<<6|63&be)}else if(Z>239&&Z<365){const ae=((7&Z)<<18|(63&pe[J++])<<12|(63&pe[J++])<<6|63&pe[J++])-65536;ce[ie++]=String.fromCharCode(55296+(ae>>10)),ce[ie++]=String.fromCharCode(56320+(1023&ae))}else{const be=pe[J++],le=pe[J++];ce[ie++]=String.fromCharCode((15&Z)<<12|(63&be)<<6|63&le)}}return ce.join("")}(this.decodeStringToByteArray(pe,ce))},decodeStringToByteArray(pe,ce){this.init_();const J=ce?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[];for(let Z=0;Z<pe.length;){const be=J[pe.charAt(Z++)],fe=Z<pe.length?J[pe.charAt(Z)]:0;++Z;const xe=Z<pe.length?J[pe.charAt(Z)]:64;++Z;const Dt=Z<pe.length?J[pe.charAt(Z)]:64;if(++Z,null==be||null==fe||null==xe||null==Dt)throw new Oe;ie.push(be<<2|fe>>4),64!==xe&&(ie.push(fe<<4&240|xe>>2),64!==Dt&&ie.push(xe<<6&192|Dt))}return ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(pe){return function(pe){const ce=Ie(pe);return te.encodeByteArray(ce,!0)}(pe).replace(/\./g,"")},he=function(pe){try{return te.decodeString(pe,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function _e(pe,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return ce}for(const J in ce)!ce.hasOwnProperty(J)||!Je(J)||(pe[J]=_e(pe[J],ce[J]));return pe}function Je(pe){return"__proto__"!==pe}const It=()=>{try{return function st(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const pe=process.env.__FIREBASE_DEFAULTS__;return pe?JSON.parse(pe):void 0})()||(()=>{if(typeof document>"u")return;let pe;try{pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=pe&&he(pe[1]);return ce&&JSON.parse(ce)})()}catch(pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${pe}`)}},mt=pe=>{var ce,J;return null===(J=null===(ce=It())||void 0===ce?void 0:ce.emulatorHosts)||void 0===J?void 0:J[pe]},wt=pe=>{const ce=mt(pe);if(!ce)return;const J=ce.lastIndexOf(":");if(J<=0||J+1===ce.length)throw new Error(`Invalid host ${ce} with no separate hostname and port!`);const ie=parseInt(ce.substring(J+1),10);return"["===ce[0]?[ce.substring(1,J-1),ie]:[ce.substring(0,J),ie]},Qe=()=>{var pe;return null===(pe=It())||void 0===pe?void 0:pe.config},et=pe=>{var ce;return null===(ce=It())||void 0===ce?void 0:ce[`_${pe}`]};class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,J)=>{this.resolve=ce,this.reject=J})}wrapCallback(ce){return(J,ie)=>{J?this.reject(J):this.resolve(ie),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(J):ce(J,ie))}}}function Tt(pe,ce){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ie=ce||"demo-project",Z=pe.iat||0,be=pe.sub||pe.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const le=Object.assign({iss:`https://securetoken.google.com/${ie}`,aud:ie,iat:Z,exp:Z+3600,auth_time:Z,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(le)),""].join(".")}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function Pt(){var pe;const ce=null===(pe=It())||void 0===pe?void 0:pe.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function on(){return"object"==typeof self&&self.self===self}function kt(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function Lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nr(){const pe=ct();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function je(){return!Pt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ze(){try{return"object"==typeof indexedDB}catch{return!1}}function ht(){return new Promise((pe,ce)=>{try{let J=!0;const ie="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(ie);Z.onsuccess=()=>{Z.result.close(),J||self.indexedDB.deleteDatabase(ie),pe(!0)},Z.onupgradeneeded=()=>{J=!1},Z.onerror=()=>{var be;ce((null===(be=Z.error)||void 0===be?void 0:be.message)||"")}}catch(J){ce(J)}})}function ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ft extends Error{constructor(ce,J,ie){super(J),this.code=ce,this.customData=ie,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}}class Ln{constructor(ce,J,ie){this.service=ce,this.serviceName=J,this.errors=ie}create(ce,...J){const ie=J[0]||{},Z=`${this.service}/${ce}`,be=this.errors[ce],le=be?function Ut(pe,ce){return pe.replace($t,(J,ie)=>{const Z=ce[ie];return null!=Z?String(Z):`<${ie}?>`})}(be,ie):"Error";return new Ft(Z,`${this.serviceName}: ${le} (${Z}).`,ie)}}const $t=/\{\$([^}]+)}/g;function yr(pe,ce){return Object.prototype.hasOwnProperty.call(pe,ce)}function Se(pe){for(const ce in pe)if(Object.prototype.hasOwnProperty.call(pe,ce))return!1;return!0}function Pe(pe,ce){if(pe===ce)return!0;const J=Object.keys(pe),ie=Object.keys(ce);for(const Z of J){if(!ie.includes(Z))return!1;const be=pe[Z],le=ce[Z];if(it(be)&&it(le)){if(!Pe(be,le))return!1}else if(be!==le)return!1}for(const Z of ie)if(!J.includes(Z))return!1;return!0}function it(pe){return null!==pe&&"object"==typeof pe}function Gn(pe){const ce=[];for(const[J,ie]of Object.entries(pe))Array.isArray(ie)?ie.forEach(Z=>{ce.push(encodeURIComponent(J)+"="+encodeURIComponent(Z))}):ce.push(encodeURIComponent(J)+"="+encodeURIComponent(ie));return ce.length?"&"+ce.join("&"):""}function yn(pe){const ce={};return pe.replace(/^\?/,"").split("&").forEach(ie=>{if(ie){const[Z,be]=ie.split("=");ce[decodeURIComponent(Z)]=decodeURIComponent(be)}}),ce}function An(pe){const ce=pe.indexOf("?");if(!ce)return"";const J=pe.indexOf("#",ce);return pe.substring(ce,J>0?J:void 0)}function ln(pe,ce){const J=new Gt(pe,ce);return J.subscribe.bind(J)}class Gt{constructor(ce,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{ce(this)}).catch(ie=>{this.error(ie)})}next(ce){this.forEachObserver(J=>{J.next(ce)})}error(ce){this.forEachObserver(J=>{J.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,J,ie){let Z;if(void 0===ce&&void 0===J&&void 0===ie)throw new Error("Missing Observer.");Z=function pr(pe,ce){if("object"!=typeof pe||null===pe)return!1;for(const J of ce)if(J in pe&&"function"==typeof pe[J])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:J,complete:ie},void 0===Z.next&&(Z.next=Xn),void 0===Z.error&&(Z.error=Xn),void 0===Z.complete&&(Z.complete=Xn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),be}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,ce)}sendOne(ce,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{J(this.observers[ce])}catch(ie){typeof console<"u"&&console.error&&console.error(ie)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}const Wt=1e3,Zn=2,gr=144e5,$e=.5;function dt(pe,ce=Wt,J=Zn){const ie=ce*Math.pow(J,pe),Z=Math.round($e*ie*(Math.random()-.5)*2);return Math.min(gr,ie+Z)}function Jt(pe){return pe&&pe._delegate?pe._delegate:pe}},4846:(Qt,Xe,k)=>{"use strict";k.d(Xe,{b:()=>p});class p{constructor(V,Ie,L,te,Oe,Ae,ve,he="",se=""){this.nombre=V,this.apellido=Ie,this.dni=L,this.edad=te,this.email=Oe,this.password=Ae,this.rol=ve,this.obraSocial=he,this.especialidad=se}}},7539:(Qt,Xe,k)=>{"use strict";k.d(Xe,{c:()=>Ie});var p=k(5226),W=k.n(p),V=k(4650);let Ie=(()=>{class L{constructor(){}lanzarAlerta(Oe,Ae){W().fire({icon:Oe,title:Ae,showConfirmButton:!1,timer:1500})}lanzarAlertaExito(Oe){this.lanzarAlerta("success",Oe)}lanzarAlertaError(Oe){this.lanzarAlerta("error",Oe)}}return L.\u0275fac=function(Oe){return new(Oe||L)},L.\u0275prov=V.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},6893:(Qt,Xe,k)=>{"use strict";k.d(Xe,{e:()=>ve});var p=k(5861),W=k(9260),V=k(4322),Ie=k(4650),L=k(1205),te=k(9051),Oe=k(5868),Ae=k(7539);let ve=(()=>{class he{constructor(_e,Je,st,_t){this.afauth=_e,this.router=Je,this.st=st,this.alerta=_t}login(_e,Je){this.afauth.signInWithEmailAndPassword(_e,Je).then(st=>{W.Z.firestore().collection("usuarios").where("email","==",_e).get().then(_t=>{_t.forEach(Vt=>{"true"==Vt.data().verificado?1==st.user?.emailVerified?(this.alerta.lanzarAlertaExito("\xa1Bienvenido "+Vt.data().nombre+"!"),this.router.navigate(["/home"])):(this.alerta.lanzarAlertaError("Confirme primero su mail."),this.logout("/login")):(this.alerta.lanzarAlertaError("Espere a que un admin apruebe su usuario."),this.logout("/login")),console.log(Vt.data())})}).catch(_t=>{console.log("Error buscando: ",_t)})}).catch(st=>{this.alerta.lanzarAlertaError(this.error(st.code))})}registro(_e,Je){var st=this;return(0,p.Z)(function*(){console.log(Je),st.afauth.createUserWithEmailAndPassword(_e.email,_e.password).then(_t=>{_t.user?.sendEmailVerification(),st.alerta.lanzarAlertaExito("Pronto recibir\xe1 un mail para confirmar su mail."),st.st.subirImagenes(_e.email,Je),st.st.addUsuario(_e,Je)}).catch(_t=>{st.alerta.lanzarAlertaError(st.error(_t.code))})})()}updateUser(_e,Je){return(0,p.Z)(function*(){let st=(0,V.v0)();return yield(0,V.ck)(st.currentUser,{displayName:_e,photoURL:Je}).then().catch(_t=>console.log(_t))})()}error(_e){switch(_e){case"auth/wrong-password":case"auth/user-not-found":case"auth/invalid-email":return"Datos incorrectos.";case"auth/email-already-in-use":return"El mail ya est\xe1 en uso.";default:return"Error desconocido"}}logout(_e){this.afauth.signOut().then(Je=>{console.log("\xa1Adios!"),this.router.navigate([_e])}).catch(Je=>{this.alerta.lanzarAlertaError(":( "+this.error(Je.code))})}getAuth(){return this.afauth.authState}printCurrentUser(){var _e=this;return(0,p.Z)(function*(){_e.getAuth().subscribe(Je=>{console.log(Je)})})()}}return he.\u0275fac=function(_e){return new(_e||he)(Ie.LFG(L.zQ),Ie.LFG(te.F0),Ie.LFG(Oe.V),Ie.LFG(Ae.c))},he.\u0275prov=Ie.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},5868:(Qt,Xe,k)=>{"use strict";k.d(Xe,{V:()=>bv});var ve,p=k(5861),W=k(9260),V=k(6881),Ie=k(4859),L=k(1877),te=k(2090),Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={},he=he||{},se=Oe||self;function _e(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Je(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var _t="closure_uid_"+(1e9*Math.random()>>>0),Vt=0;function ot(r,e,t){return r.call.apply(r.bind,arguments)}function It(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function mt(r,e,t){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ot:It).apply(null,arguments)}function wt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Qe(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,l){for(var h=Array(arguments.length-2),C=2;C<arguments.length;C++)h[C-2]=arguments[C];return e.prototype[a].apply(s,h)}}function et(){this.s=this.s,this.o=this.o}et.prototype.s=!1,et.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function st(r){Object.prototype.hasOwnProperty.call(r,_t)&&r[_t]||(r[_t]=++Vt)}(this)},et.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function ct(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Ue(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(_e(s)){const a=r.length||0,l=s.length||0;r.length=a+l;for(let h=0;h<l;h++)r[a+h]=s[h]}else r.push(s)}}function Pt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var on=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{se.addEventListener("test",()=>{},e),se.removeEventListener("test",()=>{},e)}catch{}return r}();function kt(r){return/^[\s\xa0]*$/.test(r)}function Lt(){var r=se.navigator;return r&&(r=r.userAgent)?r:""}function At(r){return-1!=Lt().indexOf(r)}function nr(r){return nr[" "](r),r}nr[" "]=function(){};var Ln,r,Ke=At("Opera"),je=At("Trident")||At("MSIE"),Ze=At("Edge"),ht=Ze||je,ze=At("Gecko")&&!(-1!=Lt().toLowerCase().indexOf("webkit")&&!At("Edge"))&&!(At("Trident")||At("MSIE"))&&!At("Edge"),ft=-1!=Lt().toLowerCase().indexOf("webkit")&&!At("Edge");function Ft(){var r=se.document;return r?r.documentMode:void 0}e:{var Ut="",$t=(r=Lt(),ze?/rv:([^\);]+)(\)|;)/.exec(r):Ze?/Edge\/([\d\.]+)/.exec(r):je?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ft?/WebKit\/(\S+)/.exec(r):Ke?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if($t&&(Ut=$t?$t[1]:""),je){var _n=Ft();if(null!=_n&&_n>parseFloat(Ut)){Ln=String(_n);break e}}Ln=Ut}var Ir=se.document&&je&&(Ft()||parseInt(Ln,10))||void 0;function Vn(r,e){if(Pt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(ze){e:{try{nr(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:rr[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Vn.$.h.call(this)}}Qe(Vn,Pt);var rr={2:"touch",3:"pen",4:"mouse"};Vn.prototype.h=function(){Vn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),yr=0;function De(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++yr,this.fa=this.ia=!1}function Se(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Ne(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function it(r){const e={};for(const t in r)e[t]=r[t];return e}const Mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let l=0;l<Mt.length;l++)t=Mt[l],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function yn(r){this.src=r,this.g={},this.h=0}function An(r,e){var t=e.type;if(t in r.g){var l,s=r.g[t],a=Tt(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Se(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function tn(r,e,t,s){for(var a=0;a<r.length;++a){var l=r[a];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==s)return a}return-1}yn.prototype.add=function(r,e,t,s,a){var l=r.toString();(r=this.g[l])||(r=this.g[l]=[],this.h++);var h=tn(r,e,s,a);return-1<h?(e=r[h],t||(e.ia=!1)):((e=new De(e,this.src,l,!!s,a)).ia=t,r.push(e)),e};var ln="closure_lm_"+(1e6*Math.random()|0),Gt={};function an(r,e,t,s,a){if(s&&s.once)return or(r,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)an(r,e[l],t,s,a);return null}return t=bn(t),r&&r[zt]?r.O(e,t,Je(s)?!!s.capture:!!s,a):pr(r,e,t,!1,s,a)}function pr(r,e,t,s,a,l){if(!e)throw Error("Invalid event type");var h=Je(a)?!!a.capture:!!a,C=ir(r);if(C||(r[ln]=C=new yn(r)),(t=C.add(e,t,s,h,l)).proxy)return t;if(s=function Xn(){const e=Un;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)on||(a=h),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Sr(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function or(r,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)or(r,e[l],t,s,a);return null}return t=bn(t),r&&r[zt]?r.P(e,t,Je(s)?!!s.capture:!!s,a):pr(r,e,t,!0,s,a)}function Qn(r,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Qn(r,e[l],t,s,a);else s=Je(s)?!!s.capture:!!s,t=bn(t),r&&r[zt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=tn(l=r.g[e],t,s,a))&&(Se(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete r.g[e],r.h--))):r&&(r=ir(r))&&(e=r.g[e.toString()],r=-1,e&&(r=tn(e,t,s,a)),(t=-1<r?e[r]:null)&&Wn(t))}function Wn(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[zt])An(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Sr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=ir(e))?(An(t,r),0==t.h&&(t.src=null,e[ln]=null)):Se(r)}}}function Sr(r){return r in Gt?Gt[r]:Gt[r]="on"+r}function Un(r,e){if(r.fa)r=!0;else{e=new Vn(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Wn(r),r=t.call(s,e)}return r}function ir(r){return(r=r[ln])instanceof yn?r:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(r){return"function"==typeof r?r:(r[Sn]||(r[Sn]=function(e){return r.handleEvent(e)}),r[Sn])}function Wt(){et.call(this),this.i=new yn(this),this.S=this,this.J=null}function Zn(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Pt(e,r);else if(e instanceof Pt)e.target=e.target||r;else{var a=e;Gn(e=new Pt(s,r),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];a=gr(h,s,!0,e)&&a}if(a=gr(h=e.g=r,s,!0,e)&&a,a=gr(h,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=gr(h=e.g=t[l],s,!1,e)&&a}function gr(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.fa&&h.capture==t){var C=h.listener,F=h.la||h.src;h.ia&&An(r.i,h),a=!1!==C.call(F,s)&&a}}return a&&!s.defaultPrevented}Qe(Wt,et),Wt.prototype[zt]=!0,Wt.prototype.removeEventListener=function(r,e,t,s){Qn(this,r,e,t,s)},Wt.prototype.N=function(){if(Wt.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Se(t[s]);delete r.g[e],r.h--}}this.J=null},Wt.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Wt.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var $e=se.JSON.stringify;function We(){var r=be;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Jt=new class dt{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new pe,r=>r.reset());class pe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ce(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function J(r){se.setTimeout(()=>{throw r},0)}let ie,Z=!1,be=new class jt{constructor(){this.h=this.g=null}add(e,t){const s=Jt.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},le=()=>{const r=se.Promise.resolve(void 0);ie=()=>{r.then(fe)}};var fe=()=>{for(var r;r=We();){try{r.h.call(r.g)}catch(t){J(t)}var e=Jt;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Z=!1};function ae(r,e){Wt.call(this),this.h=r||1,this.g=e||se,this.j=mt(this.qb,this),this.l=Date.now()}function xe(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function nt(r,e,t){if("function"==typeof r)t&&(r=mt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=mt(r.handleEvent,r)}return 2147483647<Number(e)?-1:se.setTimeout(r,e||0)}function Dt(r){r.g=nt(()=>{r.g=null,r.i&&(r.i=!1,Dt(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Qe(ae,Wt),(ve=ae.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zn(this,"tick"),this.ga&&(xe(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){ae.$.N.call(this),xe(this),delete this.g};class fn extends et{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Dt(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(r){et.call(this),this.h=r,this.g={}}Qe(pn,et);var ar=[];function vr(r,e,t,s){Array.isArray(t)||(t&&(ar[0]=t.toString()),t=ar);for(var a=0;a<t.length;a++){var l=an(e,t[a],s||r.handleEvent,!1,r.h||r);if(!l)break;r.g[l.key]=l}}function pt(r){Ne(r.g,function(e,t){this.g.hasOwnProperty(t)&&Wn(e)},r),r.g={}}function qe(){this.g=!0}function vn(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Cn(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return $e(t)}catch{return e}}(r,t)+(s?" "+s:"")})}pn.prototype.N=function(){pn.$.N.call(this),pt(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qe.prototype.Ea=function(){this.g=!1},qe.prototype.info=function(){};var Yn={},ur=null;function Kr(){return ur=ur||new Wt}function Zr(r){Pt.call(this,Yn.Ta,r)}function $i(r){const e=Kr();Zn(e,new Zr(e))}function ti(r,e){Pt.call(this,Yn.STAT_EVENT,r),this.stat=e}function jr(r){const e=Kr();Zn(e,new ti(e,r))}function ai(r,e){Pt.call(this,Yn.Ua,r),this.size=e}function Zt(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){r()},e)}Yn.Ta="serverreachability",Qe(Zr,Pt),Yn.STAT_EVENT="statevent",Qe(ti,Pt),Yn.Ua="timingevent",Qe(ai,Pt);var Bn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Br={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function br(){}function ci(){}br.prototype.h=null;var Re,ji={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mr(){Pt.call(this,"d")}function Fe(){Pt.call(this,"c")}function Me(){}function Et(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new pn(this),this.P=xn,this.V=new ae(r=ht?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}Qe(mr,Pt),Qe(Fe,Pt),Qe(Me,br),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Re=new Me;var xn=45e3,$n={},On={};function er(r,e,t){r.L=1,r.v=ks(Gi(e)),r.s=t,r.S=!0,vi(r,null)}function vi(r,e){r.G=Date.now(),xr(r),r.A=Gi(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),po(t.i,"t",s),r.C=0,t=r.l.J,r.h=new Ot,r.g=$s(r.l,t?e:null,!r.s),0<r.O&&(r.M=new fn(mt(r.Pa,r,r.g),r.O)),vr(r.U,r.g,"readystatechange",r.nb),e=r.I?it(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),$i(),function Rt(r,e,t,s,a,l){r.info(function(){if(r.g)if(l)for(var h="",C=l.split("&"),F=0;F<C.length;F++){var $=C[F].split("=");if(1<$.length){var ee=$[0];$=$[1];var Ee=ee.split("_");h=2<=Ee.length&&"type"==Ee[1]?h+(ee+"=")+$+"&":h+(ee+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Hr(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function di(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=Ai(r,t),a==On){4==e&&(r.o=4,jr(14),s=!1),vn(r.j,r.m,null,"[Incomplete Response]");break}if(a==$n){r.o=4,jr(15),vn(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}vn(r.j,r.m,a,null),is(r,a)}Hr(r)&&a!=On&&a!=$n&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,jr(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ps(e),e.M=!0,jr(11))):(vn(r.j,r.m,t,"[Invalid Chunked Response]"),Xi(r),rs(r))}function Ai(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?On:(t=Number(e.substring(t,s)),isNaN(t)?$n:(s+=1)+t>e.length?On:(e=e.slice(s,s+t),r.C=s+t,e))}function xr(r){r.Y=Date.now()+r.P,Ji(r,r.P)}function Ji(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Zt(mt(r.lb,r),e)}function qs(r){r.B&&(se.clearTimeout(r.B),r.B=null)}function rs(r){0==r.l.H||r.J||Ni(r.l,r)}function Xi(r){qs(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,xe(r.V),pt(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function is(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Bt(t.i,r)))if(!r.K&&Bt(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;_s(t),so(t)}ni(t),jr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Zt(mt(t.ib,t),6e3));if(1>=bt(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else mi(t,11)}else if((r.K||t.g==r)&&_s(t),!kt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let $=a[e];if(t.V=$[0],$=$[1],2==t.H)if("c"==$[0]){t.K=$[1],t.pa=$[2];const ee=$[3];null!=ee&&(t.ra=ee,t.l.info("VER="+t.ra));const Ee=$[4];null!=Ee&&(t.Ga=Ee,t.l.info("SVER="+t.Ga));const rt=$[5];null!=rt&&"number"==typeof rt&&0<rt&&(t.L=s=1.5*rt,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Ct=r.g;if(Ct){const Yt=Ct.g?Ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yt){var l=s.i;l.g||-1==Yt.indexOf("spdy")&&-1==Yt.indexOf("quic")&&-1==Yt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(wn(l,l.h),l.h=null))}if(s.F){const Tn=Ct.g?Ct.g.getResponseHeader("X-HTTP-Session-Id"):null;Tn&&(s.Da=Tn,Er(s.I,s.F,Tn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var h=r;if((s=t).wa=oo(s,s.J?s.pa:null,s.Y),h.K){Dn(s.i,h);var C=h,F=s.L;F&&C.setTimeout(F),C.B&&(qs(C),xr(C)),s.g=h}else Pr(s);0<t.j.length&&O(t)}else"stop"!=$[0]&&"close"!=$[0]||mi(t,7);else 3==t.H&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?mi(t,7):Oo(t):"noop"!=$[0]&&t.h&&t.h.Aa($),t.A=0)}$i()}catch{}}function vs(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(_e(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function _i(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(_e(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function ds(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(_e(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],r)}(ve=Et.prototype).setTimeout=function(r){this.P=r},ve.nb=function(r){r=r.target;const e=this.M;e&&3==Nn(r)?e.l():this.Pa(r)},ve.Pa=function(r){try{if(r==this.g)e:{const ee=Nn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ee)&&(3!=ee||ht||this.g&&(this.h.h||this.g.ja()||io(this.g)))){this.J||4!=ee||7==e||$i(),qs(this);var t=this.g.da();this.ca=t;t:if(Hr(this)){var s=io(this.g);r="";var a=s.length,l=4==Nn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xi(this),rs(this);var h="";break t}this.h.i=new se.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,h=this.h.g}else h=this.g.ja();if(this.i=200==t,function gn(r,e,t,s,a,l,h){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.W,ee,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var C,F=this.g;if((C=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kt(C)){var $=C;break t}}$=null}if(!(t=$)){this.i=!1,this.o=3,jr(12),Xi(this),rs(this);break e}vn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,is(this,t)}this.S?(di(this,ee,h),ht&&this.i&&3==ee&&(vr(this.U,this.V,"tick",this.mb),this.V.start())):(vn(this.j,this.m,h,null),is(this,h)),4==ee&&Xi(this),this.i&&!this.J&&(4==ee?Ni(this.l,this):(this.i=!1,xr(this)))}else(function Ko(r){const e={};r=(r.g&&2<=Nn(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(kt(r[s]))continue;var t=ce(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[a]||[];e[a]=l,l.push(t)}!function Pe(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<h.indexOf("Unknown SID")?(this.o=3,jr(12)):(this.o=0,jr(13)),Xi(this),rs(this)}}}catch{}},ve.mb=function(){if(this.g){var r=Nn(this.g),e=this.g.ja();this.C<e.length&&(qs(this),di(this,r,e),this.i&&4!=r&&xr(this))}},ve.cancel=function(){this.J=!0,Xi(this)},ve.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Kn(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&($i(),jr(17)),Xi(this),this.o=2,rs(this)):Ji(this,this.Y-r)};var wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof zi){this.h=r.h,Si(this,r.j),this.s=r.s,this.g=r.g,bi(this,r.m),this.l=r.l;var e=r.i,t=new Ls;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),hs(this,t),this.o=r.o}else r&&(e=String(r).match(wi))?(this.h=!1,Si(this,e[1]||"",!0),this.s=xi(e[2]||""),this.g=xi(e[3]||"",!0),bi(this,e[4]),this.l=xi(e[5]||"",!0),hs(this,e[6]||"",!0),this.o=xi(e[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}function Gi(r){return new zi(r)}function Si(r,e,t){r.j=t?xi(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function bi(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function hs(r,e,t){e instanceof Ls?(r.i=e,function K(r,e){e&&!r.j&&(es(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(os(this,s),po(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Ki(e,Fs)),r.i=new Ls(e,r.h))}function Er(r,e,t){r.i.set(e,t)}function ks(r){return Er(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function xi(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ki(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,As),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function As(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}zi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Ki(e,ss,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Ki(e,ss,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Ki(t,"/"==t.charAt(0)?Ro:bo,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Ki(t,ro)),r.join("")};var ss=/[#\/\?@]/g,bo=/[#\?:]/g,Ro=/[#\?]/g,Fs=/[#\?@]/g,ro=/#/g;function Ls(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function es(r){r.g||(r.g=new Map,r.h=0,r.i&&function Hi(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var l=r[t].substring(0,s);a=r[t].substring(s+1)}else l=r[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function os(r,e){es(r),e=Oi(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Ss(r,e){return es(r),e=Oi(r,e),r.g.has(e)}function po(r,e,t){os(r,e),0<t.length&&(r.i=null,r.g.set(Oi(r,e),ct(t)),r.h+=t.length)}function Oi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ge(r){this.l=r||Ce,r=se.PerformanceNavigationTiming?0<(r=se.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=Ls.prototype).add=function(r,e){es(this),this.i=null,r=Oi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(r,e){es(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},ve.ta=function(){es(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let l=0;l<a.length;l++)t.push(e[s])}return t},ve.Z=function(r){es(this);let e=[];if("string"==typeof r)Ss(this,r)&&(e=e.concat(this.g.get(Oi(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ve.set=function(r,e){return es(this),this.i=null,Ss(this,r=Oi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ve.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const l=encodeURIComponent(String(s)),h=this.Z(s);for(s=0;s<h.length;s++){var a=l;""!==h[s]&&(a+="="+encodeURIComponent(String(h[s]))),r.push(a)}}return this.i=r.join("&")};var Ce=10;function Le(r){return!!r.h||!!r.g&&r.g.size>=r.j}function bt(r){return r.h?1:r.g?r.g.size:0}function Bt(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function wn(r,e){r.g?r.g.add(e):r.h=e}function Dn(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Hn(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return ct(r.i)}ge.prototype.cancel=function(){if(this.i=Hn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Jn=class{stringify(r){return se.JSON.stringify(r,void 0)}parse(r){return se.JSON.parse(r,void 0)}};function $r(){this.g=new Jn}function Qr(r,e,t){const s=t||"";try{vs(r,function(a,l){let h=a;Je(a)&&(h=$e(a)),e.push(s+l+"="+encodeURIComponent(h))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function kr(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function lr(r){this.l=r.fc||null,this.j=r.ob||!1}function Mr(r,e){Wt.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=gi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qe(lr,br),lr.prototype.g=function(){return new Mr(this.l,this.j)},lr.prototype.i=function(r){return function(){return r}}({}),Qe(Mr,Wt);var gi=0;function Fr(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Gr(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Vr(r)}function Vr(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ve=Mr.prototype).open=function(r,e){if(this.readyState!=gi)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Vr(this)},ve.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gr(this)),this.readyState=gi},ve.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fr(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Gr(this):Vr(this),3==this.readyState&&Fr(this)}},ve.Za=function(r){this.g&&(this.response=this.responseText=r,Gr(this))},ve.Ya=function(r){this.g&&(this.response=r,Gr(this))},ve.ka=function(){this.g&&Gr(this)},ve.setRequestHeader=function(r,e){this.v.append(r,e)},ve.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Wr=se.JSON.parse;function Rr(r){Wt.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vs,this.L=this.M=!1}Qe(Rr,Wt);var Vs="",hi=/^https?$/i,ui=["POST","PUT"];function Ei(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,qo(r),Bs(r)}function qo(r){r.F||(r.F=!0,Zn(r,"complete"),Zn(r,"error"))}function as(r){if(r.h&&typeof he<"u"&&(!r.C[1]||4!=Nn(r)||2!=r.da()))if(r.v&&4==Nn(r))nt(r.La,0,r);else if(Zn(r,"readystatechange"),4==Nn(r)){r.h=!1;try{const h=r.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===h){var a=String(r.I).match(wi)[1]||null;!a&&se.self&&se.self.location&&(a=se.self.location.protocol.slice(0,-1)),s=!hi.test(a?a.toLowerCase():"")}t=s}if(t)Zn(r,"complete"),Zn(r,"success");else{r.m=6;try{var l=2<Nn(r)?r.g.statusText:""}catch{l=""}r.j=l+" ["+r.da()+"]",qo(r)}}finally{Bs(r)}}}function Bs(r,e){if(r.g){Ks(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Zn(r,"ready");try{t.onreadystatechange=s}catch{}}}function Ks(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(se.clearTimeout(r.A),r.A=null)}function Nn(r){return r.g?r.g.readyState:0}function io(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Vs:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(r){let e="";return Ne(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function xs(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Po(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Er(r,e,t))}function fs(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function oa(r){this.Ga=0,this.j=[],this.l=new qe,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fs("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fs("baseRetryDelayMs",5e3,r),this.hb=fs("retryDelaySeedMs",1e4,r),this.eb=fs("forwardChannelMaxRetries",2,r),this.xa=fs("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new ge(r&&r.concurrentRequestLimit),this.Ja=new $r,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Oo(r){if(x(r),3==r.H){var e=r.W++,t=Gi(r.I);if(Er(t,"SID",r.K),Er(t,"RID",e),Er(t,"TYPE","terminate"),Ye(r,t),(e=new Et(r,r.l,e)).L=2,e.v=ks(Gi(t)),t=!1,se.navigator&&se.navigator.sendBeacon)try{t=se.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&se.Image&&((new Image).src=e.v,t=!0),t||(e.g=$s(e.l,null),e.g.ha(e.v)),e.G=Date.now(),xr(e)}us(r)}function so(r){r.g&&(ps(r),r.g.cancel(),r.g=null)}function x(r){so(r),r.u&&(se.clearTimeout(r.u),r.u=null),_s(r),r.i.cancel(),r.m&&("number"==typeof r.m&&se.clearTimeout(r.m),r.m=null)}function O(r){if(!Le(r.i)&&!r.m){r.m=!0;var e=r.Na;ie||le(),Z||(ie(),Z=!0),be.add(e,r),r.C=0}}function X(r,e){var t;t=e?e.m:r.W++;const s=Gi(r.I);Er(s,"SID",r.K),Er(s,"RID",t),Er(s,"AID",r.V),Ye(r,s),r.o&&r.s&&xs(s,r.o,r.s),t=new Et(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=mn(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),wn(r.i,t),er(t,s,e)}function Ye(r,e){r.na&&Ne(r.na,function(t,s){Er(e,s,t)}),r.h&&vs({},function(t,s){Er(e,s,t)})}function mn(r,e,t){t=Math.min(r.j.length,t);var s=r.h?mt(r.h.Va,r.h,r):null;e:{var a=r.j;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=a[0].g,h.push("ofs="+l)):l=0:h.push("ofs="+l);let C=!0;for(let F=0;F<t;F++){let $=a[F].g;const ee=a[F].map;if($-=l,0>$)l=Math.max(0,a[F].g-100),C=!1;else try{Qr(ee,h,"req"+$+"_")}catch{s&&s(ee)}}if(C){s=h.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function Pr(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;ie||le(),Z||(ie(),Z=!0),be.add(e,r),r.A=0}}function ni(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Zt(mt(r.Ma,r),Zs(r,r.A)),r.A++,0))}function ps(r){null!=r.B&&(se.clearTimeout(r.B),r.B=null)}function Ms(r){r.g=new Et(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Gi(r.wa);Er(e,"RID","rpc"),Er(e,"SID",r.K),Er(e,"AID",r.V),Er(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Er(e,"TO",r.qa),Er(e,"TYPE","xmlhttp"),Ye(r,e),r.o&&r.s&&xs(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=ks(Gi(e)),t.s=null,t.S=!0,vi(t,r)}function _s(r){null!=r.v&&(se.clearTimeout(r.v),r.v=null)}function Ni(r,e){var t=null;if(r.g==e){_s(r),ps(r),r.g=null;var s=2}else{if(!Bt(r.i,e))return;t=e.F,Dn(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Zn(s=Kr(),new ai(s,t)),O(r)}else Pr(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function R(r,e){return!(bt(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Zt(mt(r.Na,r,e),Zs(r,r.C)),r.C++,0)))}(r,e)||2==s&&ni(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:mi(r,5);break;case 4:mi(r,10);break;case 3:mi(r,6);break;default:mi(r,2)}}function Zs(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function mi(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=mt(r.pb,r);t||(t=new zi("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||Si(t,"https"),ks(t)),function zr(r,e){const t=new qe;if(se.Image){const s=new Image;s.onload=wt(kr,t,s,"TestLoadImage: loaded",!0,e),s.onerror=wt(kr,t,s,"TestLoadImage: error",!1,e),s.onabort=wt(kr,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=wt(kr,t,s,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else jr(2);r.H=0,r.h&&r.h.za(e),us(r),x(r)}function us(r){if(r.H=0,r.ma=[],r.h){const e=Hn(r.i);(0!=e.length||0!=r.j.length)&&(Ue(r.ma,e),Ue(r.ma,r.j),r.i.i.length=0,ct(r.j),r.j.length=0),r.h.ya()}}function oo(r,e,t){var s=t instanceof zi?Gi(t):new zi(t);if(""!=s.g)e&&(s.g=e+"."+s.g),bi(s,s.m);else{var a=se.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new zi(null);s&&Si(l,s),e&&(l.g=e),a&&bi(l,a),t&&(l.l=t),s=l}return e=r.Da,(t=r.F)&&e&&Er(s,t,e),Er(s,"VER",r.ra),Ye(r,s),s}function $s(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rr(t&&r.Ha&&!r.va?new lr({ob:!0}):r.va)).Oa(r.J),e}function ws(){}function Zo(){if(je&&!(10<=Number(Ir)))throw Error("Environmental error: no available transport.")}function ki(r,e){Wt.call(this),this.g=new oa(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!kt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new ri(this)}function _a(r){mr.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Fa(){Fe.call(this),this.status=1}function ri(r){this.g=r}function ts(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ko(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=r.g[3],h=(e=r.g[0])+(l^(t=r.g[1])&((a=r.g[2])^l))+s[0]+3614090360&4294967295;h=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=t+(h<<7&4294967295|h>>>25))+((h=l+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^l&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(l^e))+s[3]+3250441966&4294967295)<<22&4294967295|h>>>10))+((h=e+(l^t&(a^l))+s[4]+4118548399&4294967295)<<7&4294967295|h>>>25))+((h=l+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^l&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(l^e))+s[7]+4249261313&4294967295)<<22&4294967295|h>>>10))+((h=e+(l^t&(a^l))+s[8]+1770035416&4294967295)<<7&4294967295|h>>>25))+((h=l+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^l&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(l^e))+s[11]+2304563134&4294967295)<<22&4294967295|h>>>10))+((h=e+(l^t&(a^l))+s[12]+1804603682&4294967295)<<7&4294967295|h>>>25))+((h=l+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^l&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(l^e))+s[15]+1236535329&4294967295)<<22&4294967295|h>>>10))+((h=e+(a^l&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|h>>>27))+((h=l+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(l^e))+s[11]+643717713&4294967295)<<14&4294967295|h>>>18))+((h=t+(l^e&(a^l))+s[0]+3921069994&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^l&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|h>>>27))+((h=l+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(l^e))+s[15]+3634488961&4294967295)<<14&4294967295|h>>>18))+((h=t+(l^e&(a^l))+s[4]+3889429448&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^l&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|h>>>27))+((h=l+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(l^e))+s[3]+4107603335&4294967295)<<14&4294967295|h>>>18))+((h=t+(l^e&(a^l))+s[8]+1163531501&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^l&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|h>>>27))+((h=l+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(l^e))+s[7]+1735328473&4294967295)<<14&4294967295|h>>>18))+((h=t+(l^e&(a^l))+s[12]+2368359562&4294967295)<<20&4294967295|h>>>12))+((h=e+(t^a^l)+s[5]+4294588738&4294967295)<<4&4294967295|h>>>28))+((h=l+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|h>>>21))+((h=a+(l^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^l^e)+s[14]+4259657740&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^l)+s[1]+2763975236&4294967295)<<4&4294967295|h>>>28))+((h=l+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|h>>>21))+((h=a+(l^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^l^e)+s[10]+3200236656&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^l)+s[13]+681279174&4294967295)<<4&4294967295|h>>>28))+((h=l+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|h>>>21))+((h=a+(l^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^l^e)+s[6]+76029189&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^l)+s[9]+3654602809&4294967295)<<4&4294967295|h>>>28))+((h=l+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|h>>>21))+((h=a+(l^e^t)+s[15]+530742520&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^l^e)+s[2]+3299628645&4294967295)<<23&4294967295|h>>>9))+((h=e+(a^(t|~l))+s[0]+4096336452&4294967295)<<6&4294967295|h>>>26))+((h=l+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(l|~t))+s[14]+2878612391&4294967295)<<15&4294967295|h>>>17))+((h=t+(l^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|h>>>11))+((h=e+(a^(t|~l))+s[12]+1700485571&4294967295)<<6&4294967295|h>>>26))+((h=l+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(l|~t))+s[10]+4293915773&4294967295)<<15&4294967295|h>>>17))+((h=t+(l^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|h>>>11))+((h=e+(a^(t|~l))+s[8]+1873313359&4294967295)<<6&4294967295|h>>>26))+((h=l+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(l|~t))+s[6]+2734768916&4294967295)<<15&4294967295|h>>>17))+((h=t+(l^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|h>>>11))+((l=(e=t+((h=e+(a^(t|~l))+s[4]+4149444226&4294967295)<<6&4294967295|h>>>26))+((h=l+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|h>>>22))^((a=l+((h=a+(e^(l|~t))+s[2]+718787259&4294967295)<<15&4294967295|h>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(h<<21&4294967295|h>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+l&4294967295}function Ar(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var l=0|r[a];s&&l==e||(t[a]=l,s=!1)}this.g=t}(ve=Rr.prototype).Oa=function(r){this.M=r},ve.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Re.g(),this.C=function Yr(r){return r.h||(r.h=r.i())}(this.u?this.u:Re),this.g.onreadystatechange=mt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(l){return void Ei(this,l)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const l of s.keys())t.set(l,s.get(l))}s=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=se.FormData&&r instanceof se.FormData,!(0<=Tt(ui,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,h]of t)this.g.setRequestHeader(l,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ks(this),0<this.B&&((this.L=function Us(r){return je&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mt(this.ua,this)):this.A=nt(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(l){Ei(this,l)}},ve.ua=function(){typeof he<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zn(this,"timeout"),this.abort(8))},ve.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Zn(this,"complete"),Zn(this,"abort"),Bs(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bs(this,!0)),Rr.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?as(this):this.kb())},ve.kb=function(){as(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Wr(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=oa.prototype).ra=8,ve.H=1,ve.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Et(this,this.l,r);let l=this.s;if(this.U&&(l?(l=it(l),Gn(l,this.U)):l=this.U),null!==this.o||this.O||(a.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mn(this,a,e),Er(t=Gi(this.I),"RID",r),Er(t,"CVER",22),this.F&&Er(t,"X-HTTP-Session-Id",this.F),Ye(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(Po(l)))+"&"+e:this.o&&xs(t,this.o,l)),wn(this.i,a),this.bb&&Er(t,"TYPE","init"),this.P?(Er(t,"$req",e),Er(t,"SID","null"),a.aa=!0,er(a,t,null)):er(a,t,e),this.H=2}}else 3==this.H&&(r?X(this,r):0==this.j.length||Le(this.i)||X(this))},ve.Ma=function(){if(this.u=null,Ms(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Zt(mt(this.jb,this),r)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jr(10),so(this),Ms(this))},ve.ib=function(){null!=this.v&&(this.v=null,so(this),ni(this),jr(19))},ve.pb=function(r){r?(this.l.info("Successfully pinged google.com"),jr(2)):(this.l.info("Failed to ping google.com"),jr(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=ws.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},Zo.prototype.g=function(r,e){return new ki(r,e)},Qe(ki,Wt),ki.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;jr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=oo(r,null,r.Y),O(r)},ki.prototype.close=function(){Oo(this.g)},ki.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=$e(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&O(e)},ki.prototype.N=function(){this.g.h=null,delete this.j,Oo(this.g),delete this.g,ki.$.N.call(this)},Qe(_a,mr),Qe(Fa,Fe),Qe(ri,ws),ri.prototype.Ba=function(){Zn(this.g,"a")},ri.prototype.Aa=function(r){Zn(this.g,new _a(r))},ri.prototype.za=function(r){Zn(this.g,new Fa)},ri.prototype.ya=function(){Zn(this.g,"b")},Qe(ts,function No(){this.blockSize=-1}),ts.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ts.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,l=0;l<e;){if(0==a)for(;l<=t;)ko(this,r,l),l+=this.blockSize;if("string"==typeof r){for(;l<e;)if(s[a++]=r.charCodeAt(l++),a==this.blockSize){ko(this,s),a=0;break}}else for(;l<e;)if(s[a++]=r[l++],a==this.blockSize){ko(this,s),a=0;break}}this.h=a,this.i+=e},ts.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var La={};function go(r){return-128<=r&&128>r?function He(r,e){var t=La;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Ar([0|e],0>e?-1:0)}):new Ar([0|r],0>r?-1:0)}function Rs(r){if(isNaN(r)||!isFinite(r))return ns;if(0>r)return qr(Rs(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=mo;return new Ar(e,0)}var mo=4294967296,ns=go(0),Lo=go(1),Co=go(16777216);function gs(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Jr(r){return-1==r.h}function qr(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Ar(t,~r.h).add(Lo)}function Xr(r,e){return r.add(qr(e))}function Vo(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Ys(r,e){this.g=r,this.h=e}function Uo(r,e){if(gs(e))throw Error("division by zero");if(gs(r))return new Ys(ns,ns);if(Jr(r))return e=Uo(qr(r),e),new Ys(qr(e.g),qr(e.h));if(Jr(e))return e=Uo(r,qr(e)),new Ys(qr(e.g),e.h);if(30<r.g.length){if(Jr(r)||Jr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Lo,s=e;0>=s.X(r);)t=tu(t),s=tu(s);var a=Zi(t,1),l=Zi(s,1);for(s=Zi(s,2),t=Zi(t,2);!gs(s);){var h=l.add(s);0>=h.X(r)&&(a=a.add(t),l=h),s=Zi(s,1),t=Zi(t,1)}return e=Xr(r,a.R(e)),new Ys(a,e)}for(a=ns;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),h=(l=Rs(t)).R(e);Jr(h)||0<h.X(r);)h=(l=Rs(t-=s)).R(e);gs(l)&&(l=Lo),a=a.add(l),r=Xr(r,h)}return new Ys(a,r)}function tu(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Ar(t,r.h)}function Zi(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],l=0;l<s;l++)a[l]=0<e?r.D(l+t)>>>e|r.D(l+t+1)<<32-e:r.D(l+t);return new Ar(a,r.h)}(ve=Ar.prototype).ea=function(){if(Jr(this))return-qr(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:mo+s)*e,e*=mo}return r},ve.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(gs(this))return"0";if(Jr(this))return"-"+qr(this).toString(r);for(var e=Rs(Math.pow(r,6)),t=this,s="";;){var a=Uo(t,e).g,l=((0<(t=Xr(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(gs(t=a))return l+s;for(;6>l.length;)l="0"+l;s=l+s}},ve.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},ve.X=function(r){return Jr(r=Xr(this,r))?-1:gs(r)?0:1},ve.abs=function(){return Jr(this)?qr(this):this},ve.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var l=s+(65535&this.D(a))+(65535&r.D(a)),h=(l>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=h>>>16,t[a]=(h&=65535)<<16|(l&=65535)}return new Ar(t,-2147483648&t[t.length-1]?-1:0)},ve.R=function(r){if(gs(this)||gs(r))return ns;if(Jr(this))return Jr(r)?qr(this).R(qr(r)):qr(qr(this).R(r));if(Jr(r))return qr(this.R(qr(r)));if(0>this.X(Co)&&0>r.X(Co))return Rs(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var l=this.D(s)>>>16,h=65535&this.D(s),C=r.D(a)>>>16,F=65535&r.D(a);t[2*s+2*a]+=h*F,Vo(t,2*s+2*a),t[2*s+2*a+1]+=l*F,Vo(t,2*s+2*a+1),t[2*s+2*a+1]+=h*C,Vo(t,2*s+2*a+1),t[2*s+2*a+2]+=l*C,Vo(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Ar(t,0)},ve.gb=function(r){return Uo(this,r).h},ve.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Ar(t,this.h&r.h)},ve.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Ar(t,this.h|r.h)},ve.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Ar(t,this.h^r.h)},Zo.prototype.createWebChannel=Zo.prototype.g,ki.prototype.send=ki.prototype.u,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,Bn.NO_ERROR=0,Bn.TIMEOUT=8,Bn.HTTP_ERROR=6,Br.COMPLETE="complete",ci.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",Wt.prototype.listen=Wt.prototype.O,Rr.prototype.listenOnce=Rr.prototype.P,Rr.prototype.getLastError=Rr.prototype.Sa,Rr.prototype.getLastErrorCode=Rr.prototype.Ia,Rr.prototype.getStatus=Rr.prototype.da,Rr.prototype.getResponseJson=Rr.prototype.Wa,Rr.prototype.getResponseText=Rr.prototype.ja,Rr.prototype.send=Rr.prototype.ha,Rr.prototype.setWithCredentials=Rr.prototype.Oa,ts.prototype.digest=ts.prototype.l,ts.prototype.reset=ts.prototype.reset,ts.prototype.update=ts.prototype.j,Ar.prototype.add=Ar.prototype.add,Ar.prototype.multiply=Ar.prototype.R,Ar.prototype.modulo=Ar.prototype.gb,Ar.prototype.compare=Ar.prototype.X,Ar.prototype.toNumber=Ar.prototype.ea,Ar.prototype.toString=Ar.prototype.toString,Ar.prototype.getBits=Ar.prototype.D,Ar.fromNumber=Rs,Ar.fromString=function Fo(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return qr(Fo(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Rs(Math.pow(e,8)),s=ns,a=0;a<r.length;a+=8){var l=Math.min(8,r.length-a),h=parseInt(r.substring(a,a+l),e);8>l?(l=Rs(Math.pow(e,l)),s=s.R(l).add(Rs(h))):s=(s=s.R(t)).add(Rs(h))}return s};var Ci=Ae.createWebChannelTransport=function(){return new Zo},aa=Ae.getStatEventTarget=function(){return Kr()},Yo=Ae.ErrorCode=Bn,Va=Ae.EventType=Br,S=Ae.Event=Yn,j=Ae.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},N=Ae.FetchXmlHttpFactory=lr,Q=Ae.WebChannel=ci,ye=Ae.XhrIo=Rr,_=Ae.Md5=ts,I=Ae.Integer=Ar;const B="@firebase/firestore";class ue{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ue.UNAUTHENTICATED=new ue(null),ue.GOOGLE_CREDENTIALS=new ue("google-credentials-uid"),ue.FIRST_PARTY=new ue("first-party-uid"),ue.MOCK_USER=new ue("mock-user");let Ge="9.22.1";const qt=new L.Yd("@firebase/firestore");function En(){return qt.logLevel}function gt(r,...e){if(qt.logLevel<=L.in.DEBUG){const t=e.map(Es);qt.debug(`Firestore (${Ge}): ${r}`,...t)}}function cr(r,...e){if(qt.logLevel<=L.in.ERROR){const t=e.map(Es);qt.error(`Firestore (${Ge}): ${r}`,...t)}}function fi(r,...e){if(qt.logLevel<=L.in.WARN){const t=e.map(Es);qt.warn(`Firestore (${Ge}): ${r}`,...t)}}function Es(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function un(r="Unexpected state"){const e=`FIRESTORE (${Ge}) INTERNAL ASSERTION FAILED: `+r;throw cr(e),new Error(e)}function cn(r,e){r||un()}function Kt(r,e){return r}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends te.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ua{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ue.UNAUTHENTICATED))}shutdown(){}}class bu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zu{constructor(e){this.t=e,this.currentUser=ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=$=>this.i!==a?(a=this.i,t($)):Promise.resolve();let h=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Fi,e.enqueueRetryable(()=>l(this.currentUser))};const C=()=>{const $=h;e.enqueueRetryable((0,p.Z)(function*(){yield $.promise,yield l(s.currentUser)}))},F=$=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit($=>F($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?F($):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Fi)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(cn("string"==typeof s.accessToken),new nu(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return cn(null===e||"string"==typeof e),new ue(e)}}class yo{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=ue.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class bc{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new yo(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qo{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=l=>{null!=l.error&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.T;return this.T=l.token,gt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?a(l):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(cn("string"==typeof t.token),this.T=t.token,new Cu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Mi(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class wa{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Mi(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function sr(r,e){return r<e?-1:r>e?1:0}function Jo(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function ru(r){return r+"\0"}class Di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Di.fromMillis(Date.now())}static fromDate(e){return Di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Di(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sr(this.nanoseconds,e.nanoseconds):sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fn(e)}static min(){return new Fn(new Di(0,0))}static max(){return new Fn(new Di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Li{constructor(e,t,s){void 0===t?t=0:t>e.length&&un(),void 0===s?s=e.length-t:s>e.length-t&&un(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Li.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),h=t.get(a);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tr extends Li{construct(e,t,s){return new tr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Nt(at.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new tr(t)}static emptyPath(){return new tr([])}}const Ri=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends Li{construct(e,t,s){return new Ii(e,t,s)}static isValidIdentifier(e){return Ri.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ii(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Nt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const C=e[a];if("\\"===C){if(a+1===e.length)throw new Nt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[a+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Nt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=F,a+=2}else"`"===C?(h=!h,a++):"."!==C||h?(s+=C,a++):(l(),a++)}if(l(),h)throw new Nt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ii(t)}static emptyPath(){return new Ii([])}}class nn{constructor(e){this.path=e}static fromPath(e){return new nn(tr.fromString(e))}static fromName(e){return new nn(tr.fromString(e).popFirst(5))}static empty(){return new nn(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nn(new tr(e.slice()))}}class ua{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Xo(r){return r.fields.find(e=>2===e.kind)}function la(r){return r.fields.filter(e=>2!==e.kind)}ua.UNKNOWN_ID=-1;class Bo{constructor(e,t){this.fieldPath=e,this.kind=t}}class Do{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Do(0,Vi.min())}}function Is(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Fn.fromTimestamp(1e9===s?new Di(t+1,0):new Di(t,s));return new Vi(a,nn.empty(),e)}function Ea(r){return new Vi(r.readTime,r.key,-1)}class Vi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Vi(Fn.min(),nn.empty(),-1)}static max(){return new Vi(Fn.max(),nn.empty(),-1)}}function Ba(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=nn.comparator(r.documentKey,e.documentKey),0!==t?t:sr(r.largestBatchId,e.largestBatchId))}const iu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class To{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ps(r){return pl.apply(this,arguments)}function pl(){return pl=(0,p.Z)(function*(r){if(r.code!==at.FAILED_PRECONDITION||r.message!==iu)throw r;gt("LocalStore","Unexpectedly lost primary lease")}),pl.apply(this,arguments)}class ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&un(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ut((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ut?t:ut.resolve(t)}catch(t){return ut.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ut.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ut.reject(t)}static resolve(e){return new ut((t,s)=>{t(e)})}static reject(e){return new ut((t,s)=>{s(e)})}static waitFor(e){return new ut((t,s)=>{let a=0,l=0,h=!1;e.forEach(C=>{++a,C.next(()=>{++l,h&&l===a&&t()},F=>s(F))}),h=!0,l===a&&t()})}static or(e){let t=ut.resolve(!1);for(const s of e)t=t.next(a=>a?ut.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new ut((s,a)=>{const l=e.length,h=new Array(l);let C=0;for(let F=0;F<l;F++){const $=F;t(e[$]).next(ee=>{h[$]=ee,++C,C===l&&s(h)},ee=>a(ee))}})}static doWhile(e,t){return new ut((s,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):s()};l()})}}class si{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Fi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ia(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=ta(s.target.error);this.v.reject(new Ia(e,a))}}static open(e,t,s,a){try{return new si(t,e.transaction(a,s))}catch(l){throw new Ia(t,l)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(gt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gl(t)}}class Js{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===Js.S((0,te.z$)())&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return gt("SimpleDb","Removing database:",e),$a(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,te.hl)())return!1;if(Js.C())return!0;const e=(0,te.z$)(),t=Js.S(e),s=0<t&&t<10,a=Js.N(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,p.Z)(function*(){return t.db||(gt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{s(h.target.result)},l.onblocked=()=>{a(new Ia(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const C=h.target.error;a("VersionError"===C.name?new Nt(at.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Nt(at.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new Ia(e,C))},l.onupgradeneeded=h=>{gt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.V.O(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{gt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,p.Z)(function*(){const h="readonly"===t;let C=0;for(;;){++C;try{l.db=yield l.$(e);const F=si.open(l.db,e,h?"readonly":"readwrite",s),$=a(F).next(ee=>(F.P(),ee)).catch(ee=>(F.abort(ee),ut.reject(ee))).toPromise();return $.catch(()=>{}),yield F.R,$}catch(F){const $=F,ee="FirebaseError"!==$.name&&C<3;if(gt("SimpleDb","Transaction failed with error:",$.message,"Retrying:",ee),l.close(),!ee)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Wu{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return $a(this.L.delete())}}class Ia extends Nt{constructor(e,t){super(at.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ea(r){return"IndexedDbTransactionError"===r.name}class gl{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(gt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(gt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),$a(s)}add(e){return gt("SimpleDb","ADD",this.store.name,e,e),$a(this.store.add(e))}get(e){return $a(this.store.get(e)).next(t=>(void 0===t&&(t=null),gt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return gt("SimpleDb","DELETE",this.store.name,e),$a(this.store.delete(e))}count(){return gt("SimpleDb","COUNT",this.store.name),$a(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),l=[];return this.W(a,(h,C)=>{l.push(C)}).next(()=>l)}{const a=this.store.getAll(s.range);return new ut((l,h)=>{a.onerror=C=>{h(C.target.error)},a.onsuccess=C=>{l(C.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new ut((a,l)=>{s.onerror=h=>{l(h.target.error)},s.onsuccess=h=>{a(h.target.result)}})}J(e,t){gt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(l,h,C)=>C.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new ut((s,a)=>{t.onerror=l=>{const h=ta(l.target.error);a(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(C=>{C?h.continue():s()}):s()}})}W(e,t){const s=[];return new ut((a,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const C=h.target.result;if(!C)return void a();const F=new Wu(C),$=t(C.primaryKey,C.value,F);if($ instanceof ut){const ee=$.catch(Ee=>(F.done(),ut.reject(Ee)));s.push(ee)}F.isDone?a():null===F.K?C.continue():C.continue(F.K)}}).next(()=>ut.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $a(r){return new ut((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=ta(s.target.error);t(a)}})}let ml=!1;function ta(r){const e=Js.S((0,te.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ml||(ml=!0,setTimeout(()=>{throw s},0)),s}}return r}class vd{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;gt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,p.Z)(function*(){t.task=null;try{gt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){ea(s)?gt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Ps(s)}yield t.et(6e4)}))}}class $l{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,p.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,l=!0;return ut.doWhile(()=>!0===l&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!s.has(h))return gt("IndexBackiller",`Processing collection: ${h}`),this.it(e,h,a).next(C=>{a-=C,s.add(h)});l=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(l=>{const h=l.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.rt(a,l)).next(C=>(gt("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,t,C))).next(()=>h.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,l)=>{const h=Ea(l);Ba(h,s)>0&&(s=h)}),new Vi(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ii=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function ao(r){return null==r}function ca(r){return 0===r&&1/r==-1/0}function su(r){return"number"==typeof r&&Number.isInteger(r)&&!ca(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function li(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ou(e)),e=na(r.get(t),e);return ou(e)}function na(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function ou(r){return r+"\x01\x01"}function js(r){const e=r.length;if(cn(e>=2),2===e)return cn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),tr.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const h=r.indexOf("\x01",l);switch((h<0||h>t)&&un(),r.charAt(h+1)){case"\x01":const C=r.substring(l,h);let F;0===a.length?F=C:(a+=C,F=a,a=""),s.push(F);break;case"\x10":a+=r.substring(l,h),a+="\0";break;case"\x11":a+=r.substring(l,h+1);break;default:un()}l=h+2}return new tr(s)}const da=["userId","batchId"];function ja(r,e){return[r,li(e)]}function au(r,e,t){return[r,li(e),t]}const uu={},Du=["prefixPath","collectionGroup","readTime","documentId"],uo=["prefixPath","collectionGroup","documentId"],Ha=["collectionGroup","readTime","prefixPath","documentId"],v=["canonicalId","targetId"],w=["targetId","path"],m=["path","targetId"],A=["collectionId","parent"],U=["indexId","uid"],Y=["uid","sequenceNumber"],re=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Be=["indexId","uid","orderedDocumentKey"],St=["userId","collectionPath","documentId"],Xt=["userId","collectionPath","largestBatchId"],dn=["userId","collectionGroup","largestBatchId"],Ur=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pi=[...Ur,"documentOverlays"],$o=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Hs=$o,ra=[...Hs,"indexConfiguration","indexState","indexEntries"];class Xs extends To{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function yi(r,e){const t=Kt(r);return Js.M(t.ht,e)}function za(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ha(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Tu(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Ti{constructor(e,t){this.comparator=e,this.root=t||ms.EMPTY}insert(e,t){return new Ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ms.BLACK,null,null))}remove(e){return new Ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ms.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fa(this.root,e,this.comparator,!0)}}class fa{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ms{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??ms.RED,this.left=a??ms.EMPTY,this.right=l??ms.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new ms(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ms.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ms.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ms.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ms.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw un();const e=this.left.check();if(e!==this.right.check())throw un();return e+(this.isRed()?0:1)}}ms.EMPTY=null,ms.RED=!0,ms.BLACK=!1,ms.EMPTY=new class{constructor(){this.size=0}get key(){throw un()}get value(){throw un()}get color(){throw un()}get left(){throw un()}get right(){throw un()}copy(r,e,t,s,a){return this}insert(r,e,t){return new ms(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ui{constructor(e){this.comparator=e,this.data=new Ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dc(this.data.getIterator())}getIteratorFrom(e){return new Dc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ui)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ui(this.comparator);return t.data=e,t}}class Dc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lu(r){return r.hasNext()?r.getNext():void 0}class lo{constructor(e){this.fields=e,e.sort(Ii.comparator)}static empty(){return new lo([])}unionWith(e){let t=new Ui(Ii.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new lo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Tc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Tc("Invalid base64 string: "+a):a}}(e);return new bs(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new bs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bs.EMPTY_BYTE_STRING=new bs("");const _d=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(r){if(cn(!!r),"string"==typeof r){let e=0;const t=_d.exec(r);if(cn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Yi(r.seconds),nanos:Yi(r.nanos)}}function Yi(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ba(r){return"string"==typeof r?bs.fromBase64String(r):bs.fromUint8Array(r)}function Au(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Hl(r){const e=r.mapValue.fields.__previous_value__;return Au(e)?Hl(e):e}function Ca(r){const e=Ao(r.mapValue.fields.__local_write_time__.timestampValue);return new Di(e.seconds,e.nanos)}class Ac{constructor(e,t,s,a,l,h,C,F,$){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=C,this.longPollingOptions=F,this.useFetchStreams=$}}class jo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new jo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jo&&e.projectId===this.projectId&&e.database===this.database}}const pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ga={nullValue:"NULL_VALUE"};function Da(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Au(r)?4:qu(r)?9007199254740991:10:un()}function Ho(r,e){if(r===e)return!0;const t=Da(r);if(t!==Da(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ca(r).isEqual(Ca(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ao(s.timestampValue),h=Ao(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,ba(r.bytesValue).isEqual(ba(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Yi(s.geoPointValue.latitude)===Yi(a.geoPointValue.latitude)&&Yi(s.geoPointValue.longitude)===Yi(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Yi(s.integerValue)===Yi(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Yi(s.doubleValue),h=Yi(a.doubleValue);return l===h?ca(l)===ca(h):isNaN(l)&&isNaN(h)}return!1}(r,e);case 9:return Jo(r.arrayValue.values||[],e.arrayValue.values||[],Ho);case 10:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(za(l)!==za(h))return!1;for(const C in l)if(l.hasOwnProperty(C)&&(void 0===h[C]||!Ho(l[C],h[C])))return!1;return!0}(r,e);default:return un()}var a}function ga(r,e){return void 0!==(r.values||[]).find(t=>Ho(t,e))}function ma(r,e){if(r===e)return 0;const t=Da(r),s=Da(e);if(t!==s)return sr(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return sr(r.booleanValue,e.booleanValue);case 2:return function(a,l){const h=Yi(a.integerValue||a.doubleValue),C=Yi(l.integerValue||l.doubleValue);return h<C?-1:h>C?1:h===C?0:isNaN(h)?isNaN(C)?0:-1:1}(r,e);case 3:return zl(r.timestampValue,e.timestampValue);case 4:return zl(Ca(r),Ca(e));case 5:return sr(r.stringValue,e.stringValue);case 6:return function(a,l){const h=ba(a),C=ba(l);return h.compareTo(C)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),C=l.split("/");for(let F=0;F<h.length&&F<C.length;F++){const $=sr(h[F],C[F]);if(0!==$)return $}return sr(h.length,C.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const h=sr(Yi(a.latitude),Yi(l.latitude));return 0!==h?h:sr(Yi(a.longitude),Yi(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,l){const h=a.values||[],C=l.values||[];for(let F=0;F<h.length&&F<C.length;++F){const $=ma(h[F],C[F]);if($)return $}return sr(h.length,C.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===pa.mapValue&&l===pa.mapValue)return 0;if(a===pa.mapValue)return 1;if(l===pa.mapValue)return-1;const h=a.fields||{},C=Object.keys(h),F=l.fields||{},$=Object.keys(F);C.sort(),$.sort();for(let ee=0;ee<C.length&&ee<$.length;++ee){const Ee=sr(C[ee],$[ee]);if(0!==Ee)return Ee;const rt=ma(h[C[ee]],F[$[ee]]);if(0!==rt)return rt}return sr(C.length,$.length)}(r.mapValue,e.mapValue);default:throw un()}}function zl(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return sr(r,e);const t=Ao(r),s=Ao(e),a=sr(t.seconds,s.seconds);return 0!==a?a:sr(t.nanos,s.nanos)}function Wa(r){return Su(r)}function Su(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Ao(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ba(r.bytesValue).toBase64():"referenceValue"in r?nn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",l=!0;for(const h of s.values||[])l?l=!1:a+=",",a+=Su(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",h=!0;for(const C of a)h?h=!1:l+=",",l+=`${C}:${Su(s.fields[C])}`;return l+"}"}(r.mapValue):un();var e}function xu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gl(r){return!!r&&"integerValue"in r}function Ta(r){return!!r&&"arrayValue"in r}function Wl(r){return!!r&&"nullValue"in r}function qa(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cu(r){return!!r&&"mapValue"in r}function vo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ha(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=vo(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vo(r.arrayValue.values[t]);return e}return Object.assign({},r)}function qu(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function du(r){return"nullValue"in r?Ga:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?xu(jo.empty(),nn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:un()}function wd(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?xu(jo.empty(),nn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?pa:un()}function Aa(r,e){const t=ma(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function yl(r,e){const t=ma(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class eo{constructor(e){this.value=e}static empty(){return new eo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!cu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vo(t)}setAll(e){let t=Ii.emptyPath(),s={},a=[];e.forEach((h,C)=>{if(!t.isImmediateParentOf(C)){const F=this.getFieldsMap(t);this.applyChanges(F,s,a),s={},a=[],t=C.popLast()}h?s[C.lastSegment()]=vo(h):a.push(C.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());cu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ho(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];cu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){ha(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new eo(vo(this.value))}}function ql(r){const e=[];return ha(r.fields,(t,s)=>{const a=new Ii([t]);if(cu(s)){const l=ql(s.mapValue).fields;if(0===l.length)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new lo(e)}class Bi{constructor(e,t,s,a,l,h,C){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=h,this.documentState=C}static newInvalidDocument(e){return new Bi(e,0,Fn.min(),Fn.min(),Fn.min(),eo.empty(),0)}static newFoundDocument(e,t,s,a){return new Bi(e,1,t,Fn.min(),s,a,0)}static newNoDocument(e,t){return new Bi(e,2,t,Fn.min(),Fn.min(),eo.empty(),0)}static newUnknownDocument(e,t){return new Bi(e,3,t,Fn.min(),Fn.min(),eo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sa{constructor(e,t){this.position=e,this.inclusive=t}}function vl(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],h=r.position[a];if(s=l.field.isKeyField()?nn.comparator(nn.fromName(h.referenceValue),t.key):ma(h,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return s}function b(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ho(r.position[t],e.position[t]))return!1;return!0}class M{constructor(e,t="asc"){this.field=e,this.dir=t}}function G(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class de{}class we extends de{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new hu(e,t,s):"array-contains"===t?new zo(e,s):"in"===t?new Zl(e,s):"not-in"===t?new xc(e,s):"array-contains-any"===t?new Ed(e,s):new we(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Kl(e,s):new Mu(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ma(t,this.value)):null!==t&&Da(this.value)===Da(t)&&this.matchesComparison(ma(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return un()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Te extends de{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Te(e,t)}matches(e){return yt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function yt(r){return"and"===r.op}function hn(r){return"or"===r.op}function rn(r){return jn(r)&&yt(r)}function jn(r){for(const e of r.filters)if(e instanceof Te)return!1;return!0}function dr(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(rn(r))return r.filters.map(e=>dr(e)).join(",");{const e=r.filters.map(t=>dr(t)).join(",");return`${r.op}(${e})`}}function hr(r,e){return r instanceof we?(t=r,(s=e)instanceof we&&t.op===s.op&&t.field.isEqual(s.field)&&Ho(t.value,s.value)):r instanceof Te?function(t,s){return s instanceof Te&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,l,h)=>a&&hr(l,s.filters[h]),!0)}(r,e):void un();var t,s}function to(r,e){const t=r.filters.concat(e);return Te.create(t,r.op)}function Os(r){return r instanceof we?`${(e=r).field.canonicalString()} ${e.op} ${Wa(e.value)}`:r instanceof Te?function(e){return e.op.toString()+" {"+e.getFilters().map(Os).join(" ,")+"}"}(r):"Filter";var e}class hu extends we{constructor(e,t,s){super(e,t,s),this.key=nn.fromName(s.referenceValue)}matches(e){const t=nn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kl extends we{constructor(e,t){super(e,"in",t),this.keys=_o(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mu extends we{constructor(e,t){super(e,"not-in",t),this.keys=_o(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _o(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>nn.fromName(s.referenceValue))}class zo extends we{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ta(t)&&ga(t.arrayValue,this.value)}}class Zl extends we{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ga(this.value.arrayValue,t)}}class xc extends we{constructor(e,t){super(e,"not-in",t)}matches(e){if(ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ga(this.value.arrayValue,t)}}class Ed extends we{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ta(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ga(this.value.arrayValue,s))}}class Th{constructor(e,t=null,s=[],a=[],l=null,h=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=h,this.endAt=C,this.dt=null}}function Ru(r,e=null,t=[],s=[],a=null,l=null,h=null){return new Th(r,e,t,s,a,l,h)}function Ka(r){const e=Kt(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>dr(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),ao(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Wa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Wa(s)).join(",")),e.dt=t}return e.dt}function Ku(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!G(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!hr(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!b(r.startAt,e.startAt)&&b(r.endAt,e.endAt)}function fu(r){return nn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function _l(r,e){return r.filters.filter(t=>t instanceof we&&t.field.isEqual(e))}function Id(r,e,t){let s=Ga,a=!0;for(const l of _l(r,e)){let h=Ga,C=!0;switch(l.op){case"<":case"<=":h=du(l.value);break;case"==":case"in":case">=":h=l.value;break;case">":h=l.value,C=!1;break;case"!=":case"not-in":h=Ga}Aa({value:s,inclusive:a},{value:h,inclusive:C})<0&&(s=h,a=C)}if(null!==t)for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const h=t.position[l];Aa({value:s,inclusive:a},{value:h,inclusive:t.inclusive})<0&&(s=h,a=t.inclusive);break}return{value:s,inclusive:a}}function Ah(r,e,t){let s=pa,a=!0;for(const l of _l(r,e)){let h=pa,C=!0;switch(l.op){case">=":case">":h=wd(l.value),C=!1;break;case"==":case"in":case"<=":h=l.value;break;case"<":h=l.value,C=!1;break;case"!=":case"not-in":h=pa}yl({value:s,inclusive:a},{value:h,inclusive:C})>0&&(s=h,a=C)}if(null!==t)for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const h=t.position[l];yl({value:s,inclusive:a},{value:h,inclusive:t.inclusive})>0&&(s=h,a=t.inclusive);break}return{value:s,inclusive:a}}class xa{constructor(e,t=null,s=[],a=[],l=null,h="F",C=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=h,this.startAt=C,this.endAt=F,this.wt=null,this._t=null}}function bd(r,e,t,s,a,l,h,C){return new xa(r,e,t,s,a,l,h,C)}function wl(r){return new xa(r)}function Sh(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function E(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function d(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function g(r){return null!==r.collectionGroup}function D(r){const e=Kt(r);if(null===e.wt){e.wt=[];const t=d(e),s=E(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new M(t)),e.wt.push(new M(Ii.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new M(Ii.keyField(),l))}}}return e.wt}function z(r){const e=Kt(r);if(!e._t)if("F"===e.limitType)e._t=Ru(e.path,e.collectionGroup,D(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of D(e))t.push(new M(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new Sa(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Sa(e.startAt.position,e.startAt.inclusive):null;e._t=Ru(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function oe(r,e){e.getFirstInequalityField(),d(r);const t=r.filters.concat([e]);return new xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Ve(r,e,t){return new xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function vt(r,e){return Ku(z(r),z(e))&&r.limitType===e.limitType}function en(r){return`${Ka(z(r))}|lt:${r.limitType}`}function In(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Os(s)).join(", ")}]`),ao(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Wa(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Wa(s)).join(",")),`Target(${t})`}(z(r))}; limitType=${r.limitType})`}function zn(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):nn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of D(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,l,h){const C=vl(a,l,h);return a.inclusive?C<=0:C<0}(t.startAt,D(t),s)||t.endAt&&!function(a,l,h){const C=vl(a,l,h);return a.inclusive?C>=0:C>0}(t.endAt,D(t),s)));var t,s}function Tr(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wo(r){return(e,t)=>{let s=!1;for(const a of D(r)){const l=pu(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function pu(r,e,t){const s=r.field.isKeyField()?nn.comparator(e.key,t.key):function(a,l,h){const C=l.data.field(a),F=h.data.field(a);return null!==C&&null!==F?ma(C,F):un()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return un()}}class ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Tu(this.inner)}size(){return this.innerSize}}const Zf=new Ti(nn.comparator);function zs(){return Zf}const Cd=new Ti(nn.comparator);function Zu(...r){let e=Cd;for(const t of r)e=e.insert(t.key,t);return e}function Yl(r){let e=Cd;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function va(){return Pu()}function Ql(){return Pu()}function Pu(){return new ya(r=>r.toString(),(r,e)=>r.isEqual(e))}const Jl=new Ti(nn.comparator),Mc=new Ui(nn.comparator);function Cr(...r){let e=Mc;for(const t of r)e=e.add(t);return e}const Dd=new Ui(sr);function Td(){return Dd}function xh(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ca(e)?"-0":e}}function Rc(r){return{integerValue:""+r}}function Wg(r,e){return su(e)?Rc(e):xh(r,e)}class Ad{constructor(){this._=void 0}}function Pv(r,e,t){return r instanceof Xl?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Au(a)&&(a=Hl(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):r instanceof El?Sd(r,e):r instanceof Yu?ec(r,e):function(s,a){const l=qg(s,a),h=Kg(l)+Kg(s.gt);return Gl(l)&&Gl(s.gt)?Rc(h):xh(s.serializer,h)}(r,e)}function Ov(r,e,t){return r instanceof El?Sd(r,e):r instanceof Yu?ec(r,e):t}function qg(r,e){return r instanceof Pc?Gl(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Xl extends Ad{}class El extends Ad{constructor(e){super(),this.elements=e}}function Sd(r,e){const t=Nv(e);for(const s of r.elements)t.some(a=>Ho(a,s))||t.push(s);return{arrayValue:{values:t}}}class Yu extends Ad{constructor(e){super(),this.elements=e}}function ec(r,e){let t=Nv(e);for(const s of r.elements)t=t.filter(a=>!Ho(a,s));return{arrayValue:{values:t}}}class Pc extends Ad{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Kg(r){return Yi(r.integerValue||r.doubleValue)}function Nv(r){return Ta(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class xd{constructor(e,t){this.field=e,this.transform=t}}class kv{constructor(e,t){this.version=e,this.transformResults=t}}class ls{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ls}static exists(e){return new ls(void 0,e)}static updateTime(e){return new ls(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Oc{}function Qf(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Ou(r.key,ls.none()):new kc(r.key,r.data,ls.none());{const t=r.data,s=eo.empty();let a=new Ui(Ii.comparator);for(let l of e.fields)if(!a.has(l)){let h=t.field(l);null===h&&l.length>1&&(l=l.popLast(),h=t.field(l)),null===h?s.delete(l):s.set(l,h),a=a.add(l)}return new Qu(r.key,s,new lo(a.toArray()),ls.none())}}function Zg(r,e,t){r instanceof kc?function(s,a,l){const h=s.value.clone(),C=Xg(s.fieldTransforms,a,l.transformResults);h.setAll(C),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(r,e,t):r instanceof Qu?function(s,a,l){if(!tc(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=Xg(s.fieldTransforms,a,l.transformResults),C=a.data;C.setAll(Jg(s)),C.setAll(h),a.convertToFoundDocument(l.version,C).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Nc(r,e,t,s){return r instanceof kc?function(a,l,h,C){if(!tc(a.precondition,l))return h;const F=a.value.clone(),$=Ju(a.fieldTransforms,C,l);return F.setAll($),l.convertToFoundDocument(l.version,F).setHasLocalMutations(),null}(r,e,t,s):r instanceof Qu?function(a,l,h,C){if(!tc(a.precondition,l))return h;const F=Ju(a.fieldTransforms,C,l),$=l.data;return $.setAll(Jg(a)),$.setAll(F),l.convertToFoundDocument(l.version,$).setHasLocalMutations(),null===h?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ee=>ee.field))}(r,e,t,s):(h=t,tc(r.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h);var l,h}function Yg(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=qg(s.transform,a||null);null!=l&&(null===t&&(t=eo.empty()),t.set(s.field,l))}return t||null}function Qg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Jo(t,s,(a,l)=>function Yf(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof El&&s instanceof El||t instanceof Yu&&s instanceof Yu?Jo(t.elements,s.elements,Ho):t instanceof Pc&&s instanceof Pc?Ho(t.gt,s.gt):t instanceof Xl&&s instanceof Xl);var t,s}(a,l))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class kc extends Oc{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qu extends Oc{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Jg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Xg(r,e,t){const s=new Map;cn(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],h=l.transform,C=e.data.field(l.field);s.set(l.field,Ov(h,C,t[a]))}return s}function Ju(r,e,t){const s=new Map;for(const a of r){const l=a.transform,h=t.data.field(a.field);s.set(a.field,Pv(l,h,e))}return s}class Ou extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jf extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class em{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Zg(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Nc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Nc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ql();return this.mutations.forEach(a=>{const l=e.get(a.key),h=l.overlayedDocument;let C=this.applyToLocalView(h,l.mutatedFields);C=t.has(a.key)?null:C;const F=Qf(h,C);null!==F&&s.set(a.key,F),h.isValidDocument()||h.convertToNoDocument(Fn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cr())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(t,s)=>Qg(t,s))&&Jo(this.baseMutations,e.baseMutations,(t,s)=>Qg(t,s))}}class tm{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){cn(e.mutations.length===s.length);let a=Jl;const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,s[h].version);return new tm(e,t,s,a)}}class nm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jw{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gs,pi;function rm(r){switch(r){default:return un();case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0}}function im(r){if(void 0===r)return cr("GRPC error has no .code"),at.UNKNOWN;switch(r){case Gs.OK:return at.OK;case Gs.CANCELLED:return at.CANCELLED;case Gs.UNKNOWN:return at.UNKNOWN;case Gs.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Gs.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Gs.INTERNAL:return at.INTERNAL;case Gs.UNAVAILABLE:return at.UNAVAILABLE;case Gs.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Gs.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Gs.NOT_FOUND:return at.NOT_FOUND;case Gs.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Gs.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Gs.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Gs.ABORTED:return at.ABORTED;case Gs.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Gs.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Gs.DATA_LOSS:return at.DATA_LOSS;default:return un()}}(pi=Gs||(Gs={}))[pi.OK=0]="OK",pi[pi.CANCELLED=1]="CANCELLED",pi[pi.UNKNOWN=2]="UNKNOWN",pi[pi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pi[pi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pi[pi.NOT_FOUND=5]="NOT_FOUND",pi[pi.ALREADY_EXISTS=6]="ALREADY_EXISTS",pi[pi.PERMISSION_DENIED=7]="PERMISSION_DENIED",pi[pi.UNAUTHENTICATED=16]="UNAUTHENTICATED",pi[pi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pi[pi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pi[pi.ABORTED=10]="ABORTED",pi[pi.OUT_OF_RANGE=11]="OUT_OF_RANGE",pi[pi.UNIMPLEMENTED=12]="UNIMPLEMENTED",pi[pi.INTERNAL=13]="INTERNAL",pi[pi.UNAVAILABLE=14]="UNAVAILABLE",pi[pi.DATA_LOSS=15]="DATA_LOSS";class Xf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fc}static getOrCreateInstance(){return null===Fc&&(Fc=new Xf),Fc}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Fc=null;function Nu(){return new TextEncoder}const Md=new I([4294967295,4294967295],0);function ep(r){const e=Nu().encode(r),t=new _;return t.update(e),new Uint8Array(t.digest())}function tp(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new I([t,s],0),new I([a,l],0)]}class Mh{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Rh(`Invalid padding: ${t}`);if(s<0)throw new Rh(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Rh(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Rh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=I.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(I.fromNumber(s)));return 1===a.compare(Md)&&(a=new I([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ep(e),[s,a]=tp(t);for(let l=0;l<this.hashCount;l++){const h=this.Et(s,a,l);if(!this.At(h))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Mh(l,a,t);return s.forEach(C=>h.insert(C)),h}insert(e){if(0===this.It)return;const t=ep(e),[s,a]=tp(t);for(let l=0;l<this.hashCount;l++){const h=this.Et(s,a,l);this.Rt(h)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ph(Fn.min(),a,new Ti(sr),zs(),Cr())}}class Oh{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Oh(s,t,Cr(),Cr(),Cr())}}class Lc{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class Nh{constructor(e,t){this.targetId=e,this.Vt=t}}class Fv{constructor(e,t,s=bs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Lv{constructor(){this.St=0,this.Dt=am(),this.Ct=bs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Cr(),t=Cr(),s=Cr();return this.Dt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:un()}}),new Oh(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=am()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class sm{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=zs(),this.zt=om(),this.Wt=new Ti(sr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:un()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,l=this.se(s);if(l){const h=l.target;if(fu(h))if(0===a){const C=new nn(h.path);this.Yt(s,C,Bi.newNoDocument(C,Fn.min()))}else cn(1===a);else{const C=this.ie(s);if(C!==a){const F=this.re(e,C);0!==F&&(this.ee(s),this.Wt=this.Wt.insert(s,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Xf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function($,ee,Ee){var rt,Ct,Yt,Tn,Rn,Dr;const ei={localCacheCount:ee,existenceFilterCount:Ee.count},Nr=Ee.unchangedNames;return Nr&&(ei.bloomFilter={applied:0===$,hashCount:null!==(rt=Nr?.hashCount)&&void 0!==rt?rt:0,bitmapLength:null!==(Tn=null===(Yt=null===(Ct=Nr?.bits)||void 0===Ct?void 0:Ct.bitmap)||void 0===Yt?void 0:Yt.length)&&void 0!==Tn?Tn:0,padding:null!==(Dr=null===(Rn=Nr?.bits)||void 0===Rn?void 0:Rn.padding)&&void 0!==Dr?Dr:0}),ei}(F,C,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:l="",padding:h=0},hashCount:C=0}=s;let F,$;try{F=ba(l).toUint8Array()}catch(ee){if(ee instanceof Tc)return fi("Decoding the base64 bloom filter in existence filter failed ("+ee.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ee}try{$=new Mh(F,h,C)}catch(ee){return fi(ee instanceof Rh?"BloomFilter error: ":"Applying bloom filter failed: ",ee),1}return 0===$.It?1:a!==t-this.oe(e.targetId,$)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(l=>{const h=this.Gt.ue(),C=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;t.vt(C)||(this.Yt(e,l,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((l,h)=>{const C=this.se(h);if(C){if(l.current&&fu(C.target)){const F=new nn(C.target.path);null!==this.jt.get(F)||this.ae(h,F)||this.Yt(h,F,Bi.newNoDocument(F,e))}l.Mt&&(t.set(h,l.Ot()),l.Ft())}});let s=Cr();this.zt.forEach((l,h)=>{let C=!0;h.forEachWhile(F=>{const $=this.se(F);return!$||"TargetPurposeLimboResolution"===$.purpose||(C=!1,!1)}),C&&(s=s.add(l))}),this.jt.forEach((l,h)=>h.setReadTime(e));const a=new Ph(e,t,this.Wt,this.jt,s);return this.jt=zs(),this.zt=om(),this.Wt=new Ti(sr),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Lv,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ui(sr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||gt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Lv),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function om(){return new Ti(nn.comparator)}function am(){return new Ti(nn.comparator)}const Vv={asc:"ASCENDING",desc:"DESCENDING"},Uv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},um={and:"AND",or:"OR"};class kh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function np(r,e){return r.useProto3Json||ao(e)?e:{value:e}}function Il(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lm(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function no(r,e){return Il(r,e.toTimestamp())}function Ws(r){return cn(!!r),Fn.fromTimestamp(function(e){const t=Ao(e);return new Di(t.seconds,t.nanos)}(r))}function rp(r,e){return(t=r,new tr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Fh(r){const e=tr.fromString(r);return cn(fm(e)),e}function Vc(r,e){return rp(r.databaseId,e.path)}function ku(r,e){const t=Fh(e);if(t.get(1)!==r.databaseId.projectId)throw new Nt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Nt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new nn(sp(t))}function ip(r,e){return rp(r.databaseId,e)}function cm(r){const e=Fh(r);return 4===e.length?tr.emptyPath():sp(e)}function Rd(r){return new tr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sp(r){return cn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Bv(r,e,t){return{name:Vc(r,e),fields:t.value.mapValue.fields}}function $v(r,e,t){const s=ku(r,e.name),a=Ws(e.updateTime),l=e.createTime?Ws(e.createTime):Fn.min(),h=new eo({mapValue:{fields:e.fields}}),C=Bi.newFoundDocument(s,a,l,h);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function Uc(r,e){let t;if(e instanceof kc)t={update:Bv(r,e.key,e.value)};else if(e instanceof Ou)t={delete:Vc(r,e.key)};else if(e instanceof Qu)t={update:Bv(r,e.key,e.data),updateMask:rc(e.fieldMask)};else{if(!(e instanceof Jf))return un();t={verify:Vc(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const h=l.transform;if(h instanceof Xl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof El)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Pc)return{fieldPath:l.field.canonicalString(),increment:h.gt};throw un()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:no(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:un()),t;var a}function Lh(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?ls.updateTime(Ws(a.updateTime)):void 0!==a.exists?ls.exists(a.exists):ls.none():ls.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,h){let C=null;"setToServerValue"in h?(cn("REQUEST_TIME"===h.setToServerValue),C=new Xl):"appendMissingElements"in h?C=new El(h.appendMissingElements.values||[]):"removeAllFromArray"in h?C=new Yu(h.removeAllFromArray.values||[]):"increment"in h?C=new Pc(l,h.increment):un();const F=Ii.fromServerFormat(h.fieldPath);return new xd(F,C)}(r,a)):[];var a;if(e.update){const a=ku(r,e.update.name),l=new eo({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new lo((e.updateMask.fieldPaths||[]).map($=>Ii.fromServerFormat($)));return new Qu(a,l,h,t,s)}return new kc(a,l,t,s)}if(e.delete){const a=ku(r,e.delete);return new Ou(a,t)}if(e.verify){const a=ku(r,e.verify);return new Jf(a,t)}return un()}function jv(r,e){return{documents:[ip(r,e.path)]}}function ap(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=ip(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ip(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(F){if(0!==F.length)return cp(Te.create(F,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(F){if(0!==F.length)return F.map($=>{return{field:Fu((ee=$).field),direction:Hw(ee.dir)};var ee})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=np(r,e.limit);var C,F;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function up(r){let e=cm(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){cn(1===s);const ee=t.from[0];ee.allDescendants?a=ee.collectionId:e=e.child(ee.collectionId)}let l=[];t.where&&(l=function(ee){const Ee=Vh(ee);return Ee instanceof Te&&rn(Ee)?Ee.getFilters():[Ee]}(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(ee=>{return new M(nc((Ee=ee).field),function(rt){switch(rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ee.direction));var Ee}));let C=null;t.limit&&(C=function(ee){let Ee;return Ee="object"==typeof ee?ee.value:ee,ao(Ee)?null:Ee}(t.limit));let F=null;var ee;t.startAt&&(F=new Sa((ee=t.startAt).values||[],!!ee.before));let $=null;return t.endAt&&($=function(ee){return new Sa(ee.values||[],!ee.before)}(t.endAt)),bd(e,a,h,l,C,"F",F,$)}function Vh(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nc(e.unaryFilter.field);return we.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=nc(e.unaryFilter.field);return we.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=nc(e.unaryFilter.field);return we.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=nc(e.unaryFilter.field);return we.create(l,"!=",{nullValue:"NULL_VALUE"});default:return un()}}(r):void 0!==r.fieldFilter?we.create(nc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return un()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Te.create(e.compositeFilter.filters.map(t=>Vh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return un()}}(e.compositeFilter.op))}(r):un();var e}function Hw(r){return Vv[r]}function lp(r){return Uv[r]}function Hv(r){return um[r]}function Fu(r){return{fieldPath:r.canonicalString()}}function nc(r){return Ii.fromServerFormat(r.fieldPath)}function cp(r){return r instanceof we?function(e){if("=="===e.op){if(qa(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NAN"}};if(Wl(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qa(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NAN"}};if(Wl(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(e.field),op:lp(e.op),value:e.value}}}(r):r instanceof Te?function(e){const t=e.getFilters().map(s=>cp(s));return 1===t.length?t[0]:{compositeFilter:{op:Hv(e.op),filters:t}}}(r):un()}function rc(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fm(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class gu{constructor(e,t,s,a,l=Fn.min(),h=Fn.min(),C=bs.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=C,this.expectedCount=F}withSequenceNumber(e){return new gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Od{constructor(e){this.fe=e}}function Uh(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ic(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Vc(a=r.fe,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Il(a,l.version.toTimestamp()),createTime:Il(a,l.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Ma(e.version)};else{if(!e.isUnknownDocument())return un();s.unknownDocument={path:t.path.toArray(),version:Ma(e.version)}}var a,l;return s}function ic(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Ma(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bl(r){const e=new Di(r.seconds,r.nanoseconds);return Fn.fromTimestamp(e)}function Xu(r,e){const t=(e.baseMutations||[]).map(l=>Lh(r.fe,l));for(let l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);const s=e.mutations.map(l=>Lh(r.fe,l)),a=Di.fromMillis(e.localWriteTimeMs);return new em(e.batchId,a,t,s)}function Nd(r){const e=bl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?bl(r.lastLimboFreeSnapshotVersion):Fn.min();let s;var a;return void 0!==r.query.documents?(cn(1===(a=r.query).documents.length),s=z(wl(cm(a.documents[0])))):s=z(up(r.query)),new gu(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,bs.fromBase64String(r.resumeToken))}function pm(r,e){const t=Ma(e.snapshotVersion),s=Ma(e.lastLimboFreeSnapshotVersion);let a;a=fu(e.target)?jv(r.fe,e.target):ap(r.fe,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ka(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Bh(r){const e=up({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Ve(e,e.limit,"L"):e}function Cl(r,e){return new nm(e.largestBatchId,Lh(r.fe,e.overlayMutation))}function gm(r,e){const t=e.path.lastSegment();return[r,li(e.path.popLast()),t]}function mm(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Ma(s.readTime),documentKey:li(s.documentKey.path),largestBatchId:s.largestBatchId}}class Gv{getBundleMetadata(e,t){return $h(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:bl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return $h(e).put({bundleId:(s=t).id,createTime:Ma(Ws(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return ym(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Bh(a.bundledQuery),readTime:bl(a.readTime)};var a})}saveNamedQuery(e,t){return ym(e).put({name:(s=t).name,readTime:Ma(Ws(s.readTime)),bundledQuery:s.bundledQuery});var s}}function $h(r){return yi(r,"bundles")}function ym(r){return yi(r,"namedQueries")}class kd{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new kd(e,t.uid||"")}getOverlay(e,t){return Fd(e).get(gm(this.userId,t)).next(s=>s?Cl(this.serializer,s):null)}getOverlays(e,t){const s=va();return ut.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((l,h)=>{const C=new nm(t,h);a.push(this.we(e,C))}),ut.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(h=>a.add(li(h.getCollectionPath())));const l=[];return a.forEach(h=>{const C=IDBKeyRange.bound([this.userId,h,s],[this.userId,h,s+1],!1,!0);l.push(Fd(e).J("collectionPathOverlayIndex",C))}),ut.waitFor(l)}getOverlaysForCollection(e,t,s){const a=va(),l=li(t),h=IDBKeyRange.bound([this.userId,l,s],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Fd(e).j("collectionPathOverlayIndex",h).next(C=>{for(const F of C){const $=Cl(this.serializer,F);a.set($.getKey(),$)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const l=va();let h;const C=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Fd(e).X({index:"collectionGroupOverlayIndex",range:C},(F,$,ee)=>{const Ee=Cl(this.serializer,$);l.size()<a||Ee.largestBatchId===h?(l.set(Ee.getKey(),Ee),h=Ee.largestBatchId):ee.done()}).next(()=>l)}we(e,t){return Fd(e).put(function(s,a,l){const[h,C,F]=gm(a,l.mutation.key);return{userId:a,collectionPath:C,documentId:F,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Uc(s.fe,l.mutation)}}(this.serializer,this.userId,t))}}function Fd(r){return yi(r,"documentOverlays")}class Dl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Yi(e.integerValue));else if("doubleValue"in e){const s=Yi(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),ca(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ba(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?qu(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):un()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),nn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function zw(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function vm(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const l=zw(255&t[a]);if(s+=l,8!==l)break}return s}(r);return Math.ceil(e/8)}Dl.Ve=new Dl;class Ld{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=vm(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=vm(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Wv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Bc{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class el{constructor(){this.je=new Ld,this.ze=new Wv(this.je),this.We=new Bc(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class sc{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new sc(this.indexId,this.documentKey,this.arrayValue,s)}}function tl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=_m(r.arrayValue,e.arrayValue),0!==t?t:(t=_m(r.directionalValue,e.directionalValue),0!==t?t:nn.comparator(r.documentKey,e.documentKey)))}function _m(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class qv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){cn(e.collectionGroup===this.collectionId);const t=Xo(e);if(void 0!==t&&!this.en(t))return!1;const s=la(e);let a=0,l=0;for(;a<s.length&&this.en(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.Ze){const h=s[a];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[l++],h))return!1;++a}for(;a<s.length;++a)if(l>=this.Ye.length||!this.sn(this.Ye[l++],s[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function wm(r){var e,t;if(cn(r instanceof we||r instanceof Te),r instanceof we){if(r instanceof Zl){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>we.create(r.field,"==",l)))||[];return Te.create(a,"or")}return r}const s=r.filters.map(a=>wm(a));return Te.create(s,r.op)}function Em(r){if(0===r.getFilters().length)return[];const e=dp(wm(r));return cn(Hh(e)),jh(e)||Vd(e)?[e]:e.getFilters()}function jh(r){return r instanceof we}function Vd(r){return r instanceof Te&&rn(r)}function Hh(r){return jh(r)||Vd(r)||function(e){if(e instanceof Te&&hn(e)){for(const t of e.getFilters())if(!jh(t)&&!Vd(t))return!1;return!0}return!1}(r)}function dp(r){if(cn(r instanceof we||r instanceof Te),r instanceof we)return r;if(1===r.filters.length)return dp(r.filters[0]);const e=r.filters.map(s=>dp(s));let t=Te.create(e,r.op);return t=zh(t),Hh(t)?t:(cn(t instanceof Te),cn(yt(t)),cn(t.filters.length>1),t.filters.reduce((s,a)=>Ud(s,a)))}function Ud(r,e){let t;return cn(r instanceof we||r instanceof Te),cn(e instanceof we||e instanceof Te),t=r instanceof we?e instanceof we?Te.create([r,e],"and"):$c(r,e):e instanceof we?$c(e,r):function(s,a){if(cn(s.filters.length>0&&a.filters.length>0),yt(s)&&yt(a))return to(s,a.getFilters());const l=hn(s)?s:a,h=hn(s)?a:s,C=l.filters.map(F=>Ud(F,h));return Te.create(C,"or")}(r,e),zh(t)}function $c(r,e){if(yt(e))return to(e,r.getFilters());{const t=e.filters.map(s=>Ud(r,s));return Te.create(t,"or")}}function zh(r){if(cn(r instanceof we||r instanceof Te),r instanceof we)return r;const e=r.getFilters();if(1===e.length)return zh(e[0]);if(jn(r))return r;const t=e.map(a=>zh(a)),s=[];return t.forEach(a=>{a instanceof we?s.push(a):a instanceof Te&&(a.op===r.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:Te.create(s,r.op)}class Kv{constructor(){this.rn=new hp}addToCollectionParentIndex(e,t){return this.rn.add(t),ut.resolve()}getCollectionParents(e,t){return ut.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ut.resolve()}deleteFieldIndex(e,t){return ut.resolve()}getDocumentsMatchingTarget(e,t){return ut.resolve(null)}getIndexType(e,t){return ut.resolve(0)}getFieldIndexes(e,t){return ut.resolve([])}getNextCollectionGroupToUpdate(e){return ut.resolve(null)}getMinOffset(e,t){return ut.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,t){return ut.resolve(Vi.min())}updateCollectionGroup(e,t,s){return ut.resolve()}updateIndexEntries(e,t){return ut.resolve()}}class hp{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ui(tr.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ui(tr.comparator)).toArray()}}const Gh=new Uint8Array(0);class Zv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new hp,this.un=new ya(s=>Ka(s),(s,a)=>Ku(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const l={collectionId:s,parent:li(a)};return Im(e).put(l)}return ut.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[ru(t),""],!1,!0);return Im(e).j(a).next(l=>{for(const h of l){if(h.collectionId!==t)break;s.push(js(h.parent))}return s})}addFieldIndex(e,t){const s=nl(e),a={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var h;delete a.indexId;const l=s.add(a);if(t.indexState){const h=Ra(e);return l.next(C=>{h.put(mm(C,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const s=nl(e),a=Ra(e),l=Bd(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Bd(e);let a=!0;const l=new Map;return ut.forEach(this.cn(t),h=>this.an(e,h).next(C=>{a&&(a=!!C),l.set(h,C)})).next(()=>{if(a){let h=Cr();const C=[];return ut.forEach(l,(F,$)=>{var ee;gt("IndexedDbIndexManager",`Using index ${ee=F,`id=${ee.indexId}|cg=${ee.collectionGroup}|f=${ee.fields.map(Nr=>`${Nr.fieldPath}:${Nr.kind}`).join(",")}`} to execute ${Ka(t)}`);const Ee=function(Nr,Ts){const Qi=Xo(Ts);if(void 0===Qi)return null;for(const qi of _l(Nr,Qi.fieldPath))switch(qi.op){case"array-contains-any":return qi.value.arrayValue.values||[];case"array-contains":return[qi.value]}return null}($,F),rt=function(Nr,Ts){const Qi=new Map;for(const qi of la(Ts))for(const Io of _l(Nr,qi.fieldPath))switch(Io.op){case"==":case"in":Qi.set(qi.fieldPath.canonicalString(),Io.value);break;case"not-in":case"!=":return Qi.set(qi.fieldPath.canonicalString(),Io.value),Array.from(Qi.values())}return null}($,F),Ct=function(Nr,Ts){const Qi=[];let qi=!0;for(const Io of la(Ts)){const Bl=0===Io.kind?Id(Nr,Io.fieldPath,Nr.startAt):Ah(Nr,Io.fieldPath,Nr.startAt);Qi.push(Bl.value),qi&&(qi=Bl.inclusive)}return new Sa(Qi,qi)}($,F),Yt=function(Nr,Ts){const Qi=[];let qi=!0;for(const Io of la(Ts)){const Bl=0===Io.kind?Ah(Nr,Io.fieldPath,Nr.endAt):Id(Nr,Io.fieldPath,Nr.endAt);Qi.push(Bl.value),qi&&(qi=Bl.inclusive)}return new Sa(Qi,qi)}($,F),Tn=this.hn(F,$,Ct),Rn=this.hn(F,$,Yt),Dr=this.ln(F,$,rt),ei=this.fn(F.indexId,Ee,Tn,Ct.inclusive,Rn,Yt.inclusive,Dr);return ut.forEach(ei,Nr=>s.H(Nr,t.limit).next(Ts=>{Ts.forEach(Qi=>{const qi=nn.fromSegments(Qi.documentKey);h.has(qi)||(h=h.add(qi),C.push(qi))})}))}).next(()=>C)}return ut.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Em(Te.create(e.filters,"and")).map(s=>Ru(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,l,h,C){const F=(null!=t?t.length:1)*Math.max(s.length,l.length),$=F/(null!=t?t.length:1),ee=[];for(let Ee=0;Ee<F;++Ee){const rt=t?this.dn(t[Ee/$]):Gh,Ct=this.wn(e,rt,s[Ee%$],a),Yt=this._n(e,rt,l[Ee%$],h),Tn=C.map(Rn=>this.wn(e,rt,Rn,!0));ee.push(...this.createRange(Ct,Yt,Tn))}return ee}wn(e,t,s,a){const l=new sc(e,nn.empty(),t,s);return a?l:l.Je()}_n(e,t,s,a){const l=new sc(e,nn.empty(),t,s);return a?l.Je():l}an(e,t){const s=new qv(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(l=>{let h=null;for(const C of l)s.tn(C)&&(!h||C.fields.length>h.fields.length)&&(h=C);return h})}getIndexType(e,t){let s=2;const a=this.cn(t);return ut.forEach(a,l=>this.an(e,l).next(h=>{h?0!==s&&h.fields.length<function(C){let F=new Ui(Ii.comparator),$=!1;for(const ee of C.filters)for(const Ee of ee.getFlattenedFilters())Ee.field.isKeyField()||("array-contains"===Ee.op||"array-contains-any"===Ee.op?$=!0:F=F.add(Ee.field));for(const ee of C.orderBy)ee.field.isKeyField()||(F=F.add(ee.field));return F.size+($?1:0)}(l)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new el;for(const a of la(e)){const l=t.data.field(a.fieldPath);if(null==l)return null;const h=s.He(a.kind);Dl.Ve._e(l,h)}return s.Qe()}dn(e){const t=new el;return Dl.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new el;return Dl.Ve._e(xu(this.databaseId,t),s.He(function(a){const l=la(a);return 0===l.length?0:l[l.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new el);let l=0;for(const h of la(e)){const C=s[l++];for(const F of a)if(this.yn(t,h.fieldPath)&&Ta(C))a=this.pn(a,h,C);else{const $=F.He(h.kind);Dl.Ve._e(C,$)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],l=[];for(const h of s.arrayValue.values||[])for(const C of a){const F=new el;F.seed(C.Qe()),Dl.Ve._e(h,F.He(t.kind)),l.push(F)}return l}yn(e,t){return!!e.filters.find(s=>s instanceof we&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=nl(e),a=Ra(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(l=>{const h=[];return ut.forEach(l,C=>a.get([C.indexId,this.uid]).next(F=>{h.push(function($,ee){const Ee=ee?new Do(ee.sequenceNumber,new Vi(bl(ee.readTime),new nn(js(ee.documentKey)),ee.largestBatchId)):Do.empty(),rt=$.fields.map(([Ct,Yt])=>new Bo(Ii.fromServerFormat(Ct),Yt));return new ua($.indexId,$.collectionGroup,rt,Ee)}(C,F))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const l=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==l?l:sr(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=nl(e),l=Ra(e);return this.Tn(e).next(h=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>ut.forEach(C,F=>l.put(mm(F.indexId,this.user,h,s)))))}updateIndexEntries(e,t){const s=new Map;return ut.forEach(t,(a,l)=>{const h=s.get(a.collectionGroup);return(h?ut.resolve(h):this.getFieldIndexes(e,a.collectionGroup)).next(C=>(s.set(a.collectionGroup,C),ut.forEach(C,F=>this.En(e,a,F).next($=>{const ee=this.An(l,F);return $.isEqual(ee)?ut.resolve():this.vn(e,l,F,$,ee)}))))})}Rn(e,t,s,a){return Bd(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return Bd(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=Bd(e);let l=new Ui(tl);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(h,C)=>{l=l.add(new sc(s.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>l)}An(e,t){let s=new Ui(tl);const a=this.mn(t,e);if(null==a)return s;const l=Xo(t);if(null!=l){const h=e.data.field(l.fieldPath);if(Ta(h))for(const C of h.arrayValue.values||[])s=s.add(new sc(t.indexId,e.key,this.dn(C),a))}else s=s.add(new sc(t.indexId,e.key,Gh,a));return s}vn(e,t,s,a,l){gt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(C,F,$,ee,Ee){const rt=C.getIterator(),Ct=F.getIterator();let Yt=lu(rt),Tn=lu(Ct);for(;Yt||Tn;){let Rn=!1,Dr=!1;if(Yt&&Tn){const ei=$(Yt,Tn);ei<0?Dr=!0:ei>0&&(Rn=!0)}else null!=Yt?Dr=!0:Rn=!0;Rn?(ee(Tn),Tn=lu(Ct)):Dr?(Ee(Yt),Yt=lu(rt)):(Yt=lu(rt),Tn=lu(Ct))}}(a,l,tl,C=>{h.push(this.Rn(e,t,s,C))},C=>{h.push(this.Pn(e,t,s,C))}),ut.waitFor(h)}Tn(e){let t=1;return Ra(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,l)=>{l.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((h,C)=>tl(h,C)).filter((h,C,F)=>!C||0!==tl(h,F[C-1]));const a=[];a.push(e);for(const h of s){const C=tl(h,e),F=tl(h,t);if(0===C)a[0]=e.Je();else if(C>0&&F<0)a.push(h),a.push(h.Je());else if(F>0)break}a.push(t);const l=[];for(let h=0;h<a.length;h+=2){if(this.bn(a[h],a[h+1]))return[];l.push(IDBKeyRange.bound([a[h].indexId,this.uid,a[h].arrayValue,a[h].directionalValue,Gh,[]],[a[h+1].indexId,this.uid,a[h+1].arrayValue,a[h+1].directionalValue,Gh,[]]))}return l}bn(e,t){return tl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(bm)}getMinOffset(e,t){return ut.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||un())).next(bm)}}function Im(r){return yi(r,"collectionParents")}function Bd(r){return yi(r,"indexEntries")}function nl(r){return yi(r,"indexConfiguration")}function Ra(r){return yi(r,"indexState")}function bm(r){cn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;Ba(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Vi(e.readTime,e.documentKey,t)}const Cm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ia{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ia(e,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Yv(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),l=[],h=IDBKeyRange.only(t.batchId);let C=0;const F=s.X({range:h},(ee,Ee,rt)=>(C++,rt.delete()));l.push(F.next(()=>{cn(1===C)}));const $=[];for(const ee of t.mutations){const Ee=au(e,ee.key.path,t.batchId);l.push(a.delete(Ee)),$.push(ee.key)}return ut.waitFor(l).next(()=>$)}function $d(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw un();e=r.noDocument}return JSON.stringify(e).length}ia.DEFAULT_COLLECTION_PERCENTILE=10,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ia.DEFAULT=new ia(41943040,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ia.DISABLED=new ia(-1,0,0);class fp{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){cn(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new fp(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).X({index:"userMutationsIndex",range:s},(a,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=jc(e),h=rl(e);return h.add({}).next(C=>{cn("number"==typeof C);const F=new em(C,t,s,a),$=function(rt,Ct,Yt){const Tn=Yt.baseMutations.map(Dr=>Uc(rt.fe,Dr)),Rn=Yt.mutations.map(Dr=>Uc(rt.fe,Dr));return{userId:Ct,batchId:Yt.batchId,localWriteTimeMs:Yt.localWriteTime.toMillis(),baseMutations:Tn,mutations:Rn}}(this.serializer,this.userId,F),ee=[];let Ee=new Ui((rt,Ct)=>sr(rt.canonicalString(),Ct.canonicalString()));for(const rt of a){const Ct=au(this.userId,rt.key.path,C);Ee=Ee.add(rt.key.path.popLast()),ee.push(h.put($)),ee.push(l.put(Ct,uu))}return Ee.forEach(rt=>{ee.push(this.indexManager.addToCollectionParentIndex(e,rt))}),e.addOnCommittedListener(()=>{this.Vn[C]=F.keys()}),ut.waitFor(ee).next(()=>F)})}lookupMutationBatch(e,t){return rl(e).get(t).next(s=>s?(cn(s.userId===this.userId),Xu(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?ut.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return rl(e).X({index:"userMutationsIndex",range:a},(h,C,F)=>{C.userId===this.userId&&(cn(C.batchId>=s),l=Xu(this.serializer,C)),F.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return rl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,l,h)=>{s=l.batchId,h.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).j("userMutationsIndex",t).next(s=>s.map(a=>Xu(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=ja(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return jc(e).X({range:a},(h,C,F)=>{const[$,ee,Ee]=h,rt=js(ee);if($===this.userId&&t.path.isEqual(rt))return rl(e).get(Ee).next(Ct=>{if(!Ct)throw un();cn(Ct.userId===this.userId),l.push(Xu(this.serializer,Ct))});F.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ui(sr);const a=[];return t.forEach(l=>{const h=ja(this.userId,l.path),C=IDBKeyRange.lowerBound(h),F=jc(e).X({range:C},($,ee,Ee)=>{const[rt,Ct,Yt]=$,Tn=js(Ct);rt===this.userId&&l.path.isEqual(Tn)?s=s.add(Yt):Ee.done()});a.push(F)}),ut.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=ja(this.userId,s),h=IDBKeyRange.lowerBound(l);let C=new Ui(sr);return jc(e).X({range:h},(F,$,ee)=>{const[Ee,rt,Ct]=F,Yt=js(rt);Ee===this.userId&&s.isPrefixOf(Yt)?Yt.length===a&&(C=C.add(Ct)):ee.done()}).next(()=>this.Dn(e,C))}Dn(e,t){const s=[],a=[];return t.forEach(l=>{a.push(rl(e).get(l).next(h=>{if(null===h)throw un();cn(h.userId===this.userId),s.push(Xu(this.serializer,h))}))}),ut.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Yv(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ut.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ut.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return jc(e).X({range:s},(l,h,C)=>{if(l[0]===this.userId){const F=js(l[1]);a.push(F)}else C.done()}).next(()=>{cn(0===a.length)})})}containsKey(e,t){return pp(e,this.userId,t)}xn(e){return gp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pp(r,e,t){const s=ja(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let h=!1;return jc(r).X({range:l,Y:!0},(C,F,$)=>{const[ee,Ee,rt]=C;ee===e&&Ee===a&&(h=!0),$.done()}).next(()=>h)}function rl(r){return yi(r,"mutations")}function jc(r){return yi(r,"documentMutations")}function gp(r){return yi(r,"mutationQueues")}class oc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new oc(0)}static Mn(){return new oc(-1)}}class Qv{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new oc(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Fn.fromTimestamp(new Di(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Go(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(cn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return Go(e).X((h,C)=>{const F=Nd(C);F.sequenceNumber<=t&&null===s.get(F.targetId)&&(a++,l.push(this.removeTargetData(e,F)))}).next(()=>ut.waitFor(l)).next(()=>a)}forEachTarget(e,t){return Go(e).X((s,a)=>{const l=Nd(a);t(l)})}$n(e){return Dm(e).get("targetGlobalKey").next(t=>(cn(null!==t),t))}On(e,t){return Dm(e).put("targetGlobalKey",t)}Fn(e,t){return Go(e).put(pm(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Ka(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return Go(e).X({range:a,index:"queryTargetsIndex"},(h,C,F)=>{const $=Nd(C);Ku(t,$.target)&&(l=$,F.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=il(e);return t.forEach(h=>{const C=li(h.path);a.push(l.put({targetId:s,path:C})),a.push(this.referenceDelegate.addReference(e,s,h))}),ut.waitFor(a)}removeMatchingKeys(e,t,s){const a=il(e);return ut.forEach(t,l=>{const h=li(l.path);return ut.waitFor([a.delete([s,h]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=il(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=il(e);let l=Cr();return a.X({range:s,Y:!0},(h,C,F)=>{const $=js(h[1]),ee=new nn($);l=l.add(ee)}).next(()=>l)}containsKey(e,t){const s=li(t.path),a=IDBKeyRange.bound([s],[ru(s)],!1,!0);let l=0;return il(e).X({index:"documentTargetsIndex",Y:!0,range:a},([h,C],F,$)=>{0!==h&&(l++,$.done())}).next(()=>l>0)}le(e,t){return Go(e).get(t).next(s=>s?Nd(s):null)}}function Go(r){return yi(r,"targets")}function Dm(r){return yi(r,"targetGlobal")}function il(r){return yi(r,"targetDocuments")}function Tm([r,e],[t,s]){const a=sr(r,t);return 0===a?sr(e,s):a}class Jv{constructor(e){this.Ln=e,this.buffer=new Ui(Tm),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Tm(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Am{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;gt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,p.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){ea(s)?gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ps(s)}yield t.Qn(3e5)}))}}class Xv{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return ut.resolve(ii.ct);const s=new Jv(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(Cm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cm):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,l,h,C,F,$;const ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ee=>(Ee>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ee}`),a=this.params.maximumSequenceNumbersToCollect):a=Ee,h=Date.now(),this.nthSequenceNumber(e,a))).next(Ee=>(s=Ee,C=Date.now(),this.removeTargets(e,s,t))).next(Ee=>(l=Ee,F=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ee=>($=Date.now(),En()<=L.in.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-ee}ms\n\tDetermined least recently used ${a} in `+(C-h)+`ms\n\tRemoved ${l} targets in `+(F-C)+`ms\n\tRemoved ${Ee} documents in `+($-F)+`ms\nTotal Duration: ${$-ee}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:Ee})))}}class e_{constructor(e,t){this.db=e,this.garbageCollector=function mp(r,e){return new Xv(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Wh(e,s)}removeReference(e,t,s){return Wh(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Wh(e,t)}Xn(e,t){return function(s,a){let l=!1;return gp(s).Z(h=>pp(s,h,a).next(C=>(C&&(l=!0),ut.resolve(!C)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Yn(e,(h,C)=>{if(C<=t){const F=this.Xn(e,h).next($=>{if(!$)return l++,s.getEntry(e,h).next(()=>(s.removeEntry(h,Fn.min()),il(e).delete([0,li(h.path)])))});a.push(F)}}).next(()=>ut.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Wh(e,t)}Yn(e,t){const s=il(e);let a,l=ii.ct;return s.X({index:"documentTargetsIndex"},([h,C],{path:F,sequenceNumber:$})=>{0===h?(l!==ii.ct&&t(new nn(js(a)),l),l=$,a=F):l=ii.ct}).next(()=>{l!==ii.ct&&t(new nn(js(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wh(r,e){return il(r).put((s=r.currentSequenceNumber,{targetId:0,path:li(e.path),sequenceNumber:s}));var s}class Sm{constructor(){this.changes=new ya(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?ut.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Or{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return ac(e).put(s)}removeEntry(e,t,s){return ac(e).delete(function(a,l){const h=a.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],ic(l),h[h.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=Bi.newInvalidDocument(t);return ac(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(jd(t))},(a,l)=>{s=this.ts(t,l)}).next(()=>s)}es(e,t){let s={size:0,document:Bi.newInvalidDocument(t)};return ac(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(jd(t))},(a,l)=>{s={document:this.ts(t,l),size:$d(l)}}).next(()=>s)}getEntries(e,t){let s=zs();return this.ns(e,t,(a,l)=>{const h=this.ts(a,l);s=s.insert(a,h)}).next(()=>s)}ss(e,t){let s=zs(),a=new Ti(nn.comparator);return this.ns(e,t,(l,h)=>{const C=this.ts(l,h);s=s.insert(l,C),a=a.insert(l,$d(h))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return ut.resolve();let a=new Ui(Mm);t.forEach(F=>a=a.add(F));const l=IDBKeyRange.bound(jd(a.first()),jd(a.last())),h=a.getIterator();let C=h.getNext();return ac(e).X({index:"documentKeyIndex",range:l},(F,$,ee)=>{const Ee=nn.fromSegments([...$.prefixPath,$.collectionGroup,$.documentId]);for(;C&&Mm(C,Ee)<0;)s(C,null),C=h.getNext();C&&C.isEqual(Ee)&&(s(C,$),C=h.hasNext()?h.getNext():null),C?ee.G(jd(C)):ee.done()}).next(()=>{for(;C;)s(C,null),C=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const l=t.path,h=[l.popLast().toArray(),l.lastSegment(),ic(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],C=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ac(e).j(IDBKeyRange.bound(h,C,!0)).next(F=>{let $=zs();for(const ee of F){const Ee=this.ts(nn.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);Ee.isFoundDocument()&&(zn(t,Ee)||a.has(Ee.key))&&($=$.insert(Ee.key,Ee))}return $})}getAllFromCollectionGroup(e,t,s,a){let l=zs();const h=_p(t,s),C=_p(t,Vi.max());return ac(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,C,!0)},(F,$,ee)=>{const Ee=this.ts(nn.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);l=l.insert(Ee.key,Ee),l.size===a&&ee.done()}).next(()=>l)}newChangeBuffer(e){return new xm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return vp(e).get("remoteDocumentGlobalKey").next(t=>(cn(!!t),t))}Zn(e,t){return vp(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function zv(r,e){let t;if(e.document)t=$v(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=nn.fromSegments(e.noDocument.path),a=bl(e.noDocument.readTime);t=Bi.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return un();{const s=nn.fromSegments(e.unknownDocument.path),a=bl(e.unknownDocument.version);t=Bi.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Di(s[0],s[1]);return Fn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(Fn.min()))return s}return Bi.newInvalidDocument(e)}}function yp(r){return new Or(r)}class xm extends Sm{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ya(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Ui((l,h)=>sr(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const C=this.us.get(l);if(t.push(this.os.removeEntry(e,l,C.readTime)),h.isValidDocument()){const F=Uh(this.os.serializer,h);a=a.add(l.path.popLast());const $=$d(F);s+=$-C.size,t.push(this.os.addEntry(e,l,F))}else if(s-=C.size,this.trackRemovals){const F=Uh(this.os.serializer,h.convertToNoDocument(Fn.min()));t.push(this.os.addEntry(e,l,F))}}),a.forEach(l=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.os.updateMetadata(e,s)),ut.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((l,h)=>{this.us.set(l,{size:h,readTime:s.get(l).readTime})}),s))}}function vp(r){return yi(r,"remoteDocumentGlobal")}function ac(r){return yi(r,"remoteDocumentsV14")}function jd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _p(r,e){const t=e.documentKey.path.toArray();return[r,ic(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Mm(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<s.length-2;++l)if(a=sr(t[l],s[l]),a)return a;return a=sr(t.length,s.length),a||(a=sr(t[t.length-2],s[s.length-2]),a||sr(t[t.length-1],s[s.length-1]))}class Rm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Pm{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Nc(s.mutation,a,lo.empty(),Di.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Cr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Cr()){const a=va();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let h=Zu();return l.forEach((C,F)=>{h=h.insert(C,F.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=va();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Cr()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((h,C)=>{t.set(h,C)})})}computeViews(e,t,s,a){let l=zs();const h=Pu(),C=Pu();return t.forEach((F,$)=>{const ee=s.get($.key);a.has($.key)&&(void 0===ee||ee.mutation instanceof Qu)?l=l.insert($.key,$):void 0!==ee?(h.set($.key,ee.mutation.getFieldMask()),Nc(ee.mutation,$,ee.mutation.getFieldMask(),Di.now())):h.set($.key,lo.empty())}),this.recalculateAndSaveOverlays(e,l).next(F=>(F.forEach(($,ee)=>h.set($,ee)),t.forEach(($,ee)=>{var Ee;return C.set($,new Rm(ee,null!==(Ee=h.get($))&&void 0!==Ee?Ee:null))}),C))}recalculateAndSaveOverlays(e,t){const s=Pu();let a=new Ti((h,C)=>h-C),l=Cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const C of h)C.keys().forEach(F=>{const $=t.get(F);if(null===$)return;let ee=s.get(F)||lo.empty();ee=C.applyToLocalView($,ee),s.set(F,ee);const Ee=(a.get(C.batchId)||Cr()).add(F);a=a.insert(C.batchId,Ee)})}).next(()=>{const h=[],C=a.getReverseIterator();for(;C.hasNext();){const F=C.getNext(),$=F.key,ee=F.value,Ee=Ql();ee.forEach(rt=>{if(!l.has(rt)){const Ct=Qf(t.get(rt),s.get(rt));null!==Ct&&Ee.set(rt,Ct),l=l.add(rt)}}),h.push(this.documentOverlayCache.saveOverlays(e,$,Ee))}return ut.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return nn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):g(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const h=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ut.resolve(va());let C=-1,F=l;return h.next($=>ut.forEach($,(ee,Ee)=>(C<Ee.largestBatchId&&(C=Ee.largestBatchId),l.get(ee)?ut.resolve():this.remoteDocumentCache.getEntry(e,ee).next(rt=>{F=F.insert(ee,rt)}))).next(()=>this.populateOverlays(e,$,l)).next(()=>this.computeViews(e,F,$,Cr())).next(ee=>({batchId:C,changes:Yl(ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nn(t)).next(s=>{let a=Zu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let l=Zu();return this.indexManager.getCollectionParents(e,a).next(h=>ut.forEach(h,C=>{const F=($=t,ee=C.child(a),new xa(ee,null,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,$.startAt,$.endAt));var $,ee;return this.getDocumentsMatchingCollectionQuery(e,F,s).next($=>{$.forEach((ee,Ee)=>{l=l.insert(ee,Ee)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(l=>{a.forEach((C,F)=>{const $=F.getKey();null===l.get($)&&(l=l.insert($,Bi.newInvalidDocument($)))});let h=Zu();return l.forEach((C,F)=>{const $=a.get(C);void 0!==$&&Nc($.mutation,F,lo.empty(),Di.now()),zn(t,F)&&(h=h.insert(C,F))}),h})}}class t_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ut.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Ws(s.createTime)}),ut.resolve()}getNamedQuery(e,t){return ut.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Bh(s.bundledQuery),readTime:Ws(s.readTime)}),ut.resolve();var s}}class Gw{constructor(){this.overlays=new Ti(nn.comparator),this.ls=new Map}getOverlay(e,t){return ut.resolve(this.overlays.get(t))}getOverlays(e,t){const s=va();return ut.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.we(e,t,l)}),ut.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(s)),ut.resolve()}getOverlaysForCollection(e,t,s){const a=va(),l=t.length+1,h=new nn(t.child("")),C=this.overlays.getIteratorFrom(h);for(;C.hasNext();){const F=C.getNext().value,$=F.getKey();if(!t.isPrefixOf($.path))break;$.path.length===l&&F.largestBatchId>s&&a.set(F.getKey(),F)}return ut.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Ti(($,ee)=>$-ee);const h=this.overlays.getIterator();for(;h.hasNext();){const $=h.getNext().value;if($.getKey().getCollectionGroup()===t&&$.largestBatchId>s){let ee=l.get($.largestBatchId);null===ee&&(ee=va(),l=l.insert($.largestBatchId,ee)),ee.set($.getKey(),$)}}const C=va(),F=l.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach(($,ee)=>C.set($,ee)),!(C.size()>=a)););return ut.resolve(C)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const h=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new nm(t,s));let l=this.ls.get(t);void 0===l&&(l=Cr(),this.ls.set(t,l)),this.ls.set(t,l.add(s.key))}}class qh{constructor(){this.fs=new Ui(co.ds),this.ws=new Ui(co._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new co(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new co(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new nn(new tr([])),s=new co(t,e),a=new co(t,e+1),l=[];return this.ws.forEachInRange([s,a],h=>{this.ys(h),l.push(h.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new nn(new tr([])),s=new co(t,e),a=new co(t,e+1);let l=Cr();return this.ws.forEachInRange([s,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new co(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class co{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return nn.comparator(e.key,t.key)||sr(e.As,t.As)}static _s(e,t){return sr(e.As,t.As)||nn.comparator(e.key,t.key)}}class uc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ui(co.ds)}checkEmpty(e){return ut.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const l=this.vs;this.vs++;const h=new em(l,t,s,a);this.mutationQueue.push(h);for(const C of a)this.Rs=this.Rs.add(new co(C.key,l)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return ut.resolve(h)}lookupMutationBatch(e,t){return ut.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),l=a<0?0:a;return ut.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new co(t,0),a=new co(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([s,a],h=>{const C=this.Ps(h.As);l.push(C)}),ut.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ui(sr);return t.forEach(a=>{const l=new co(a,0),h=new co(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,h],C=>{s=s.add(C.As)})}),ut.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;nn.isDocumentKey(l)||(l=l.child(""));const h=new co(new nn(l),0);let C=new Ui(sr);return this.Rs.forEachWhile(F=>{const $=F.key.path;return!!s.isPrefixOf($)&&($.length===a&&(C=C.add(F.As)),!0)},h),ut.resolve(this.Vs(C))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){cn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return ut.forEach(t.mutations,a=>{const l=new co(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new co(t,0),a=this.Rs.firstAfterOrEqual(s);return ut.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return ut.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class n_{constructor(e){this.Ds=e,this.docs=new Ti(nn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,h=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ut.resolve(s?s.document.mutableCopy():Bi.newInvalidDocument(t))}getEntries(e,t){let s=zs();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Bi.newInvalidDocument(a))}),ut.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=zs();const h=t.path,C=new nn(h.child("")),F=this.docs.getIteratorFrom(C);for(;F.hasNext();){const{key:$,value:{document:ee}}=F.getNext();if(!h.isPrefixOf($.path))break;$.path.length>h.length+1||Ba(Ea(ee),s)<=0||(a.has(ee.key)||zn(t,ee))&&(l=l.insert(ee.key,ee.mutableCopy()))}return ut.resolve(l)}getAllFromCollectionGroup(e,t,s,a){un()}Cs(e,t){return ut.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new wp(this)}getSize(e){return ut.resolve(this.size)}}class wp extends Sm{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),ut.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ep{constructor(e){this.persistence=e,this.xs=new ya(t=>Ka(t),Ku),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new qh,this.targetCount=0,this.Ms=oc.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),ut.resolve()}getLastRemoteSnapshotVersion(e){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ut.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),ut.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new oc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ut.resolve()}updateTargetData(e,t){return this.Fn(t),ut.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ut.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.xs.forEach((h,C)=>{C.sequenceNumber<=t&&null===s.get(C.targetId)&&(this.xs.delete(h),l.push(this.removeMatchingKeysForTargetId(e,C.targetId)),a++)}),ut.waitFor(l).next(()=>a)}getTargetCount(e){return ut.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return ut.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),ut.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),ut.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ut.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return ut.resolve(s)}containsKey(e,t){return ut.resolve(this.ks.containsKey(t))}}class Ip{constructor(e,t){this.$s={},this.overlays={},this.Os=new ii(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ep(this),this.indexManager=new Kv,this.remoteDocumentCache=new n_(s=>this.referenceDelegate.Ls(s)),this.serializer=new Od(t),this.qs=new t_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new uc(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){gt("MemoryPersistence","Starting transaction:",e);const a=new Ww(this.Os.next());return this.referenceDelegate.Us(),s(a).next(l=>this.referenceDelegate.Ks(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Gs(e,t){return ut.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Ww extends To{constructor(e){super(),this.currentSequenceNumber=e}}class bp{constructor(e){this.persistence=e,this.Qs=new qh,this.js=null}static zs(e){return new bp(e)}get Ws(){if(this.js)return this.js;throw un()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),ut.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),ut.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ut.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ws.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.Ws,s=>{const a=nn.fromPath(s);return this.Hs(e,a).next(l=>{l||t.removeEntry(a,Fn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ut.or([()=>ut.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class r_{constructor(e){this.serializer=e}O(e,t,s,a){const l=new si("createOrUpgrade",t);var C;s<1&&a>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",da,{unique:!0}),C.createObjectStore("documentMutations"),Dp(e),function(C){C.createObjectStore("remoteDocuments")}(e));let h=ut.resolve();return s<3&&a>=3&&(0!==s&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),Dp(e)),h=h.next(()=>function(C){const F=C.store("targetGlobal"),$={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fn.min().toTimestamp(),targetCount:0};return F.put("targetGlobalKey",$)}(l))),s<4&&a>=4&&(0!==s&&(h=h.next(()=>function(C,F){return F.store("mutations").j().next($=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",da,{unique:!0});const ee=F.store("mutations"),Ee=$.map(rt=>ee.put(rt));return ut.waitFor(Ee)})}(e,l))),h=h.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(h=h.next(()=>this.Ys(l))),s<6&&a>=6&&(h=h.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(l)))),s<7&&a>=7&&(h=h.next(()=>this.Zs(l))),s<8&&a>=8&&(h=h.next(()=>this.ti(e,l))),s<9&&a>=9&&(h=h.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(h=h.next(()=>this.ei(l))),s<11&&a>=11&&(h=h.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(h=h.next(()=>{!function(C){const F=C.createObjectStore("documentOverlays",{keyPath:St});F.createIndex("collectionPathOverlayIndex",Xt,{unique:!1}),F.createIndex("collectionGroupOverlayIndex",dn,{unique:!1})}(e)})),s<13&&a>=13&&(h=h.next(()=>function(C){const F=C.createObjectStore("remoteDocumentsV14",{keyPath:Du});F.createIndex("documentKeyIndex",uo),F.createIndex("collectionGroupIndex",Ha)}(e)).next(()=>this.ni(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(h=h.next(()=>this.si(e,l))),s<15&&a>=15&&(h=h.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:U}).createIndex("sequenceNumberIndex",Y,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:re}).createIndex("documentKeyIndex",Be,{unique:!1})}(e))),h}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=$d(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>ut.forEach(a,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",h).next(C=>ut.forEach(C,F=>{cn(F.userId===l.userId);const $=Xu(this.serializer,F);return Yv(e,l.userId,$).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const l=[];return s.X((h,C)=>{const F=new tr(h),$=[0,li(F)];l.push(t.get($).next(ee=>ee?ut.resolve():t.put({targetId:0,path:li(F),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>ut.waitFor(l))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:A});const s=t.store("collectionParents"),a=new hp,l=h=>{if(a.add(h)){const C=h.lastSegment(),F=h.popLast();return s.put({collectionId:C,parent:li(F)})}};return t.store("remoteDocuments").X({Y:!0},(h,C)=>{const F=new tr(h);return l(F.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([h,C,F],$)=>{const ee=js(C);return l(ee.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const l=Nd(a),h=pm(this.serializer,l);return t.put(h)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((l,h)=>{const C=t.store("remoteDocumentsV14"),F=($=h,$.document?new nn(tr.fromString($.document.name).popFirst(5)):$.noDocument?nn.fromSegments($.noDocument.path):$.unknownDocument?nn.fromSegments($.unknownDocument.path):un()).path.toArray();var $;const ee={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};a.push(C.put(ee))}).next(()=>ut.waitFor(a))}si(e,t){const s=t.store("mutations"),a=yp(this.serializer),l=new Ip(bp.zs,this.serializer.fe);return s.j().next(h=>{const C=new Map;return h.forEach(F=>{var $;let ee=null!==($=C.get(F.userId))&&void 0!==$?$:Cr();Xu(this.serializer,F).keys().forEach(Ee=>ee=ee.add(Ee)),C.set(F.userId,ee)}),ut.forEach(C,(F,$)=>{const ee=new ue($),Ee=kd.de(this.serializer,ee),rt=l.getIndexManager(ee),Ct=fp.de(ee,this.serializer,rt,l.referenceDelegate);return new Pm(a,Ct,Ee,rt).recalculateAndSaveOverlaysForDocumentKeys(new Xs(t,ii.ct),F).next()})})}}function Dp(r){r.createObjectStore("targetDocuments",{keyPath:w}).createIndex("documentTargetsIndex",m,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",v,{unique:!0}),r.createObjectStore("targetGlobal")}const Om="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tp{constructor(e,t,s,a,l,h,C,F,$,ee,Ee=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=l,this.window=h,this.document=C,this.ri=$,this.oi=ee,this.ui=Ee,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=rt=>Promise.resolve(),!Tp.D())throw new Nt(at.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new e_(this,a),this.di=t+"main",this.serializer=new Od(F),this.wi=new Js(this.di,this.ui,new r_(this.serializer)),this.Bs=new Qv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yp(this.serializer),this.qs=new Gv,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ee&&cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nt(at.FAILED_PRECONDITION,Om);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ii(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,p.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,p.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,p.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Kh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ea(e))return gt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Lu(e).get("owner").next(t=>ut.resolve(this.Ri(t)))}Pi(e){return Kh(e).delete(this.clientId)}bi(){var e=this;return(0,p.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=yi(s,"clientMetadata");return a.j().next(l=>{const h=e.Si(l,18e5),C=l.filter(F=>-1===h.indexOf(F));return ut.forEach(C,F=>a.delete(F.clientId)).next(()=>C)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ut.resolve(!0):Lu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Nt(at.FAILED_PRECONDITION,Om);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kh(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&gt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,p.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Xs(t,ii.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Kh(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return fp.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return kd.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){gt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",l=15===(h=this.ui)?ra:14===h?Hs:13===h?$o:12===h?Pi:11===h?Ur:void un();var h;let C;return this.wi.runTransaction(e,a,l,F=>(C=new Xs(F,this.Os?this.Os.next():ii.ct),"readwrite-primary"===t?this.Ti(C).next($=>!!$||this.Ei(C)).next($=>{if(!$)throw cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Nt(at.FAILED_PRECONDITION,iu);return s(C)}).next($=>this.vi(C).next(()=>$)):this.Oi(C).next(()=>s(C)))).then(F=>(C.raiseOnCommittedEvent(),F))}Oi(e){return Lu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Nt(at.FAILED_PRECONDITION,Om)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lu(e).put("owner",t)}static D(){return Js.D()}Ai(e){const t=Lu(e);return t.get("owner").next(s=>this.Ri(s)?(gt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ut.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(cr(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,te.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return gt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return cr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){cr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lu(r){return yi(r,"owner")}function Kh(r){return yi(r,"clientMetadata")}function Zh(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Hc{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=Cr(),a=Cr();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Hc(e,t.fromCache,s,a)}}class Nm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(l=>l||this.Gi(e,t,a,s)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(Sh(t))return ut.resolve(null);let s=z(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Ve(t,null,"F"),s=z(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Cr(...l);return this.Ui.getDocuments(e,h).next(C=>this.indexManager.getMinOffset(e,s).next(F=>{const $=this.ji(t,C);return this.zi(t,$,h,F.readTime)?this.Ki(e,Ve(t,null,"F")):this.Wi(e,$,t,F)}))})))}Gi(e,t,s,a){return Sh(t)||a.isEqual(Fn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(l=>{const h=this.ji(t,l);return this.zi(t,h,s,a)?this.Qi(e,t):(En()<=L.in.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),In(t)),this.Wi(e,h,t,Is(a,-1)))})}ji(e,t){let s=new Ui(wo(e));return t.forEach((a,l)=>{zn(e,l)&&(s=s.add(l))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Qi(e,t){return En()<=L.in.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",In(t)),this.Ui.getDocumentsMatchingQuery(e,t,Vi.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}class km{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Ti(sr),this.Yi=new ya(l=>Ka(l),Ku),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Fm(r,e,t,s){return new km(r,e,t,s)}function Lm(r,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,p.Z)(function*(r,e){const t=Kt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],C=[];let F=Cr();for(const $ of a){h.push($.batchId);for(const ee of $.mutations)F=F.add(ee.key)}for(const $ of l){C.push($.batchId);for(const ee of $.mutations)F=F.add(ee.key)}return t.localDocuments.getDocuments(s,F).next($=>({er:$,removedBatchIds:h,addedBatchIds:C}))})})}),Ap.apply(this,arguments)}function Vm(r){const e=Kt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Bm(r,e,t){let s=Cr(),a=Cr();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=zs();return t.forEach((C,F)=>{const $=l.get(C);F.isFoundDocument()!==$.isFoundDocument()&&(a=a.add(C)),F.isNoDocument()&&F.version.isEqual(Fn.min())?(e.removeEntry(C,F.readTime),h=h.insert(C,F)):!$.isValidDocument()||F.version.compareTo($.version)>0||0===F.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(F),h=h.insert(C,F)):gt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",$.version," Watch version:",F.version)}),{nr:h,sr:a}})}function $m(r,e){const t=Kt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function lc(r,e){const t=Kt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(l=>l?(a=l,ut.resolve(a)):t.Bs.allocateTargetId(s).next(h=>(a=new gu(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function Tl(r,e,t){return jm.apply(this,arguments)}function jm(){return jm=(0,p.Z)(function*(r,e,t){const s=Kt(r),a=s.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!ea(h))throw h;gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),jm.apply(this,arguments)}function zc(r,e,t){const s=Kt(r);let a=Fn.min(),l=Cr();return s.persistence.runTransaction("Execute query","readonly",h=>function(C,F,$){const ee=Kt(C),Ee=ee.Yi.get($);return void 0!==Ee?ut.resolve(ee.Ji.get(Ee)):ee.Bs.getTargetData(F,$)}(s,h,z(e)).next(C=>{if(C)return a=C.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(h,C.targetId).next(F=>{l=F})}).next(()=>s.Hi.getDocumentsMatchingQuery(h,e,t?a:Fn.min(),t?l:Cr())).next(C=>(cc(s,Tr(e),C),{documents:C,ir:l})))}function Hm(r,e){const t=Kt(r),s=Kt(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.le(l,e).next(h=>h?h.target:null))}function s_(r,e){const t=Kt(r),s=t.Xi.get(e)||Fn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Is(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(cc(t,e,a),a))}function cc(r,e,t){let s=r.Xi.get(e)||Fn.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Xi.set(e,s)}function Sp(){return Sp=(0,p.Z)(function*(r,e,t,s){const a=Kt(r);let l=Cr(),h=zs();for(const $ of t){const ee=e.rr($.metadata.name);$.document&&(l=l.add(ee));const Ee=e.ur($);Ee.setReadTime(e.cr($.metadata.readTime)),h=h.insert(ee,Ee)}const C=a.Zi.newChangeBuffer({trackRemovals:!0}),F=yield lc(a,($=s,z(wl(tr.fromString(`__bundle__/docs/${$}`)))));var $;return a.persistence.runTransaction("Apply bundle documents","readwrite",$=>Bm($,C,h).next(ee=>(C.apply($),ee)).next(ee=>a.Bs.removeMatchingKeysForTargetId($,F.targetId).next(()=>a.Bs.addMatchingKeys($,l,F.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments($,ee.nr,ee.sr)).next(()=>ee.nr)))}),Sp.apply(this,arguments)}function Gm(r,e){return xp.apply(this,arguments)}function xp(){return xp=(0,p.Z)(function*(r,e,t=Cr()){const s=yield lc(r,z(Bh(e.bundledQuery))),a=Kt(r);return a.persistence.runTransaction("Save named query","readwrite",l=>{const h=Ws(e.readTime);if(s.snapshotVersion.compareTo(h)>=0)return a.qs.saveNamedQuery(l,e);const C=s.withResumeToken(bs.EMPTY_BYTE_STRING,h);return a.Ji=a.Ji.insert(C.targetId,C),a.Bs.updateTargetData(l,C).next(()=>a.Bs.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.Bs.addMatchingKeys(l,t,s.targetId)).next(()=>a.qs.saveNamedQuery(l,e))})}),xp.apply(this,arguments)}function Wm(r,e){return`firestore_clients_${r}_${e}`}function Hd(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Al(r,e){return`firestore_targets_${r}_${e}`}class Gc{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let l,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new Nt(a.error.code,a.error.message))),h?new Gc(e,t,a.state,l):(cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sl{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Nt(s.error.code,s.error.message))),l?new sl(e,s.state,a):(cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=Td();for(let h=0;a&&h<s.activeTargetIds.length;++h)a=su(s.activeTargetIds[h]),l=l.add(s.activeTargetIds[h]);return a?new Wc(e,l):(cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class qc{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new qc(t.clientId,t.onlineState):(cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yh{constructor(){this.activeTargetIds=Td()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zd{constructor(e,t,s,a,l){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ti(sr),this.started=!1,this.yr=[];const h=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.pr=Wm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Yh),this.Tr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,p.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const l=e.getItem(Wm(e.persistenceKey,a));if(l){const h=Wc.ar(a,l);h&&(e.gr=e.gr.insert(h.clientId,h))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Al(this.persistenceKey,e));if(s){const a=sl.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Al(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return gt("SharedClientState","READ",e,t),t}setItem(e,t){gt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){gt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(gt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,p.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(l){let h=ii.ct;if(null!=l)try{const C=JSON.parse(l);cn("number"==typeof C),h=C}catch(C){cr("SharedClientState","Failed to read sequence number from WebStorage",C)}return h}(s.newValue);a!==ii.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(l=>t.syncEngine.Qr(l)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new Gc(this.currentUser,e,t,s),l=Hd(this.persistenceKey,this.currentUser,e);this.setItem(l,a.hr())}Cr(e){const t=Hd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=Al(this.persistenceKey,e),l=new sl(e,t,s);this.setItem(a,l.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Wc.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return Gc.ar(new ue(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return sl.ar(a,t)}br(e){return qc.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,p.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);gt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),l=this.Sr(s),h=[],C=[];return l.forEach(F=>{a.has(F)||h.push(F)}),a.forEach(F=>{l.has(F)||C.push(F)}),this.syncEngine.Wr(h,C).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Td();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Qh{constructor(){this.Hr=new Yh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Yh,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Mp{Yr(e){}shutdown(){}}class Rp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kc=null;function Pp(){return null===Kc?Kc=268435456+Math.round(2147483648*Math.random()):Kc++,"0x"+Kc.toString(16)}const o_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qm{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Wo="WebChannelConnection";class Km extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,l){const h=Pp(),C=this.To(e,t);gt("RestConnection",`Sending RPC '${e}' ${h}:`,C,s);const F={};return this.Eo(F,a,l),this.Ao(e,C,F,s).then($=>(gt("RestConnection",`Received RPC '${e}' ${h}: `,$),$),$=>{throw fi("RestConnection",`RPC '${e}' ${h} failed with error: `,$,"url: ",C,"request:",s),$})}vo(e,t,s,a,l,h){return this.Io(e,t,s,a,l)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ge,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}To(e,t){return`${this.mo}/v1/${t}:${o_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const l=Pp();return new Promise((h,C)=>{const F=new ye;F.setWithCredentials(!0),F.listenOnce(Va.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Yo.NO_ERROR:const ee=F.getResponseJson();gt(Wo,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(ee)),h(ee);break;case Yo.TIMEOUT:gt(Wo,`RPC '${e}' ${l} timed out`),C(new Nt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Yo.HTTP_ERROR:const Ee=F.getStatus();if(gt(Wo,`RPC '${e}' ${l} failed with status:`,Ee,"response text:",F.getResponseText()),Ee>0){let rt=F.getResponseJson();Array.isArray(rt)&&(rt=rt[0]);const Ct=rt?.error;if(Ct&&Ct.status&&Ct.message){const Yt=function(Tn){const Rn=Tn.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(Rn)>=0?Rn:at.UNKNOWN}(Ct.status);C(new Nt(Yt,Ct.message))}else C(new Nt(at.UNKNOWN,"Server responded with status "+F.getStatus()))}else C(new Nt(at.UNAVAILABLE,"Connection failed."));break;default:un()}}finally{gt(Wo,`RPC '${e}' ${l} completed.`)}});const $=JSON.stringify(a);gt(Wo,`RPC '${e}' ${l} sending request:`,a),F.send(t,"POST",$,s,15)})}Ro(e,t,s){const a=Pp(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ci(),C=aa(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},$=this.longPollingOptions.timeoutSeconds;void 0!==$&&(F.longPollingTimeout=Math.round(1e3*$)),this.useFetchStreams&&(F.xmlHttpFactory=new N({})),this.Eo(F.initMessageHeaders,t,s),F.encodeInitMessageHeaders=!0;const ee=l.join("");gt(Wo,`Creating RPC '${e}' stream ${a}: ${ee}`,F);const Ee=h.createWebChannel(ee,F);let rt=!1,Ct=!1;const Yt=new qm({ro:Rn=>{Ct?gt(Wo,`Not sending because RPC '${e}' stream ${a} is closed:`,Rn):(rt||(gt(Wo,`Opening RPC '${e}' stream ${a} transport.`),Ee.open(),rt=!0),gt(Wo,`RPC '${e}' stream ${a} sending:`,Rn),Ee.send(Rn))},oo:()=>Ee.close()}),Tn=(Rn,Dr,ei)=>{Rn.listen(Dr,Nr=>{try{ei(Nr)}catch(Ts){setTimeout(()=>{throw Ts},0)}})};return Tn(Ee,Q.EventType.OPEN,()=>{Ct||gt(Wo,`RPC '${e}' stream ${a} transport opened.`)}),Tn(Ee,Q.EventType.CLOSE,()=>{Ct||(Ct=!0,gt(Wo,`RPC '${e}' stream ${a} transport closed`),Yt.wo())}),Tn(Ee,Q.EventType.ERROR,Rn=>{Ct||(Ct=!0,fi(Wo,`RPC '${e}' stream ${a} transport errored:`,Rn),Yt.wo(new Nt(at.UNAVAILABLE,"The operation could not be completed")))}),Tn(Ee,Q.EventType.MESSAGE,Rn=>{var Dr;if(!Ct){const ei=Rn.data[0];cn(!!ei);const Ts=ei.error||(null===(Dr=ei[0])||void 0===Dr?void 0:Dr.error);if(Ts){gt(Wo,`RPC '${e}' stream ${a} received error:`,Ts);const Qi=Ts.status;let qi=function(Bl){const Wf=Gs[Bl];if(void 0!==Wf)return im(Wf)}(Qi),Io=Ts.message;void 0===qi&&(qi=at.INTERNAL,Io="Unknown error status: "+Qi+" with message "+Ts.message),Ct=!0,Yt.wo(new Nt(qi,Io)),Ee.close()}else gt(Wo,`RPC '${e}' stream ${a} received:`,ei),Yt._o(ei)}}),Tn(C,S.STAT_EVENT,Rn=>{Rn.stat===j.PROXY?gt(Wo,`RPC '${e}' stream ${a} detected buffering proxy`):Rn.stat===j.NOPROXY&&gt(Wo,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Yt.fo()},0),Yt}}function Op(){return typeof window<"u"?window:null}function Jh(){return typeof document<"u"?document:null}function Gd(r){return new kh(r,!0)}class sa{constructor(e,t,s=1e3,a=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&gt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Zm{constructor(e,t,s,a,l,h,C,F){this.ii=e,this.$o=s,this.Oo=a,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=C,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sa(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,p.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,p.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,p.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===at.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===at.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new Nt(at.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,p.Z)(function*(){e.state=0,e.start()}))}tu(e){return gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a_ extends Zm{constructor(e,t,s,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function op(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:un(),a=e.targetChange.targetIds||[],l=function(F,$){return F.useProto3Json?(cn(void 0===$||"string"==typeof $),bs.fromBase64String($||"")):(cn(void 0===$||$ instanceof Uint8Array),bs.fromUint8Array($||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,C=h&&function(F){const $=void 0===F.code?at.UNKNOWN:im(F.code);return new Nt($,F.message||"")}(h);t=new Fv(s,a,l,C||null)}else if("documentChange"in e){const s=e.documentChange,a=ku(r,s.document.name),l=Ws(s.document.updateTime),h=s.document.createTime?Ws(s.document.createTime):Fn.min(),C=new eo({mapValue:{fields:s.document.fields}}),F=Bi.newFoundDocument(a,l,h,C);t=new Lc(s.targetIds||[],s.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const s=e.documentDelete,a=ku(r,s.document),l=s.readTime?Ws(s.readTime):Fn.min(),h=Bi.newNoDocument(a,l);t=new Lc([],s.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const s=e.documentRemove,a=ku(r,s.document);t=new Lc([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return un();{const s=e.filter,{count:a=0,unchangedNames:l}=s,h=new jw(a,l);t=new Nh(s.targetId,h)}}var F;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Fn.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Fn.min():l.readTime?Ws(l.readTime):Fn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=Rd(this.serializer),t.addTarget=function(a,l){let h;const C=l.target;if(h=fu(C)?{documents:jv(a,C)}:{query:ap(a,C)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=lm(a,l.resumeToken);const F=np(a,l.expectedCount);null!==F&&(h.expectedCount=F)}else if(l.snapshotVersion.compareTo(Fn.min())>0){h.readTime=Il(a,l.snapshotVersion.toTimestamp());const F=np(a,l.expectedCount);null!==F&&(h.expectedCount=F)}return h}(this.serializer,e);const s=function hm(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return un()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=Rd(this.serializer),t.removeTarget=e,this.Wo(t)}}class qw extends Zm{constructor(e,t,s,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,h),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function dm(r,e){return r&&r.length>0?(cn(void 0!==e),r.map(t=>function(s,a){let l=Ws(s.updateTime?s.updateTime:a);return l.isEqual(Fn.min())&&(l=Ws(a)),new kv(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Ws(e.commitTime);return this.listener.cu(s,t)}return cn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Rd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Uc(this.serializer,s))};this.Wo(t)}}class Np extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Nt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Io(e,t,s,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Nt(at.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.vo(e,t,s,l,h,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Nt(at.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class u_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(cr(t),this.mu=!1):gt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class l_{constructor(e,t,s,a,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(C=>{s.enqueueAndForget((0,p.Z)(function*(){var F;Vu(h)&&(gt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,p.Z)(function*($){const ee=Kt($);ee.vu.add(4),yield Yc(ee),ee.bu.set("Unknown"),ee.vu.delete(4),yield Zc(ee)}),function($){return F.apply(this,arguments)})(h))}))}),this.bu=new u_(s,a)}}function Zc(r){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,p.Z)(function*(r){if(Vu(r))for(const e of r.Ru)yield e(!0)}),Fp.apply(this,arguments)}function Yc(r){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,p.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),Wd.apply(this,arguments)}function Xh(r,e){const t=Kt(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Za(t)?Vp(t):Xc(t).Ko()&&Lp(t,e))}function qd(r,e){const t=Kt(r),s=Xc(t);t.Au.delete(e),s.Ko()&&Qm(t,e),0===t.Au.size&&(s.Ko()?s.jo():Vu(t)&&t.bu.set("Unknown"))}function Lp(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xc(r).su(e)}function Qm(r,e){r.Vu.qt(e),Xc(r).iu(e)}function Vp(r){r.Vu=new sm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Xc(r).start(),r.bu.gu()}function Za(r){return Vu(r)&&!Xc(r).Uo()&&r.Au.size>0}function Vu(r){return 0===Kt(r).vu.size}function Jm(r){r.Vu=void 0}function c_(r){return ef.apply(this,arguments)}function ef(){return ef=(0,p.Z)(function*(r){r.Au.forEach((e,t)=>{Lp(r,e)})}),ef.apply(this,arguments)}function d_(r,e){return Up.apply(this,arguments)}function Up(){return Up=(0,p.Z)(function*(r,e){Jm(r),Za(r)?(r.bu.Iu(e),Vp(r)):r.bu.set("Unknown")}),Up.apply(this,arguments)}function h_(r,e,t){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,p.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Fv&&2===e.state&&e.cause)try{yield(s=(0,p.Z)(function*(a,l){const h=l.cause;for(const C of l.targetIds)a.Au.has(C)&&(yield a.remoteSyncer.rejectListen(C,h),a.Au.delete(C),a.Vu.removeTarget(C))}),function(a,l){return s.apply(this,arguments)})(r,e)}catch(s){gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield tf(r,s)}else if(e instanceof Lc?r.Vu.Ht(e):e instanceof Nh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Fn.min()))try{const s=yield Vm(r.localStore);t.compareTo(s)>=0&&(yield function(a,l){const h=a.Vu.ce(l);return h.targetChanges.forEach((C,F)=>{if(C.resumeToken.approximateByteSize()>0){const $=a.Au.get(F);$&&a.Au.set(F,$.withResumeToken(C.resumeToken,l))}}),h.targetMismatches.forEach((C,F)=>{const $=a.Au.get(C);if(!$)return;a.Au.set(C,$.withResumeToken(bs.EMPTY_BYTE_STRING,$.snapshotVersion)),Qm(a,C);const ee=new gu($.target,C,F,$.sequenceNumber);Lp(a,ee)}),a.remoteSyncer.applyRemoteEvent(h)}(r,t))}catch(s){gt("RemoteStore","Failed to raise snapshot:",s),yield tf(r,s)}var s}),Kd.apply(this,arguments)}function tf(r,e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,p.Z)(function*(r,e,t){if(!ea(e))throw e;r.vu.add(1),yield Yc(r),r.bu.set("Offline"),t||(t=()=>Vm(r.localStore)),r.asyncQueue.enqueueRetryable((0,p.Z)(function*(){gt("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Zc(r)}))}),Bp.apply(this,arguments)}function Zd(r,e){return e().catch(t=>tf(r,t,e))}function ol(r){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,p.Z)(function*(r){const e=Kt(r),t=Ya(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Kw(e);)try{const a=yield $m(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,$p(e,a)}catch(a){yield tf(e,a)}f_(e)&&jp(e)}),Qc.apply(this,arguments)}function Kw(r){return Vu(r)&&r.Eu.length<10}function $p(r,e){r.Eu.push(e);const t=Ya(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function f_(r){return Vu(r)&&!Ya(r).Uo()&&r.Eu.length>0}function jp(r){Ya(r).start()}function Xm(r){return nf.apply(this,arguments)}function nf(){return nf=(0,p.Z)(function*(r){Ya(r).hu()}),nf.apply(this,arguments)}function ey(r){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,p.Z)(function*(r){const e=Ya(r);for(const t of r.Eu)e.uu(t.mutations)}),Yd.apply(this,arguments)}function al(r,e,t){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,p.Z)(function*(r,e,t){const s=r.Eu.shift(),a=tm.from(s,e,t);yield Zd(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield ol(r)}),Jc.apply(this,arguments)}function rf(r,e){return dc.apply(this,arguments)}function dc(){return dc=(0,p.Z)(function*(r,e){var t;e&&Ya(r).ou&&(yield(t=(0,p.Z)(function*(s,a){if(rm(l=a.code)&&l!==at.ABORTED){const h=s.Eu.shift();Ya(s).Qo(),yield Zd(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield ol(s)}var l}),function(s,a){return t.apply(this,arguments)})(r,e)),f_(r)&&jp(r)}),dc.apply(this,arguments)}function ty(r,e){return sf.apply(this,arguments)}function sf(){return sf=(0,p.Z)(function*(r,e){const t=Kt(r);t.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const s=Vu(t);t.vu.add(3),yield Yc(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Zc(t)}),sf.apply(this,arguments)}function af(r,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,p.Z)(function*(r,e){const t=Kt(r);e?(t.vu.delete(2),yield Zc(t)):e||(t.vu.add(2),yield Yc(t),t.bu.set("Unknown"))}),Hp.apply(this,arguments)}function Xc(r){return r.Su||(r.Su=function(e,t,s){const a=Kt(e);return a.fu(),new a_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:c_.bind(null,r),ao:d_.bind(null,r),nu:h_.bind(null,r)}),r.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(r.Su.Qo(),Za(r)?Vp(r):r.bu.set("Unknown")):(yield r.Su.stop(),Jm(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Ya(r){return r.Du||(r.Du=function(e,t,s){const a=Kt(e);return a.fu(),new qw(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:Xm.bind(null,r),ao:rf.bind(null,r),au:ey.bind(null,r),cu:al.bind(null,r)}),r.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(r.Du.Qo(),yield ol(r)):(yield r.Du.stop(),r.Eu.length>0&&(gt("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class zp{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,s,a,l){const h=Date.now()+s,C=new zp(e,t,h,a,l);return C.start(s),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qd(r,e){if(cr("AsyncQueue",`${e}: ${r}`),ea(r))return new Nt(at.UNAVAILABLE,`${e}: ${r}`);throw r}class ed{constructor(e){this.comparator=e?(t,s)=>e(t,s)||nn.comparator(t.key,s.key):(t,s)=>nn.comparator(t.key,s.key),this.keyedMap=Zu(),this.sortedSet=new Ti(this.comparator)}static emptySet(e){return new ed(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ed)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new ed;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class ny{constructor(){this.Cu=new Ti(nn.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):un():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class td{constructor(e,t,s,a,l,h,C,F,$){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=C,this.excludesMetadataChanges=F,this.hasCachedResults=$}static fromInitialDocuments(e,t,s,a,l){const h=[];return t.forEach(C=>{h.push({type:0,doc:C})}),new td(e,t,ed.emptySet(t),h,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class p_{constructor(){this.Nu=void 0,this.listeners=[]}}class g_{constructor(){this.queries=new ya(e=>en(e),vt),this.onlineState="Unknown",this.ku=new Set}}function Gp(r,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,p.Z)(function*(r,e){const t=Kt(r),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new p_),a)try{l.Nu=yield t.onListen(s)}catch(h){const C=Qd(h,`Initialization of query '${In(e.query)}' failed`);return void e.onError(C)}t.queries.set(s,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&Kp(t)}),Wp.apply(this,arguments)}function uf(r,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,p.Z)(function*(r,e){const t=Kt(r),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Jd.apply(this,arguments)}function m_(r,e){const t=Kt(r);let s=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const C of h.listeners)C.$u(a)&&(s=!0);h.Nu=a}}s&&Kp(t)}function qp(r,e,t){const s=Kt(r),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function Kp(r){r.ku.forEach(e=>{e.next()})}class Zp{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new td(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class y_{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class ry{constructor(e){this.serializer=e}rr(e){return ku(this.serializer,e)}ur(e){return e.metadata.exists?$v(this.serializer,e.document,!1):Bi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Ws(e)}}class v_{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=iy(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=tr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new ry(this.serializer);for(const a of e)if(a.metadata.queries){const l=s.rr(a.metadata.name);for(const h of a.metadata.queries){const C=(t.get(h)||Cr()).add(l);t.set(h,C)}}return t}complete(){var e=this;return(0,p.Z)(function*(){const t=yield function zm(r,e,t,s){return Sp.apply(this,arguments)}(e.localStore,new ry(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield Gm(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function iy(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class sy{constructor(e){this.key=e}}class Yp{constructor(e){this.key=e}}class Qp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Cr(),this.mutatedKeys=Cr(),this.tc=wo(e),this.ec=new ed(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new ny,a=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,C=!1;const F="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,$="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ee,Ee)=>{const rt=a.get(ee),Ct=zn(this.query,Ee)?Ee:null,Yt=!!rt&&this.mutatedKeys.has(rt.key),Tn=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let Rn=!1;rt&&Ct?rt.data.isEqual(Ct.data)?Yt!==Tn&&(s.track({type:3,doc:Ct}),Rn=!0):this.rc(rt,Ct)||(s.track({type:2,doc:Ct}),Rn=!0,(F&&this.tc(Ct,F)>0||$&&this.tc(Ct,$)<0)&&(C=!0)):!rt&&Ct?(s.track({type:0,doc:Ct}),Rn=!0):rt&&!Ct&&(s.track({type:1,doc:rt}),Rn=!0,(F||$)&&(C=!0)),Rn&&(Ct?(h=h.add(Ct),l=Tn?l.add(ee):l.delete(ee)):(h=h.delete(ee),l=l.delete(ee)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const ee="F"===this.query.limitType?h.last():h.first();h=h.delete(ee.key),l=l.delete(ee.key),s.track({type:1,doc:ee})}return{ec:h,ic:s,zi:C,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort(($,ee)=>function(Ee,rt){const Ct=Yt=>{switch(Yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return un()}};return Ct(Ee)-Ct(rt)}($.type,ee.type)||this.tc($.doc,ee.doc)),this.oc(s);const h=t?this.uc():[],C=0===this.Zu.size&&this.current?1:0,F=C!==this.Xu;return this.Xu=C,0!==l.length||F?{snapshot:new td(this.query,e.ec,a,l,e.mutatedKeys,0===C,F,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:h}:{cc:h}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ny,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Cr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Yp(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new sy(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Cr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return td.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class __{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Zw{constructor(e){this.key=e,this.fc=!1}}class oy{constructor(e,t,s,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.dc={},this.wc=new ya(C=>en(C),vt),this._c=new Map,this.mc=new Set,this.gc=new Ti(nn.comparator),this.yc=new Map,this.Ic=new qh,this.Tc={},this.Ec=new Map,this.Ac=oc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Yw(r,e){return nd.apply(this,arguments)}function nd(){return nd=(0,p.Z)(function*(r,e){const t=ih(r);let s,a;const l=t.wc.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.lc();else{const h=yield lc(t.localStore,z(e)),C=t.sharedClientState.addLocalQueryTarget(h.targetId);s=h.targetId,a=yield Jp(t,e,s,"current"===C,h.resumeToken),t.isPrimaryClient&&Xh(t.remoteStore,h)}return a}),nd.apply(this,arguments)}function Jp(r,e,t,s,a){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,p.Z)(function*(r,e,t,s,a){r.Rc=(Ee,rt,Ct)=>{return(Yt=(0,p.Z)(function*(Tn,Rn,Dr,ei){let Nr=Rn.view.sc(Dr);Nr.zi&&(Nr=yield zc(Tn.localStore,Rn.query,!1).then(({documents:qi})=>Rn.view.sc(qi,Nr)));const Ts=ei&&ei.targetChanges.get(Rn.targetId),Qi=Rn.view.applyChanges(Nr,Tn.isPrimaryClient,Ts);return lf(Tn,Rn.targetId,Qi.cc),Qi.snapshot}),function(Tn,Rn,Dr,ei){return Yt.apply(this,arguments)})(r,Ee,rt,Ct);var Yt};const l=yield zc(r.localStore,e,!0),h=new Qp(e,l.ir),C=h.sc(l.documents),F=Oh.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),$=h.applyChanges(C,r.isPrimaryClient,F);lf(r,t,$.cc);const ee=new __(e,t,h);return r.wc.set(e,ee),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),$.snapshot}),Xp.apply(this,arguments)}function eg(r,e){return tg.apply(this,arguments)}function tg(){return tg=(0,p.Z)(function*(r,e){const t=Kt(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(l=>!vt(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Tl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),qd(t.remoteStore,s.targetId),mu(t,s.targetId)}).catch(Ps))):(mu(t,s.targetId),yield Tl(t.localStore,s.targetId,!0))}),tg.apply(this,arguments)}function hc(){return hc=(0,p.Z)(function*(r,e,t){const s=gf(r);try{const a=yield function(l,h){const C=Kt(l),F=Di.now(),$=h.reduce((rt,Ct)=>rt.add(Ct.key),Cr());let ee,Ee;return C.persistence.runTransaction("Locally write mutations","readwrite",rt=>{let Ct=zs(),Yt=Cr();return C.Zi.getEntries(rt,$).next(Tn=>{Ct=Tn,Ct.forEach((Rn,Dr)=>{Dr.isValidDocument()||(Yt=Yt.add(Rn))})}).next(()=>C.localDocuments.getOverlayedDocuments(rt,Ct)).next(Tn=>{ee=Tn;const Rn=[];for(const Dr of h){const ei=Yg(Dr,ee.get(Dr.key).overlayedDocument);null!=ei&&Rn.push(new Qu(Dr.key,ei,ql(ei.value.mapValue),ls.exists(!0)))}return C.mutationQueue.addMutationBatch(rt,F,Rn,h)}).next(Tn=>{Ee=Tn;const Rn=Tn.applyToLocalDocumentSet(ee,Yt);return C.documentOverlayCache.saveOverlays(rt,Tn.batchId,Rn)})}).then(()=>({batchId:Ee.batchId,changes:Yl(ee)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,h,C){let F=l.Tc[l.currentUser.toKey()];F||(F=new Ti(sr)),F=F.insert(h,C),l.Tc[l.currentUser.toKey()]=F}(s,a.batchId,t),yield Bu(s,a.changes),yield ol(s.remoteStore)}catch(a){const l=Qd(a,"Failed to persist write");t.reject(l)}}),hc.apply(this,arguments)}function So(r,e){return ul.apply(this,arguments)}function ul(){return ul=(0,p.Z)(function*(r,e){const t=Kt(r);try{const s=yield function Um(r,e){const t=Kt(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const C=[];e.targetChanges.forEach((ee,Ee)=>{const rt=a.get(Ee);if(!rt)return;C.push(t.Bs.removeMatchingKeys(l,ee.removedDocuments,Ee).next(()=>t.Bs.addMatchingKeys(l,ee.addedDocuments,Ee)));let Ct=rt.withSequenceNumber(l.currentSequenceNumber);var Yt,Tn,Rn;null!==e.targetMismatches.get(Ee)?Ct=Ct.withResumeToken(bs.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):ee.resumeToken.approximateByteSize()>0&&(Ct=Ct.withResumeToken(ee.resumeToken,s)),a=a.insert(Ee,Ct),Tn=Ct,Rn=ee,(0===(Yt=rt).resumeToken.approximateByteSize()||Tn.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8||Rn.addedDocuments.size+Rn.modifiedDocuments.size+Rn.removedDocuments.size>0)&&C.push(t.Bs.updateTargetData(l,Ct))});let F=zs(),$=Cr();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(l,ee))}),C.push(Bm(l,h,e.documentUpdates).next(ee=>{F=ee.nr,$=ee.sr})),!s.isEqual(Fn.min())){const ee=t.Bs.getLastRemoteSnapshotVersion(l).next(Ee=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,s));C.push(ee)}return ut.waitFor(C).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,F,$)).next(()=>F)}).then(l=>(t.Ji=a,l))}(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.yc.get(l);h&&(cn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.fc=!0:a.modifiedDocuments.size>0?cn(h.fc):a.removedDocuments.size>0&&(cn(h.fc),h.fc=!1))}),yield Bu(t,s,e)}catch(s){yield Ps(s)}}),ul.apply(this,arguments)}function Xd(r,e,t){const s=Kt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((l,h)=>{const C=h.view.Mu(e);C.snapshot&&a.push(C.snapshot)}),function(l,h){const C=Kt(l);C.onlineState=h;let F=!1;C.queries.forEach(($,ee)=>{for(const Ee of ee.listeners)Ee.Mu(h)&&(F=!0)}),F&&Kp(C)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Qa(r,e,t){return eh.apply(this,arguments)}function eh(){return eh=(0,p.Z)(function*(r,e,t){const s=Kt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),l=a&&a.key;if(l){let h=new Ti(nn.comparator);h=h.insert(l,Bi.newNoDocument(l,Fn.min()));const C=Cr().add(l),F=new Ph(Fn.min(),new Map,new Ti(sr),h,C);yield So(s,F),s.gc=s.gc.remove(l),s.yc.delete(e),cf(s)}else yield Tl(s.localStore,e,!1).then(()=>mu(s,e,t)).catch(Ps)}),eh.apply(this,arguments)}function rd(r,e){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,p.Z)(function*(r,e){const t=Kt(r),s=e.batch.batchId;try{const a=yield function i_(r,e){const t=Kt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(h,C,F,$){const ee=F.batch,Ee=ee.keys();let rt=ut.resolve();return Ee.forEach(Ct=>{rt=rt.next(()=>$.getEntry(C,Ct)).next(Yt=>{const Tn=F.docVersions.get(Ct);cn(null!==Tn),Yt.version.compareTo(Tn)<0&&(ee.applyToRemoteDocument(Yt,F),Yt.isValidDocument()&&(Yt.setReadTime(F.commitVersion),$.addEntry(Yt)))})}),rt.next(()=>h.mutationQueue.removeMutationBatch(C,ee))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(h){let C=Cr();for(let F=0;F<h.mutationResults.length;++F)h.mutationResults[F].transformResults.length>0&&(C=C.add(h.batch.mutations[F].key));return C}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Pl(t,s,null),Rl(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Bu(t,a)}catch(a){yield Ps(a)}}),Sl.apply(this,arguments)}function id(r,e,t){return xl.apply(this,arguments)}function xl(){return xl=(0,p.Z)(function*(r,e,t){const s=Kt(r);try{const a=yield function(l,h){const C=Kt(l);return C.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let $;return C.mutationQueue.lookupMutationBatch(F,h).next(ee=>(cn(null!==ee),$=ee.keys(),C.mutationQueue.removeMutationBatch(F,ee))).next(()=>C.mutationQueue.performConsistencyCheck(F)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(F,$,h)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,$)).next(()=>C.localDocuments.getDocuments(F,$))})}(s.localStore,e);Pl(s,e,t),Rl(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Bu(s,a)}catch(a){yield Ps(a)}}),xl.apply(this,arguments)}function Ml(){return Ml=(0,p.Z)(function*(r,e){const t=Kt(r);Vu(t.remoteStore)||gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const h=Kt(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>h.mutationQueue.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=Qd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Ml.apply(this,arguments)}function Rl(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Pl(r,e,t){const s=Kt(r);let a=s.Tc[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function mu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||ng(r,s)})}function ng(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(qd(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),cf(r))}function lf(r,e,t){for(const s of t)s instanceof sy?(r.Ic.addReference(s.key,e),ay(r,s)):s instanceof Yp?(gt("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||ng(r,s.key)):un()}function ay(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(gt("SyncEngine","New document in limbo: "+t),r.mc.add(s),cf(r))}function cf(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new nn(tr.fromString(e)),s=r.Ac.next();r.yc.set(s,new Zw(t)),r.gc=r.gc.insert(t,s),Xh(r.remoteStore,new gu(z(wl(t.path)),s,"TargetPurposeLimboResolution",ii.ct))}}function Bu(r,e,t){return df.apply(this,arguments)}function df(){return df=(0,p.Z)(function*(r,e,t){const s=Kt(r),a=[],l=[],h=[];var C;s.wc.isEmpty()||(s.wc.forEach((C,F)=>{h.push(s.Rc(F,e,t).then($=>{if(($||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(F.targetId,$?.fromCache?"not-current":"current"),$){a.push($);const ee=Hc.Li(F.targetId,$);l.push(ee)}}))}),yield Promise.all(h),s.dc.nu(a),yield(C=(0,p.Z)(function*(F,$){const ee=Kt(F);try{yield ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>ut.forEach($,rt=>ut.forEach(rt.Fi,Ct=>ee.persistence.referenceDelegate.addReference(Ee,rt.targetId,Ct)).next(()=>ut.forEach(rt.Bi,Ct=>ee.persistence.referenceDelegate.removeReference(Ee,rt.targetId,Ct)))))}catch(Ee){if(!ea(Ee))throw Ee;gt("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of $){const rt=Ee.targetId;if(!Ee.fromCache){const Ct=ee.Ji.get(rt),Tn=Ct.withLastLimboFreeSnapshotVersion(Ct.snapshotVersion);ee.Ji=ee.Ji.insert(rt,Tn)}}}),function(F,$){return C.apply(this,arguments)})(s.localStore,l))}),df.apply(this,arguments)}function uy(r,e){return hf.apply(this,arguments)}function hf(){return hf=(0,p.Z)(function*(r,e){const t=Kt(r);if(!t.currentUser.isEqual(e)){gt("SyncEngine","User change. New user:",e.toKey());const s=yield Lm(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(h=>{h.forEach(C=>{C.reject(new Nt(at.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Bu(t,s.er)}var a}),hf.apply(this,arguments)}function ly(r,e){const t=Kt(r),s=t.yc.get(e);if(s&&s.fc)return Cr().add(s.key);{let a=Cr();const l=t._c.get(e);if(!l)return a;for(const h of l){const C=t.wc.get(h);a=a.unionWith(C.view.nc)}return a}}function w_(r,e){return rg.apply(this,arguments)}function rg(){return rg=(0,p.Z)(function*(r,e){const t=Kt(r),s=yield zc(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&lf(t,e.targetId,a.cc),a}),rg.apply(this,arguments)}function cy(r,e){return ig.apply(this,arguments)}function ig(){return ig=(0,p.Z)(function*(r,e){const t=Kt(r);return s_(t.localStore,e).then(s=>Bu(t,s))}),ig.apply(this,arguments)}function dy(r,e,t,s){return th.apply(this,arguments)}function th(){return th=(0,p.Z)(function*(r,e,t,s){const a=Kt(r),l=yield function(h,C){const F=Kt(h),$=Kt(F.mutationQueue);return F.persistence.runTransaction("Lookup mutation documents","readonly",ee=>$.Sn(ee,C).next(Ee=>Ee?F.localDocuments.getDocuments(ee,Ee):ut.resolve(null)))}(a.localStore,e);var C;null!==l?("pending"===t?yield ol(a.remoteStore):"acknowledged"===t||"rejected"===t?(Pl(a,e,s||null),Rl(a,e),C=e,Kt(Kt(a.localStore).mutationQueue).Cn(C)):un(),yield Bu(a,l)):gt("SyncEngine","Cannot apply mutation batch with id: "+e)}),th.apply(this,arguments)}function og(){return og=(0,p.Z)(function*(r,e){const t=Kt(r);if(ih(t),gf(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield nh(t,s.toArray());t.vc=!0,yield af(t.remoteStore,!0);for(const l of a)Xh(t.remoteStore,l)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?s.push(h):a=a.then(()=>(mu(t,h),Tl(t.localStore,h,!0))),qd(t.remoteStore,h)}),yield a,yield nh(t,s),function(l){const h=Kt(l);h.yc.forEach((C,F)=>{qd(h.remoteStore,F)}),h.Ic.Ts(),h.yc=new Map,h.gc=new Ti(nn.comparator)}(t),t.vc=!1,yield af(t.remoteStore,!1)}}),og.apply(this,arguments)}function nh(r,e,t){return od.apply(this,arguments)}function od(){return od=(0,p.Z)(function*(r,e,t){const s=Kt(r),a=[],l=[];for(const h of e){let C;const F=s._c.get(h);if(F&&0!==F.length){C=yield lc(s.localStore,z(F[0]));for(const $ of F){const ee=s.wc.get($),Ee=yield w_(s,ee);Ee.snapshot&&l.push(Ee.snapshot)}}else{const $=yield Hm(s.localStore,h);C=yield lc(s.localStore,$),yield Jp(s,ff($),h,!1,C.resumeToken)}a.push(C)}return s.dc.nu(l),a}),od.apply(this,arguments)}function ff(r){return bd(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function E_(r){const e=Kt(r);return Kt(Kt(e.localStore).persistence).$i()}function ag(r,e,t,s){return rh.apply(this,arguments)}function rh(){return rh=(0,p.Z)(function*(r,e,t,s){const a=Kt(r);if(a.vc)return void gt("SyncEngine","Ignoring unexpected query state notification.");const l=a._c.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const h=yield s_(a.localStore,Tr(l[0])),C=Ph.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,bs.EMPTY_BYTE_STRING);yield Bu(a,h,C);break}case"rejected":yield Tl(a.localStore,e,!0),mu(a,e,s);break;default:un()}}),rh.apply(this,arguments)}function hy(r,e,t){return pf.apply(this,arguments)}function pf(){return pf=(0,p.Z)(function*(r,e,t){const s=ih(r);if(s.vc){for(const a of e){if(s._c.has(a)){gt("SyncEngine","Adding an already active target "+a);continue}const l=yield Hm(s.localStore,a),h=yield lc(s.localStore,l);yield Jp(s,ff(l),h.targetId,!1,h.resumeToken),Xh(s.remoteStore,h)}for(const a of t)s._c.has(a)&&(yield Tl(s.localStore,a,!1).then(()=>{qd(s.remoteStore,a),mu(s,a)}).catch(Ps))}}),pf.apply(this,arguments)}function ih(r){const e=Kt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=So.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ly.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qa.bind(null,e),e.dc.nu=m_.bind(null,e.eventManager),e.dc.Pc=qp.bind(null,e.eventManager),e}function gf(r){const e=Kt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=id.bind(null,e),e}class fc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.serializer=Gd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Fm(this.persistence,new Nm,e.initialUser,this.serializer)}createPersistence(e){return new Ip(bp.zs,this.serializer)}createSharedClientState(e){return new Qh}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ug extends fc{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield gf(s.Vc.syncEngine),yield ol(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Fm(this.persistence,new Nm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Am(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new $l(t,this.persistence);return new vd(e.asyncQueue,s)}createPersistence(e){const t=Zh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ia.withCacheSize(this.cacheSizeBytes):ia.DEFAULT;return new Tp(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Op(),Jh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Qh}}class lg extends ug{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof zd&&(s.sharedClientState.syncEngine={jr:dy.bind(null,a),zr:ag.bind(null,a),Wr:hy.bind(null,a),$i:E_.bind(null,a),Qr:cy.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var l=(0,p.Z)(function*(h){yield function sg(r,e){return og.apply(this,arguments)}(s.Vc.syncEngine,h),s.gcScheduler&&(h&&!s.gcScheduler.started?s.gcScheduler.start():h||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(h&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():h||s.indexBackfillerScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Op();if(!zd.D(t))throw new Nt(at.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Zh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zd(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class pc{initialize(e,t){var s=this;return(0,p.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Xd(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=uy.bind(null,s.syncEngine),yield af(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new g_}createDatastore(e){const t=Gd(e.databaseInfo.databaseId),s=new Km(e.databaseInfo);return new Np(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=C=>Xd(this.syncEngine,C,0),h=Rp.D()?new Rp:new Mp,new l_(t,s,a,l,h);var t,s,a,l,h}createSyncEngine(e,t){return function(s,a,l,h,C,F,$){const ee=new oy(s,a,l,h,C,F);return $&&(ee.vc=!0),ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const s=Kt(t);gt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Yc(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function cg(r,e=10240){let t=0;return{read:()=>(0,p.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,p.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class sh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class I_{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Fi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,p.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,p.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,p.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const l=yield e.$c(a);return new y_(JSON.parse(l),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,p.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,p.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,p.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class b_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,p.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Nt(at.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,p.Z)(function*(l,h){const C=Kt(l),F=Rd(C.serializer)+"/documents",$={documents:h.map(Ct=>Vc(C.serializer,Ct))},ee=yield C.vo("BatchGetDocuments",F,$,h.length),Ee=new Map;ee.forEach(Ct=>{const Yt=function Pd(r,e){return"found"in e?function(t,s){cn(!!s.found);const a=ku(t,s.found.name),l=Ws(s.found.updateTime),h=s.found.createTime?Ws(s.found.createTime):Fn.min(),C=new eo({mapValue:{fields:s.found.fields}});return Bi.newFoundDocument(a,l,h,C)}(r,e):"missing"in e?function(t,s){cn(!!s.missing),cn(!!s.readTime);const a=ku(t,s.missing),l=Ws(s.readTime);return Bi.newNoDocument(a,l)}(r,e):un()}(C.serializer,Ct);Ee.set(Yt.key.toString(),Yt)});const rt=[];return h.forEach(Ct=>{const Yt=Ee.get(Ct.toString());cn(!!Yt),rt.push(Yt)}),rt}),function(l,h){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ou(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,p.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=nn.fromPath(a);e.mutations.push(new Jf(l,e.precondition(l)))}),yield(s=(0,p.Z)(function*(a,l){const h=Kt(a),C=Rd(h.serializer)+"/documents",F={writes:l.map($=>Uc(h.serializer,$))};yield h.Io("Commit",C,F)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw un();t=Fn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Nt(at.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Fn.min())?ls.exists(!1):ls.updateTime(t):ls.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fn.min()))throw new Nt(at.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ls.updateTime(t)}return ls.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class C_{constructor(e,t,s,a,l){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=l,this.Bc=s.maxAttempts,this.qo=new sa(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,p.Z)(function*(){const t=new b_(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.Uc(l)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!ao(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!rm(t)}return!1}}class dg{constructor(e,t,s,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=ue.UNAUTHENTICATED,this.clientId=wa.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var h=(0,p.Z)(function*(C){gt("FirestoreClient","Received user=",C.uid),yield l.authCredentialListener(C),l.user=C});return function(C){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(s,h=>(gt("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(at.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Qd(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function ad(r,e){return mf.apply(this,arguments)}function mf(){return mf=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,p.Z)(function*(l){s.isEqual(l)||(yield Lm(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),mf.apply(this,arguments)}function yf(r,e){return vf.apply(this,arguments)}function vf(){return vf=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield _f(r);gt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>ty(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>ty(e.remoteStore,l)),r._onlineComponents=e}),vf.apply(this,arguments)}function hg(r){return"FirebaseError"===r.name?r.code===at.FAILED_PRECONDITION||r.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function _f(r){return wf.apply(this,arguments)}function wf(){return wf=(0,p.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){gt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ad(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!hg(t))throw t;fi("Error using user provided cache. Falling back to memory cache: "+t),yield ad(r,new fc)}}else gt("FirestoreClient","Using default OfflineComponentProvider"),yield ad(r,new fc);return r._offlineComponents}),wf.apply(this,arguments)}function oh(r){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,p.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(gt("FirestoreClient","Using user provided OnlineComponentProvider"),yield yf(r,r._uninitializedComponentsProvider._online)):(gt("FirestoreClient","Using default OnlineComponentProvider"),yield yf(r,new pc))),r._onlineComponents}),Ef.apply(this,arguments)}function ah(r){return _f(r).then(e=>e.persistence)}function yu(r){return _f(r).then(e=>e.localStore)}function gy(r){return oh(r).then(e=>e.remoteStore)}function fg(r){return oh(r).then(e=>e.syncEngine)}function Ja(r){return uh.apply(this,arguments)}function uh(){return uh=(0,p.Z)(function*(r){const e=yield oh(r),t=e.eventManager;return t.onListen=Yw.bind(null,e.syncEngine),t.onUnlisten=eg.bind(null,e.syncEngine),t}),uh.apply(this,arguments)}function T_(r,e,t={}){const s=new Fi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,l,h,C,F){const $=new sh({next:Ee=>{l.enqueueAndForget(()=>uf(a,ee));const rt=Ee.docs.has(h);!rt&&Ee.fromCache?F.reject(new Nt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):rt&&Ee.fromCache&&C&&"server"===C.source?F.reject(new Nt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(Ee)},error:Ee=>F.reject(Ee)}),ee=new Zp(wl(h.path),$,{includeMetadataChanges:!0,Ku:!0});return Gp(a,ee)}(yield Ja(r),r.asyncQueue,e,t,s)})),s.promise}function my(r,e,t={}){const s=new Fi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,l,h,C,F){const $=new sh({next:Ee=>{l.enqueueAndForget(()=>uf(a,ee)),Ee.fromCache&&"server"===C.source?F.reject(new Nt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(Ee)},error:Ee=>F.reject(Ee)}),ee=new Zp(h,$,{includeMetadataChanges:!0,Ku:!0});return Gp(a,ee)}(yield Ja(r),r.asyncQueue,e,t,s)})),s.promise}function _y(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const wy=new Map;function bf(r,e,t){if(!t)throw new Nt(at.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ey(r,e,t,s){if(!0===e&&!0===s)throw new Nt(at.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function gg(r){if(!nn.isDocumentKey(r))throw new Nt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mg(r){if(nn.isDocumentKey(r))throw new Nt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ll(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":un()}function oi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Nt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ll(r);throw new Nt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Iy(r,e){if(e<=0)throw new Nt(at.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class yg{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Nt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ey("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_y(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Nt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Nt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Nt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ua;switch(t.type){case"firstParty":return new bc(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Nt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wy.get(e);t&&(gt("ComponentProvider","Removing Datastore"),wy.delete(e),t.terminate())}(this),Promise.resolve()}}class ys{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ys(this.firestore,e,this._key)}}class Eo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class Xa extends Eo{constructor(e,t,s){super(e,t,wl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ys(this.firestore,null,new nn(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function vu(r,e,...t){if(r=(0,te.m9)(r),bf("collection","path",e),r instanceof lh){const s=tr.fromString(e,...t);return mg(s),new Xa(r,null,s)}{if(!(r instanceof ys||r instanceof Xa))throw new Nt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tr.fromString(e,...t));return mg(s),new Xa(r.firestore,null,s)}}function Cf(r,e,...t){if(r=(0,te.m9)(r),1===arguments.length&&(e=wa.A()),bf("doc","path",e),r instanceof lh){const s=tr.fromString(e,...t);return gg(s),new ys(r,null,new nn(s))}{if(!(r instanceof ys||r instanceof Xa))throw new Nt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tr.fromString(e,...t));return gg(s),new ys(r.firestore,r instanceof Xa?r.converter:null,new nn(s))}}function _u(r,e){return r=(0,te.m9)(r),e=(0,te.m9)(e),(r instanceof ys||r instanceof Xa)&&(e instanceof ys||e instanceof Xa)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Pa(r,e){return r=(0,te.m9)(r),e=(0,te.m9)(e),r instanceof Eo&&e instanceof Eo&&r.firestore===e.firestore&&vt(r._query,e._query)&&r.converter===e.converter}class wu{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sa(this,"async_queue_retry"),this.Xc=()=>{const t=Jh();t&&gt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Jh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Jh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Fi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,p.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ea(t))throw t;gt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,cr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=zp.createAndSchedule(this,e,t,s,l=>this.na(l));return this.zc.push(a),a}Zc(){this.Wc&&un()}verifyOperationInProgress(){}sa(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Df(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class by{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cs extends lh{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new wu,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ud(this),this._firestoreClient.terminate()}}function Cs(r){return r._firestoreClient||ud(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function ud(r){var e,t,s;const a=r._freezeSettings(),l=(C=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Ac(r._databaseId,C,r._persistenceKey,($=a).host,$.ssl,$.experimentalForceLongPolling,$.experimentalAutoDetectLongPolling,_y($.experimentalLongPollingOptions),$.useFetchStreams));var C,$;r._firestoreClient=new dg(r._authCredentials,r._appCheckCredentials,r._queue,l),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Dy(r,e,t){const s=new Fi;return r.asyncQueue.enqueue((0,p.Z)(function*(){try{yield ad(r,t),yield yf(r,e),s.resolve()}catch(a){const l=a;if(!hg(l))throw l;fi("Error enabling indexeddb cache. Falling back to memory cache: "+l),s.reject(l)}})).then(()=>s.promise)}function _g(r){if(r._initialized||r._terminated)throw new Nt(at.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(bs.fromBase64String(e))}catch(t){throw new Nt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Eu(bs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $u{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Nt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nl{constructor(e){this._methodName=e}}class ch{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sr(this._lat,e._lat)||sr(this._long,e._long)}}const Ry=/^__.*__$/;class Py{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Qu(e,this.data,this.fieldMask,t,this.fieldTransforms):new kc(e,this.data,t,this.fieldTransforms)}}class Oy{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Qu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ny(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw un()}}class Af{constructor(e,t,s,a,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return fh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ny(this.ca)&&Ry.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class N_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Gd(e)}ya(e,t,s,a=!1){return new Af({ca:e,methodName:t,ga:s,path:Ii.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gc(r){const e=r._freezeSettings(),t=Gd(r._databaseId);return new N_(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Sf(r,e,t,s,a,l={}){const h=r.ya(l.merge||l.mergeFields?2:0,e,t,a);xf("Data must be an object, but it was:",h,s);const C=Ly(s,h);let F,$;if(l.merge)F=new lo(h.fieldMask),$=h.fieldTransforms;else if(l.mergeFields){const ee=[];for(const Ee of l.mergeFields){const rt=ld(e,Ee,t);if(!h.contains(rt))throw new Nt(at.INVALID_ARGUMENT,`Field '${rt}' is specified in your field mask but missing from your input data.`);bg(ee,rt)||ee.push(rt)}F=new lo(ee),$=h.fieldTransforms.filter(Ee=>F.covers(Ee.field))}else F=null,$=h.fieldTransforms;return new Py(new eo(C),F,$)}class dh extends Nl{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dh}}function ky(r,e,t){return new Af({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wg extends Nl{_toFieldTransform(e){return new xd(e.path,new Xl)}isEqual(e){return e instanceof wg}}class k_ extends Nl{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ky(this,e,!0),s=this.pa.map(l=>mc(l,t)),a=new El(s);return new xd(e.path,a)}isEqual(e){return this===e}}class F_ extends Nl{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ky(this,e,!0),s=this.pa.map(l=>mc(l,t)),a=new Yu(s);return new xd(e.path,a)}isEqual(e){return this===e}}class L_ extends Nl{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Pc(e.serializer,Wg(e.serializer,this.Ia));return new xd(e.path,t)}isEqual(e){return this===e}}function Eg(r,e,t,s){const a=r.ya(1,e,t);xf("Data must be an object, but it was:",a,s);const l=[],h=eo.empty();ha(s,(F,$)=>{const ee=hh(e,F,t);$=(0,te.m9)($);const Ee=a.da(ee);if($ instanceof dh)l.push(ee);else{const rt=mc($,Ee);null!=rt&&(l.push(ee),h.set(ee,rt))}});const C=new lo(l);return new Oy(h,C,a.fieldTransforms)}function Ig(r,e,t,s,a,l){const h=r.ya(1,e,t),C=[ld(e,s,t)],F=[a];if(l.length%2!=0)throw new Nt(at.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let rt=0;rt<l.length;rt+=2)C.push(ld(e,l[rt])),F.push(l[rt+1]);const $=[],ee=eo.empty();for(let rt=C.length-1;rt>=0;--rt)if(!bg($,C[rt])){const Ct=C[rt];let Yt=F[rt];Yt=(0,te.m9)(Yt);const Tn=h.da(Ct);if(Yt instanceof dh)$.push(Ct);else{const Rn=mc(Yt,Tn);null!=Rn&&($.push(Ct),ee.set(Ct,Rn))}}const Ee=new lo($);return new Oy(ee,Ee,h.fieldTransforms)}function Fy(r,e,t,s=!1){return mc(t,r.ya(s?4:3,e))}function mc(r,e){if(Vy(r=(0,te.m9)(r)))return xf("Unsupported field value:",e,r),Ly(r,e);if(r instanceof Nl)return function(t,s){if(!Ny(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const h of t){let C=mc(h,s.wa(l));null==C&&(C={nullValue:"NULL_VALUE"}),a.push(C),l++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,te.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Wg(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Di.fromDate(t);return{timestampValue:Il(s.serializer,a)}}if(t instanceof Di){const a=new Di(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Il(s.serializer,a)}}if(t instanceof ch)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Eu)return{bytesValue:lm(s.serializer,t._byteString)};if(t instanceof ys){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rp(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${ll(t)}`)}(r,e)}function Ly(r,e){const t={};return Tu(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(r,(s,a)=>{const l=mc(a,e.ha(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function Vy(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Di||r instanceof ch||r instanceof Eu||r instanceof ys||r instanceof Nl)}function xf(r,e,t){if(!Vy(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=ll(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ld(r,e,t){if((e=(0,te.m9)(e))instanceof $u)return e._internalPath;if("string"==typeof e)return hh(r,e);throw fh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Uy=new RegExp("[~\\*/\\[\\]]");function hh(r,e,t){if(e.search(Uy)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new $u(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function fh(r,e,t,s,a){const l=s&&!s.isEmpty(),h=void 0!==a;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let F="";return(l||h)&&(F+=" (found",l&&(F+=` in field ${s}`),h&&(F+=` in document ${a}`),F+=")"),new Nt(at.INVALID_ARGUMENT,C+r+F)}function bg(r,e){return r.some(t=>t.isEqual(e))}class cd{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ys(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new By(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ph("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class By extends cd{data(){return super.data()}}function ph(r,e){return"string"==typeof e?hh(r,e):e instanceof $u?e._internalPath:e._delegate._internalPath}function Cg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Nt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mf{}class Iu extends Mf{}function kl(r,e,...t){let s=[];e instanceof Mf&&s.push(e),s=s.concat(t),function(a){const l=a.filter(C=>C instanceof mh).length,h=a.filter(C=>C instanceof gh).length;if(l>1||l>0&&h>0)throw new Nt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class gh extends Iu{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new gh(e,t,s)}_apply(e){const t=this._parse(e);return Ag(e._query,t),new Eo(e.firestore,e.converter,oe(e._query,t))}_parse(e){const t=gc(e.firestore);return function(a,l,h,C,F,$,ee){let Ee;if(F.isKeyField()){if("array-contains"===$||"array-contains-any"===$)throw new Nt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${$}' queries on documentId().`);if("in"===$||"not-in"===$){Tg(ee,$);const rt=[];for(const Ct of ee)rt.push(B_(C,a,Ct));Ee={arrayValue:{values:rt}}}else Ee=B_(C,a,ee)}else"in"!==$&&"not-in"!==$&&"array-contains-any"!==$||Tg(ee,$),Ee=Fy(h,"where",ee,"in"===$||"not-in"===$);return we.create(F,$,Ee)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class mh extends Mf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mh(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Te.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let l=s;const h=a.getFlattenedFilters();for(const C of h)Ag(l,C),l=oe(l,C)}(e._query,t),new Eo(e.firestore,e.converter,oe(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Rf extends Iu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Rf(e,t)}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new Nt(at.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Nt(at.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new M(a,l);return function(C,F){if(null===E(C)){const $=d(C);null!==$&&Hy(0,$,F.field)}}(s,h),h}(e._query,this._field,this._direction);return new Eo(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new xa(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Dg extends Iu{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Dg(e,t,s)}_apply(e){return new Eo(e.firestore,e.converter,Ve(e._query,this._limit,this._limitType))}}class Pf extends Iu{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Pf(e,t,s)}_apply(e){const t=Ds(e,this.type,this._docOrFields,this._inclusive);return new Eo(e.firestore,e.converter,(a=t,new xa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class Of extends Iu{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Of(e,t,s)}_apply(e){const t=Ds(e,this.type,this._docOrFields,this._inclusive);return new Eo(e.firestore,e.converter,(a=t,new xa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Ds(r,e,t,s){if(t[0]=(0,te.m9)(t[0]),t[0]instanceof cd)return function(a,l,h,C,F){if(!C)throw new Nt(at.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const $=[];for(const ee of D(a))if(ee.field.isKeyField())$.push(xu(l,C.key));else{const Ee=C.data.field(ee.field);if(Au(Ee))throw new Nt(at.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ee){const rt=ee.field.canonicalString();throw new Nt(at.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${rt}' (used as the orderBy) does not exist.`)}$.push(Ee)}return new Sa($,F)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=gc(r.firestore);return function(l,h,C,F,$,ee){const Ee=l.explicitOrderBy;if($.length>Ee.length)throw new Nt(at.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const rt=[];for(let Ct=0;Ct<$.length;Ct++){const Yt=$[Ct];if(Ee[Ct].field.isKeyField()){if("string"!=typeof Yt)throw new Nt(at.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof Yt}`);if(!g(l)&&-1!==Yt.indexOf("/"))throw new Nt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${Yt}' contains a slash.`);const Tn=l.path.child(tr.fromString(Yt));if(!nn.isDocumentKey(Tn))throw new Nt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${Tn}' is not because it contains an odd number of segments.`);const Rn=new nn(Tn);rt.push(xu(h,Rn))}else{const Tn=Fy(C,F,Yt);rt.push(Tn)}}return new Sa(rt,ee)}(r._query,r.firestore._databaseId,a,e,t,s)}}function B_(r,e,t){if("string"==typeof(t=(0,te.m9)(t))){if(""===t)throw new Nt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g(e)&&-1!==t.indexOf("/"))throw new Nt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tr.fromString(t));if(!nn.isDocumentKey(s))throw new Nt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xu(r,new nn(s))}if(t instanceof ys)return xu(r,t._key);throw new Nt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ll(t)}.`)}function Tg(r,e){if(!Array.isArray(r)||0===r.length)throw new Nt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ag(r,e){if(e.isInequality()){const s=d(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new Nt(at.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const l=E(r);null!==l&&Hy(0,a,l)}const t=function(s,a){for(const l of s)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Nt(at.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Hy(r,e,t){if(!t.isEqual(e))throw new Nt(at.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ff{convertValue(e,t="none"){switch(Da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw un()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ha(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new ch(Yi(e.latitude),Yi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Hl(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ca(e));default:return null}}convertTimestamp(e){const t=Ao(e);return new Di(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tr.fromString(e);cn(fm(s));const a=new jo(s.get(1),s.get(3)),l=new nn(s.popFirst(5));return a.isEqual(t)||cr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function yh(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class zy extends Ff{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ys(this.firestore,null,t)}}class yc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends cd{constructor(e,t,s,a,l,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ph("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Fl extends cl{data(e={}){return super.data(e)}}class dl{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new yc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Fl(this._firestore,this._userDataWriter,s.key,s,new yc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>({type:"added",doc:new Fl(s._firestore,s._userDataWriter,h.doc.key,h.doc,new yc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const C=new Fl(s._firestore,s._userDataWriter,h.doc.key,h.doc,new yc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let F=-1,$=-1;return 0!==h.type&&(F=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),$=l.indexOf(h.doc.key)),{type:Gy(h.type),doc:C,oldIndex:F,newIndex:$}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Gy(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return un()}}function xg(r,e){return r instanceof cl&&e instanceof cl?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof dl&&e instanceof dl&&r._firestore===e._firestore&&Pa(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class eu extends Ff{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ys(this.firestore,null,t)}}function Mg(r,e,t){r=oi(r,ys);const s=oi(r.firestore,cs),a=yh(r.converter,e,t);return _h(s,[Sf(gc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ls.none())])}function Rg(r,e,t,...s){r=oi(r,ys);const a=oi(r.firestore,cs),l=gc(a);let h;return h="string"==typeof(e=(0,te.m9)(e))||e instanceof $u?Ig(l,"updateDoc",r._key,e,t,s):Eg(l,"updateDoc",r._key,e),_h(a,[h.toMutation(r._key,ls.exists(!0))])}function Ky(r,...e){var t,s,a;r=(0,te.m9)(r);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Df(e[h])||(l=e[h],h++);const C={includeMetadataChanges:l.includeMetadataChanges};if(Df(e[h])){const Ee=e[h];e[h]=null===(t=Ee.next)||void 0===t?void 0:t.bind(Ee),e[h+1]=null===(s=Ee.error)||void 0===s?void 0:s.bind(Ee),e[h+2]=null===(a=Ee.complete)||void 0===a?void 0:a.bind(Ee)}let F,$,ee;if(r instanceof ys)$=oi(r.firestore,cs),ee=wl(r._key.path),F={next:Ee=>{e[h]&&e[h](Zy($,r,Ee))},error:e[h+1],complete:e[h+2]};else{const Ee=oi(r,Eo);$=oi(Ee.firestore,cs),ee=Ee._query;const rt=new eu($);F={next:Ct=>{e[h]&&e[h](new dl($,rt,Ee,Ct))},error:e[h+1],complete:e[h+2]},Cg(r._query)}return function(Ee,rt,Ct,Yt){const Tn=new sh(Yt),Rn=new Zp(rt,Tn,Ct);return Ee.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Gp(yield Ja(Ee),Rn)})),()=>{Tn.Dc(),Ee.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return uf(yield Ja(Ee),Rn)}))}}(Cs($),ee,C,F)}function _h(r,e){return function(t,s){const a=new Fi;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Uu(r,e,t){return hc.apply(this,arguments)}(yield fg(t),s,a)})),a.promise}(Cs(r),e)}function Zy(r,e,t){const s=t.docs.get(e._key),a=new eu(r);return new cl(r,a,e._key,s,new yc(t.hasPendingWrites,t.fromCache),e.converter)}const Qy={maxAttempts:5};class Jy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gc(e)}set(e,t,s){this._verifyNotCommitted();const a=Ll(e,this._firestore),l=yh(a.converter,t,s),h=Sf(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(h.toMutation(a._key,ls.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=Ll(e,this._firestore);let h;return h="string"==typeof(t=(0,te.m9)(t))||t instanceof $u?Ig(this._dataReader,"WriteBatch.update",l._key,t,s,a):Eg(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,ls.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ll(e,this._firestore);return this._mutations=this._mutations.concat(new Ou(t._key,ls.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nt(at.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ll(r,e){if((r=(0,te.m9)(r)).firestore!==e)throw new Nt(at.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class wh extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=gc(e)}get(e){const t=Ll(e,this._firestore),s=new zy(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return un();const l=a[0];if(l.isFoundDocument())return new cd(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new cd(this._firestore,s,t._key,null,t.converter);throw un()})}set(e,t,s){const a=Ll(e,this._firestore),l=yh(a.converter,t,s),h=Sf(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,h),this}update(e,t,s,...a){const l=Ll(e,this._firestore);let h;return h="string"==typeof(t=(0,te.m9)(t))||t instanceof $u?Ig(this._dataReader,"Transaction.update",l._key,t,s,a):Eg(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Ll(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ll(e,this._firestore),s=new eu(this._firestore);return super.get(e).then(a=>new cl(this._firestore,s,t._key,a._document,new yc(!1,!1),t.converter))}}function Bf(){return new wg("serverTimestamp")}!function(r,e=!0){Ge=V.SDK_VERSION,(0,V._registerComponent)(new Ie.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const l=t.getProvider("app").getImmediate(),h=new cs(new zu(t.getProvider("auth-internal")),new Qo(t.getProvider("app-check-internal")),function(C,F){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new Nt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jo(C.options.projectId,F)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),(0,V.registerVersion)(B,"3.12.1",r),(0,V.registerVersion)(B,"3.12.1","esm2017")}();var Pg=k(4846),Vl=k(6591),Wi=k(4650),tw=k(4986),nw=k(9751),fd=k(8996),iv=k(9646),Oa=k(4976),Og=k(8675),sv=k(4482),ov=k(5403);function Ng(){return(0,sv.e)((r,e)=>{let t,s=!1;r.subscribe((0,ov.x)(e,a=>{const l=t;t=a,s&&e.next([l,a]),s=!0}))})}var ju=k(4004),kg=k(5026),rw=k(4671);function av(r,e){return r===e}var Fg=k(9300),$f=k(2011),sw=k(6895),aw=(k(9568),k(3942));function Eh(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Nt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function jf(){if(typeof Uint8Array>"u")throw new Nt("unimplemented","Uint8Arrays are not available in this environment.")}function Lg(){if(!function jl(){return typeof atob<"u"}())throw new Nt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class vc{constructor(e){this._delegate=e}static fromBase64String(e){return Lg(),new vc(Eu.fromBase64String(e))}static fromUint8Array(e){return jf(),new vc(Eu.fromUint8Array(e))}toBase64(){return Lg(),this._delegate.toBase64()}toUint8Array(){return jf(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Vg(r){return function cw(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class Ug{enableIndexedDbPersistence(e,t){return function R_(r,e){_g(r=oi(r,cs));const t=Cs(r);if(t._uninitializedComponentsProvider)throw new Nt(at.FAILED_PRECONDITION,"SDK cache is already specified.");fi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),a=new pc;return Dy(t,a,new ug(a,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Cy(r){_g(r=oi(r,cs));const e=Cs(r);if(e._uninitializedComponentsProvider)throw new Nt(at.FAILED_PRECONDITION,"SDK cache is already specified.");fi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new pc;return Dy(e,s,new lg(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function P_(r){if(r._initialized&&!r._terminated)throw new Nt(at.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fi;return r._queue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{yield(t=(0,p.Z)(function*(s){if(!Js.D())return Promise.resolve();const a=s+"main";yield Js.delete(a)}),function(s){return t.apply(this,arguments)})(Zh(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class uv{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof jo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&fi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function vg(r,e,t,s={}){var a;const l=(r=oi(r,lh))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&fi("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let h,C;if("string"==typeof s.mockUserToken)h=s.mockUserToken,C=ue.MOCK_USER;else{h=(0,te.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const F=s.mockUserToken.sub||s.mockUserToken.user_id;if(!F)throw new Nt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new ue(F)}r._authCredentials=new bu(new nu(h,C))}}(this._delegate,e,t,s)}enableNetwork(){return function Ay(r){return function D_(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield ah(r),t=yield gy(r);return e.setNetworkEnabled(!0),function(s){const a=Kt(s);return a.vu.delete(0),Zc(a)}(t)}))}(Cs(r=oi(r,cs)))}(this._delegate)}disableNetwork(){return function Tf(r){return function pg(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield ah(r),t=yield gy(r);return e.setNetworkEnabled(!1),(s=(0,p.Z)(function*(a){const l=Kt(a);l.vu.add(0),yield Yc(l),l.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Cs(r=oi(r,cs)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Ey("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ty(r){return function(e){const t=new Fi;return e.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function sd(r,e){return Ml.apply(this,arguments)}(yield fg(e),t)})),t.promise}(Cs(r=oi(r,cs)))}(this._delegate)}onSnapshotsInSync(e){return function q_(r,e){return function yy(r,e){const t=new sh(e);return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield Ja(r),a=t,Kt(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield Ja(r),a=t,void Kt(s).ku.delete(a);var s,a}))}}(Cs(r=oi(r,cs)),Df(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Nt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _c(this,vu(this._delegate,e))}catch(t){throw xo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Na(this,Cf(this._delegate,e))}catch(t){throw xo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mo(this,function x_(r,e){if(r=oi(r,lh),bf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nt(at.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Eo(r,null,(t=e,new xa(tr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw xo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function X_(r,e,t){r=oi(r,cs);const s=Object.assign(Object.assign({},Qy),t);return function(a){if(a.maxAttempts<1)throw new Nt(at.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,l,h){const C=new Fi;return a.asyncQueue.enqueueAndForget((0,p.Z)(function*(){const F=yield function If(r){return oh(r).then(e=>e.datastore)}(a);new C_(a.asyncQueue,F,h,l,C).run()})),C.promise}(Cs(r),a=>e(new wh(r,a)),s)}(this._delegate,t=>e(new Bg(this,t)))}batch(){return Cs(this._delegate),new lv(new Jy(this._delegate,e=>_h(this._delegate,e)))}loadBundle(e){return function Sy(r,e){const t=Cs(r=oi(r,cs)),s=new by;return function S_(r,e,t,s){const a=function(l,h){let C;return C="string"==typeof l?Nu().encode(l):l,F=function(F,$){if(F instanceof Uint8Array)return cg(F,$);if(F instanceof ArrayBuffer)return cg(new Uint8Array(F),$);if(F instanceof ReadableStream)return F.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new I_(F,h);var F}(t,Gd(e));r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){!function fy(r,e,t){const s=Kt(r);var a;(a=(0,p.Z)(function*(l,h,C){try{const F=yield h.getMetadata();if(yield function(rt,Ct){const Yt=Kt(rt),Tn=Ws(Ct.createTime);return Yt.persistence.runTransaction("hasNewerBundle","readonly",Rn=>Yt.qs.getBundleMetadata(Rn,Ct.id)).then(Rn=>!!Rn&&Rn.createTime.compareTo(Tn)>=0)}(l.localStore,F))return yield h.close(),C._completeWith({taskState:"Success",documentsLoaded:(rt=F).totalDocuments,bytesLoaded:rt.totalBytes,totalDocuments:rt.totalDocuments,totalBytes:rt.totalBytes}),Promise.resolve(new Set);C._updateProgress(iy(F));const $=new v_(F,l.localStore,h.serializer);let ee=yield h.bc();for(;ee;){const rt=yield $.zu(ee);rt&&C._updateProgress(rt),ee=yield h.bc()}const Ee=yield $.complete();return yield Bu(l,Ee.Ju,void 0),yield function(rt,Ct){const Yt=Kt(rt);return Yt.persistence.runTransaction("Save bundle","readwrite",Tn=>Yt.qs.saveBundleMetadata(Tn,Ct))}(l.localStore,F),C._completeWith(Ee.progress),Promise.resolve(Ee.Hu)}catch(F){return fi("SyncEngine",`Loading bundle failed with ${F}`),C._failWith(F),Promise.resolve(new Set)}var rt}),function(l,h,C){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield fg(r),a,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function xy(r,e){return function ho(r,e){return r.asyncQueue.enqueue((0,p.Z)(function*(){return function(t,s){const a=Kt(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.qs.getNamedQuery(l,s))}(yield yu(r),e)}))}(Cs(r=oi(r,cs)),e).then(t=>t?new Eo(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Mo(this,t):null)}}class Ih extends Ff{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(new Eu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Na.forKey(t,this.firestore,null)}}class Bg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ih(e)}get(e){const t=Ul(e);return this._delegate.get(t).then(s=>new bh(this._firestore,new cl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Ul(e);return s?(Eh("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Ul(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Ul(e);return this._delegate.delete(t),this}}class lv{constructor(e){this._delegate=e}set(e,t,s){const a=Ul(e);return s?(Eh("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Ul(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Ul(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class gd{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Fl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new md(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=gd.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new gd(e,new Ih(e),t),a.set(t,l)),l}}gd.INSTANCES=new WeakMap;class Na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ih(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Nt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Na(t,new ys(t._delegate,s,new nn(e)))}static forKey(e,t,s){return new Na(t,new ys(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new _c(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _c(this.firestore,vu(this._delegate,e))}catch(t){throw xo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,te.m9)(e))instanceof ys&&_u(this._delegate,e)}set(e,t){t=Eh("DocumentReference.set",t);try{return t?Mg(this._delegate,e,t):Mg(this._delegate,e)}catch(s){throw xo(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Rg(this._delegate,e):Rg(this._delegate,e,t,...s)}catch(a){throw xo(a,"updateDoc()","DocumentReference.update()")}}delete(){return function W_(r){return _h(oi(r.firestore,cs),[new Ou(r._key,ls.none())])}(this._delegate)}onSnapshot(...e){const t=cv(e),s=Hf(e,a=>new bh(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Ky(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function vh(r){r=oi(r,ys);const e=oi(r.firestore,cs),t=Cs(e),s=new eu(e);return function Qw(r,e){const t=new Fi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,l,h){try{const C=yield function(F,$){const ee=Kt(F);return ee.persistence.runTransaction("read document","readonly",Ee=>ee.localDocuments.getDocument(Ee,$))}(a,l);C.isFoundDocument()?h.resolve(C):C.isNoDocument()?h.resolve(null):h.reject(new Nt(at.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const F=Qd(C,`Failed to get document '${l} from cache`);h.reject(F)}}),function(a,l,h){return s.apply(this,arguments)})(yield yu(r),e,t);var s})),t.promise}(t,r._key).then(a=>new cl(e,s,r._key,a,new yc(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function H_(r){r=oi(r,ys);const e=oi(r.firestore,cs);return T_(Cs(e),r._key,{source:"server"}).then(t=>Zy(e,r,t))}(this._delegate):function j_(r){r=oi(r,ys);const e=oi(r.firestore,cs);return T_(Cs(e),r._key).then(t=>Zy(e,r,t))}(this._delegate),t.then(s=>new bh(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Na(this.firestore,this._delegate.withConverter(e?gd.getInstance(this.firestore,e):null))}}function xo(r,e,t){return r.message=r.message.replace(e,t),r}function cv(r){for(const e of r)if("object"==typeof e&&!Vg(e))return e;return{}}function Hf(r,e){var t,s;let a;return a=Vg(r[0])?r[0]:Vg(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class bh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Na(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return xg(this._delegate,e._delegate)}}class md extends bh{data(e){const t=this._delegate.data(e);return function Qs(r,e){r||un()}(void 0!==t),t}}class Mo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ih(e)}where(e,t,s){try{return new Mo(this.firestore,kl(this._delegate,function dd(r,e,t){const s=e,a=ph("where",r);return gh._create(a,s,t)}(e,t,s)))}catch(a){throw xo(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Mo(this.firestore,kl(this._delegate,function jy(r,e="asc"){const t=e,s=ph("orderBy",r);return Rf._create(s,t)}(e,t)))}catch(s){throw xo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mo(this.firestore,kl(this._delegate,function fr(r){return Iy("limit",r),Dg._create("limit",r,"F")}(e)))}catch(t){throw xo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Mo(this.firestore,kl(this._delegate,function V_(r){return Iy("limitToLast",r),Dg._create("limitToLast",r,"L")}(e)))}catch(t){throw xo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mo(this.firestore,kl(this._delegate,function U_(...r){return Pf._create("startAt",r,!0)}(...e)))}catch(t){throw xo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mo(this.firestore,kl(this._delegate,function hd(...r){return Pf._create("startAfter",r,!1)}(...e)))}catch(t){throw xo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mo(this.firestore,kl(this._delegate,function Nf(...r){return Of._create("endBefore",r,!1)}(...e)))}catch(t){throw xo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mo(this.firestore,kl(this._delegate,function kf(...r){return Of._create("endAt",r,!0)}(...e)))}catch(t){throw xo(t,"endAt()","Query.endAt()")}}isEqual(e){return Pa(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function G_(r){r=oi(r,Eo);const e=oi(r.firestore,cs),t=Cs(e),s=new eu(e);return function A_(r,e){const t=new Fi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,l,h){try{const C=yield zc(a,l,!0),F=new Qp(l,C.ir),$=F.sc(C.documents),ee=F.applyChanges($,!1);h.resolve(ee.snapshot)}catch(C){const F=Qd(C,`Failed to execute query '${l} against cache`);h.reject(F)}}),function(a,l,h){return s.apply(this,arguments)})(yield yu(r),e,t);var s})),t.promise}(t,r._query).then(a=>new dl(e,s,r,a))}(this._delegate):"server"===e?.source?function Wy(r){r=oi(r,Eo);const e=oi(r.firestore,cs),t=Cs(e),s=new eu(e);return my(t,r._query,{source:"server"}).then(a=>new dl(e,s,r,a))}(this._delegate):function z_(r){r=oi(r,Eo);const e=oi(r.firestore,cs),t=Cs(e),s=new eu(e);return Cg(r._query),my(t,r._query).then(a=>new dl(e,s,r,a))}(this._delegate),t.then(s=>new zf(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=cv(e),s=Hf(e,a=>new zf(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Ky(this._delegate,t,s)}withConverter(e){return new Mo(this.firestore,this._delegate.withConverter(e?gd.getInstance(this.firestore,e):null))}}class dv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new md(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new md(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new dv(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new md(this._firestore,s))})}isEqual(e){return xg(this._delegate,e._delegate)}}class _c extends Mo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Na(this.firestore,e):null}doc(e){try{return new Na(this.firestore,void 0===e?Cf(this._delegate):Cf(this._delegate,e))}catch(t){throw xo(t,"doc()","CollectionReference.doc()")}}add(e){return function qy(r,e){const t=oi(r.firestore,cs),s=Cf(r),a=yh(r.converter,e);return _h(t,[Sf(gc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,ls.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Na(this.firestore,t))}isEqual(e){return _u(this._delegate,e._delegate)}withConverter(e){return new _c(this.firestore,this._delegate.withConverter(e?gd.getInstance(this.firestore,e):null))}}function Ul(r){return oi(r,ys)}class $g{constructor(...e){this._delegate=new $u(...e)}static documentId(){return new $g(Ii.keyField().canonicalString())}isEqual(e){return(e=(0,te.m9)(e))instanceof $u&&this._delegate._internalPath.isEqual(e._internalPath)}}class wc{constructor(e){this._delegate=e}static serverTimestamp(){const e=Bf();return e._methodName="FieldValue.serverTimestamp",new wc(e)}static delete(){const e=function Xy(){return new dh("deleteField")}();return e._methodName="FieldValue.delete",new wc(e)}static arrayUnion(...e){const t=function ev(...r){return new k_("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new wc(t)}static arrayRemove(...e){const t=function ew(...r){return new F_("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new wc(t)}static increment(e){const t=function tv(r){return new L_("increment",r)}(e);return t._methodName="FieldValue.increment",new wc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dw={Firestore:uv,GeoPoint:ch,Timestamp:Di,Blob:vc,Transaction:Bg,WriteBatch:lv,DocumentReference:Na,DocumentSnapshot:bh,Query:Mo,QueryDocumentSnapshot:md,QuerySnapshot:zf,CollectionReference:_c,FieldPath:$g,FieldValue:wc,setLogLevel:function pd(r){!function _r(r){qt.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function hv(r){(function hw(r,e){r.INTERNAL.registerComponent(new Ie.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},dw)))})(r,(e,t)=>new uv(e,t,new Ug)),r.registerVersion("@firebase/firestore-compat","0.3.10")}(aw.Z);var Ec=k(1205),fv=k(2313);function pv(r,e){return function fw(r,e=tw.z){return new nw.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function jg(r,e){return pv(r,e).pipe((0,ju.U)(t=>({payload:t,type:"query"})))}function Gf(r,e){return jg(r,e).pipe((0,Og.O)(void 0),Ng(),(0,ju.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((h,C)=>{const F=a.find(ee=>ee.doc.ref.isEqual(h.ref)),$=t?.payload.docs.find(ee=>ee.ref.isEqual(h.ref));F&&JSON.stringify(F.doc.metadata)===JSON.stringify(h.metadata)||!F&&$&&JSON.stringify($.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:h}})}),l}))}function gv(r,e,t){return Gf(r,t).pipe((0,kg.R)((s,a)=>function mv(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function pw(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Hg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Hg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Hg(r,e.oldIndex,1)}return r}(r,s))}),r}(s,a.map(l=>l.payload),e),[]),function iw(r,e=rw.y){return r=r??av,(0,sv.e)((t,s)=>{let a,l=!0;t.subscribe((0,ov.x)(s,h=>{const C=e(h);(l||!r(a,C))&&(l=!1,a=C,s.next(h))}))})}(),(0,ju.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Hg(r,e,t,...s){const a=r.slice();return a.splice(e,t,...s),a}function yv(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class vv{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Gf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ju.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Og.O)(void 0),Ng(),(0,Fg.h)(([s,a])=>a.length>0||!s),(0,ju.U)(([s,a])=>a),Oa.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,kg.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=yv(e);return gv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Oa.iC)}valueChanges(e={}){return jg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ju.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Oa.iC)}get(e){return(0,fd.D)(this.query.get(e)).pipe(Oa.iC)}add(e){return this.ref.add(e)}doc(e){return new _v(this.ref.doc(e),this.afs)}}class _v{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=zg(s,t);return new vv(a,l,this.afs)}snapshotChanges(){return function d0(r,e){return pv(r,e).pipe((0,Og.O)(void 0),Ng(),(0,ju.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Oa.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ju.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fd.D)(this.ref.get(e)).pipe(Oa.iC)}}class gw{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Gf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ju.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,Fg.h)(t=>t.length>0),Oa.iC):Gf(this.query,this.afs.schedulers.outsideAngular).pipe(Oa.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,kg.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=yv(e);return gv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Oa.iC)}valueChanges(e={}){return jg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ju.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Oa.iC)}get(e){return(0,fd.D)(this.query.get(e)).pipe(Oa.iC)}}const mw=new Wi.OlP("angularfire2.enableFirestorePersistence"),yw=new Wi.OlP("angularfire2.firestore.persistenceSettings"),Ch=new Wi.OlP("angularfire2.firestore.settings"),wv=new Wi.OlP("angularfire2.firestore.use-emulator");function zg(r,e=(t=>t)){return{query:e(r),ref:r}}let Ev=(()=>{class r{constructor(t,s,a,l,h,C,F,$,ee,Ee,rt,Ct,Yt,Tn,Rn,Dr,ei){this.schedulers=F;const Nr=(0,$f.on)(t,C,s),Ts=ee;Ee&&(0,Ec.nw)(Nr,C,rt,Yt,Tn,Rn,Ct,Dr),[this.firestore,this.persistenceEnabled$]=(0,$f.cc)(`${Nr.name}.firestore`,"AngularFirestore",Nr.name,()=>{const Qi=C.runOutsideAngular(()=>Nr.firestore());if(l&&Qi.settings(l),Ts&&Qi.useEmulator(...Ts),a&&!(0,sw.PM)(h)){const qi=()=>{try{return(0,fd.D)(Qi.enablePersistence($||void 0).then(()=>!0,()=>!1))}catch(Io){return typeof console<"u"&&console.warn(Io),(0,iv.of)(!1)}};return[Qi,C.runOutsideAngular(qi)]}return[Qi,(0,iv.of)(!1)]},[l,Ts,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=zg(a,s),C=this.schedulers.ngZone.run(()=>l);return new vv(C,h,this)}collectionGroup(t,s){const a=s||(h=>h),l=this.firestore.collectionGroup(t);return new gw(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new _v(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(Wi.LFG($f.Dh),Wi.LFG($f.xv,8),Wi.LFG(mw,8),Wi.LFG(Ch,8),Wi.LFG(Wi.Lbi),Wi.LFG(Wi.R0b),Wi.LFG(Oa.HU),Wi.LFG(yw,8),Wi.LFG(wv,8),Wi.LFG(Ec.zQ,8),Wi.LFG(Ec.Qv,8),Wi.LFG(Ec.L6,8),Wi.LFG(Ec._Q,8),Wi.LFG(Ec.rT,8),Wi.LFG(Ec.lh,8),Wi.LFG(Ec.f7,8),Wi.LFG(fv.nm,8))},r.\u0275prov=Wi.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();var Iv=k(7539);let bv=(()=>{class r{constructor(t,s,a){this.db=t,this.alerta=s,this.st=a,this.coleccion="usuarios",this.listaUrldelMismo=[],this.listaUrlParaVarios=[]}addUsuario(t,s){var a=this;return(0,p.Z)(function*(){console.log("llega aqu\xed al add"),a.usuario={nombre:t.nombre,apellido:t.apellido,dni:t.dni,edad:t.edad,email:t.email,password:t.password,obraSocial:t.obraSocial,especialidad:t.especialidad,rol:t.rol,verificado:"Especialista"==t.rol?"false":"true",creado:Bf(),log:Bf()},console.log(a.usuario),a.db.collection(a.coleccion).add(a.usuario).then(()=>{console.log("then")}).catch(h=>{a.alerta.lanzarAlertaError(h)})})()}subirImagenes(t,s){var a=this;return(0,p.Z)(function*(){console.log(s[0]),console.log(s[1]);for(let l=0;l<s.length;l++)a.subirImagen(t,s[l])})()}subirImagen(t,s){var a=this;return(0,p.Z)(function*(){console.log(s);const l=(0,Vl.iH)(a.st,"images/"+t+"/"+(new Date).getTime().toString()),h=s[0];console.log(h),yield(0,Vl.KV)(l,h).then().catch(F=>console.log(F))})()}getImages(t){var s=this;return(0,p.Z)(function*(){const l=W.Z.storage().ref("images/"+t);yield(0,Vl.aF)(l).then(function(){var h=(0,p.Z)(function*(C){for(let F of C.items)yield(0,Vl.Jt)(F).then($=>{s.listaUrldelMismo.push($)})});return function(C){return h.apply(this,arguments)}}()).catch(h=>console.log(h))})()}getImagenes(t){var s=this;return(0,p.Z)(function*(){s.listaUrlParaVarios=[];for(let a=0;a<t.length;a++){const h=W.Z.storage().ref("images/"+t[a]);yield(0,Vl.aF)(h).then(function(){var C=(0,p.Z)(function*(F){yield(0,Vl.Jt)(F.items[0]).then($=>{s.listaUrlParaVarios.push($)})});return function(F){return C.apply(this,arguments)}}())}})()}actualizarDato(t,s,a){W.Z.firestore().collection(this.coleccion).where("mail","==",t).get().then(l=>{l.forEach(h=>{h.ref.update({campo:a})})}).catch(l=>{console.log("Error grabando: ",l)})}getUser(t){this.usuarioObj=new Pg.b("","","","","","","","",""),W.Z.firestore().collection(this.coleccion).where("email","==",t).get().then(s=>{s.forEach(a=>{this.usuarioObj=new Pg.b(a.data().nombre,a.data().apellido,a.data().dni,a.data().edad,a.data().email,"",a.data().rol,a.data().obraSocial,a.data().especialidad)})}).catch(s=>{console.log("Error grabando: ",s)})}getNombre(t){return this.db.collection(this.coleccion,s=>s.where("mail","==",t)).snapshotChanges()}grabarLog(t){this.actualizarDato(t,"log",Bf())}}return r.\u0275fac=function(t){return new(t||r)(Wi.LFG(Ev),Wi.LFG(Iv.c),Wi.LFG(Vl.Ke))},r.\u0275prov=Wi.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},1228:(Qt,Xe,k)=>{"use strict";var p=k(1481),W=k(2011),V=k(433),Ie=k(9051),L=k(4650),te=k(6893);let Oe=(()=>{class $e{constructor(We,jt){this.auth=We,this.router=jt}ngOnInit(){}quieroJugar(){this.auth.getAuth().subscribe(We=>{this.router.navigate(We?.email?["/home-juegos"]:["/login"])})}}return $e.\u0275fac=function(We){return new(We||$e)(L.Y36(te.e),L.Y36(Ie.F0))},$e.\u0275cmp=L.Xpm({type:$e,selectors:[["app-home"]],decls:25,vars:0,consts:[[1,"rounded","container","bg-light"],[1,"row","flex-lg-row-reverse","align-items-center","g-5","py-5"],[1,"col-10","col-sm-8","col-lg-6"],["src","../assets/icono.png","alt","Bootstrap Themes","width","50%","loading","lazy",1,"d-block","mx-lg-auto","img-fluid"],[1,"col-lg-6"],[1,"display-5","fw-bold","lh-1","mb-3"],[1,"lead"],[1,"bi","bi-bandaid"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-start"],["type","button",1,"btn","btn-primary","btn-lg","px-4","me-md-2",3,"click"]],template:function(We,jt){1&We&&(L._UZ(0,"br")(1,"br")(2,"br")(3,"br")(4,"br")(5,"br"),L.TgZ(6,"div",0)(7,"div",1)(8,"div",2),L._UZ(9,"img",3),L.qZA(),L.TgZ(10,"div",4)(11,"h1",5),L._uU(12,"Cl\xednica de la Dra. Rus"),L.qZA(),L.TgZ(13,"p",6),L._uU(14,"Bienvenido a la Cl\xednica de la Dra. Rus "),L._UZ(15,"i",7),L._uU(16,"."),L.qZA(),L.TgZ(17,"p",6),L._uU(18,"Acceda para poder gestionar sus turnos."),L._UZ(19,"br"),L.qZA(),L.TgZ(20,"p",6),L._uU(21," \xa1Bienvenido! "),L.qZA(),L.TgZ(22,"div",8)(23,"button",9),L.NdJ("click",function(){return jt.quieroJugar()}),L._uU(24,"Acceso"),L.qZA()()()()())},styles:["@media (min-width: 992px){.rounded-lg-3[_ngcontent-%COMP%]{border-radius:.3rem}}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.container[_ngcontent-%COMP%]{max-width:1000px}"]}),$e})();var Ae=k(4846),ve=k(5868),he=k(6895);let se=(()=>{class $e{constructor(We){this.router=We,this.rol=new L.vpe,this.ensenar=!0}ngOnInit(){}registrarPaciente(){this.rol.emit("Paciente")}registrarEspecialista(){this.rol.emit("Especialista")}}return $e.\u0275fac=function(We){return new(We||$e)(L.Y36(Ie.F0))},$e.\u0275cmp=L.Xpm({type:$e,selectors:[["app-pre-registro"]],outputs:{rol:"rol"},decls:26,vars:0,consts:[[1,"container"],[1,"fw-light"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-1","g-1"],[1,"col"],[1,"card","shadow-sm"],["src","../assets/paciente.png","alt","","width","30%","height","30%",1,"bd-placeholder-img","card-img-top"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["src","../assets/especialista.jpeg","alt","","width","30%","height","30%",1,"bd-placeholder-img","card-img-top"]],template:function(We,jt){1&We&&(L.TgZ(0,"body")(1,"main")(2,"div",0)(3,"h1",1),L._uU(4,"\xbfQu\xe9 quiere registrar?"),L.qZA(),L.TgZ(5,"div",2)(6,"div",3)(7,"div",4),L._UZ(8,"img",5),L.TgZ(9,"div",6)(10,"p",7),L._uU(11,"Paciente"),L.qZA(),L.TgZ(12,"div",8)(13,"div",9)(14,"button",10),L.NdJ("click",function(){return jt.registrarPaciente()}),L._uU(15,"Registrar"),L.qZA()()()()()(),L.TgZ(16,"div",3)(17,"div",4),L._UZ(18,"img",11),L.TgZ(19,"div",6)(20,"p",7),L._uU(21,"Especialista"),L.qZA(),L.TgZ(22,"div",8)(23,"div",9)(24,"button",10),L.NdJ("click",function(){return jt.registrarEspecialista()}),L._uU(25,"Registrar"),L.qZA()()()()()()()()()())},styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.container[_ngcontent-%COMP%]{max-width:400px}"]}),$e})();function _e($e,dt){if(1&$e){const We=L.EpF();L.TgZ(0,"div")(1,"app-pre-registro",2),L.NdJ("rol",function(Jt){L.CHM(We);const pe=L.oxw();return L.KtG(pe.setRol(Jt))}),L.qZA()()}}function Je($e,dt){1&$e&&(L.TgZ(0,"small",30),L._uU(1," Introduzca un nombre v\xe1lido. "),L.qZA())}function st($e,dt){1&$e&&(L.TgZ(0,"small",30),L._uU(1," Introduzca un apellido v\xe1lido. "),L.qZA())}function _t($e,dt){1&$e&&(L.TgZ(0,"small",30),L._uU(1," Introduzca una edad v\xe1lida. "),L.qZA())}function Vt($e,dt){1&$e&&(L.TgZ(0,"small",30),L._uU(1," Introduzca un DNI v\xe1lido. "),L.qZA())}function ot($e,dt){1&$e&&(L.TgZ(0,"small",30),L._uU(1," Introduzca un mail v\xe1lido. "),L.qZA())}function It($e,dt){1&$e&&(L.TgZ(0,"small",30),L._uU(1," Introduzca una contrase\xf1a. "),L.qZA())}function mt($e,dt){1&$e&&(L.TgZ(0,"div",14)(1,"label",31),L._uU(2,"Especialidad"),L.qZA(),L.TgZ(3,"select",32)(4,"option",33),L._uU(5,"Elija una opci\xf3n..."),L.qZA(),L.TgZ(6,"option"),L._uU(7,"Gastroenterolog\xeda"),L.qZA(),L.TgZ(8,"option"),L._uU(9,"Oftalmolog\xeda"),L.qZA(),L.TgZ(10,"option"),L._uU(11,"Dermatolog\xeda"),L.qZA(),L.TgZ(12,"option"),L._uU(13,"Otra..."),L.qZA()()())}function wt($e,dt){1&$e&&(L.TgZ(0,"div",14)(1,"label",31),L._uU(2,"Otra:"),L.qZA(),L._UZ(3,"input",34)(4,"div",35),L.qZA())}function Qe($e,dt){1&$e&&(L.TgZ(0,"div",19)(1,"label",36),L._uU(2,"Obra social"),L.qZA(),L._UZ(3,"input",37),L.qZA())}function et($e,dt){if(1&$e){const We=L.EpF();L.TgZ(0,"div",19)(1,"label",38),L._uU(2,"Imagen"),L.qZA(),L.TgZ(3,"input",39),L.NdJ("change",function(Jt){L.CHM(We);const pe=L.oxw(2);return L.KtG(pe.cargarImagen(Jt))}),L.qZA(),L._UZ(4,"div",35),L.qZA()}}function tt($e,dt){if(1&$e){const We=L.EpF();L.TgZ(0,"div",3)(1,"main")(2,"div",4)(3,"h2"),L._uU(4),L.qZA()(),L.TgZ(5,"div",5)(6,"form",6),L.NdJ("ngSubmit",function(){L.CHM(We);const Jt=L.oxw();return L.KtG(Jt.crearUsuario())}),L.TgZ(7,"div",7)(8,"div",8)(9,"label",9),L._uU(10,"Nombre"),L.qZA(),L._UZ(11,"input",10),L.YNc(12,Je,2,0,"small",11),L.qZA(),L.TgZ(13,"div",8)(14,"label",12),L._uU(15,"Apellido"),L.qZA(),L._UZ(16,"input",13),L.YNc(17,st,2,0,"small",11),L.qZA(),L.TgZ(18,"div",14)(19,"label",15),L._uU(20,"Edad "),L.qZA(),L._UZ(21,"input",16),L.YNc(22,_t,2,0,"small",11),L.qZA(),L.TgZ(23,"div",14)(24,"label",17),L._uU(25,"DNI"),L.qZA(),L._UZ(26,"input",18),L.YNc(27,Vt,2,0,"small",11),L.qZA(),L.TgZ(28,"div",19)(29,"label",20),L._uU(30,"Email"),L.qZA(),L._UZ(31,"input",21),L.YNc(32,ot,2,0,"small",11),L.qZA(),L.TgZ(33,"div",19)(34,"label",22),L._uU(35,"Contrase\xf1a"),L.qZA(),L._UZ(36,"input",23),L.YNc(37,It,2,0,"small",11),L.qZA(),L.YNc(38,mt,14,0,"div",24),L.YNc(39,wt,5,0,"div",24),L.YNc(40,Qe,4,0,"div",25),L.TgZ(41,"div",19)(42,"label",26),L._uU(43,"Imagen"),L.qZA(),L.TgZ(44,"input",27),L.NdJ("change",function(Jt){L.CHM(We);const pe=L.oxw();return L.KtG(pe.cargarImagen(Jt))}),L.qZA()(),L.YNc(45,et,5,0,"div",25),L.qZA(),L._UZ(46,"hr",28),L.TgZ(47,"button",29),L._uU(48,"Grabar"),L.qZA()()()()()}if(2&$e){const We=L.oxw();let jt,Jt,pe,ce,J,ie;L.xp6(4),L.hij("Registro ",We.rol,""),L.xp6(2),L.Q6J("formGroup",We.form),L.xp6(6),L.Q6J("ngIf",(null==(jt=We.getValue("nombre"))?null:jt.invalid)&&(We.getValue("nombre").touched||We.getValue("nombre").dirty)),L.xp6(5),L.Q6J("ngIf",(null==(Jt=We.getValue("apellido"))?null:Jt.invalid)&&(We.getValue("apellido").touched||We.getValue("apellido").dirty)),L.xp6(5),L.Q6J("ngIf",(null==(pe=We.getValue("edad"))?null:pe.invalid)&&(We.getValue("edad").touched||We.getValue("edad").dirty)),L.xp6(5),L.Q6J("ngIf",(null==(ce=We.getValue("dni"))?null:ce.invalid)&&(We.getValue("dni").touched||We.getValue("dni").dirty)),L.xp6(5),L.Q6J("ngIf",(null==(J=We.getValue("email"))?null:J.invalid)&&(We.getValue("email").touched||We.getValue("email").dirty)),L.xp6(5),L.Q6J("ngIf",(null==(ie=We.getValue("password"))?null:ie.invalid)&&(We.getValue("password").touched||We.getValue("password").dirty)),L.xp6(1),L.Q6J("ngIf","Especialista"==We.rol),L.xp6(1),L.Q6J("ngIf","Especialista"==We.rol),L.xp6(1),L.Q6J("ngIf","Paciente"==We.rol),L.xp6(5),L.Q6J("ngIf","Paciente"==We.rol)}}const ct=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Oe},{path:"registro",component:(()=>{class $e{constructor(We,jt,Jt){this.fb=We,this.db=jt,this.st=Jt,this.archivos=[],this.rol=""}ngOnInit(){this.form=this.fb.group({rol:["",[V.kI.minLength(3),V.kI.maxLength(20)]],nombre:["",[V.kI.minLength(3),V.kI.maxLength(20)]],apellido:["",[V.kI.minLength(3),V.kI.maxLength(20)]],edad:["",[V.kI.required,V.kI.max(100)]],dni:["",[V.kI.minLength(8),V.kI.maxLength(8)]],email:["",[V.kI.required,V.kI.email]],password:["",[V.kI.required]],obraSocial:["",[V.kI.minLength(3),V.kI.maxLength(20)]],especialidad:["",[V.kI.minLength(3),V.kI.maxLength(20)]],imagenUno:["",[V.kI.required]],imagenDos:["",[V.kI.required]]})}getValue(We){return this.form.get(We)}reset(){this.ngOnInit()}setRol(We){this.rol=We}cargarImagen(We){this.archivos.push(We.target.files)}subirImagenes(We){for(let jt=0;jt<this.archivos.length;jt++)console.log(this.archivos[jt]),this.st.subirImagen(We,this.archivos[jt])}crearUsuario(){const jt=new Ae.b(this.form.value.nombre,this.form.value.apellido,this.form.value.dni,this.form.value.edad,this.form.value.email,this.form.value.password,this.rol,this.form.value.obraSocial,this.form.value.especialidad);this.db.registro(jt,this.archivos),console.log(this.rol)}}return $e.\u0275fac=function(We){return new(We||$e)(L.Y36(V.qu),L.Y36(te.e),L.Y36(ve.V))},$e.\u0275cmp=L.Xpm({type:$e,selectors:[["app-registro"]],decls:6,vars:2,consts:[[4,"ngIf","ngIfElse"],["then_content",""],[3,"rol"],[1,"container","bg-light"],[1,"py-5","text-center"],[1,"row","g-6"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["formControlName","nombre","type","text","id","nombre","placeholder","","value","","required","",1,"form-control"],["class","errorMessage",4,"ngIf"],["for","apellido",1,"form-label"],["formControlName","apellido","type","text","id","apellido","placeholder","","value","","required","",1,"form-control"],[1,"col-6"],["for","edad",1,"form-label"],["formControlName","edad","type","number","id","edad","placeholder","","required","",1,"form-control"],["for","dni",1,"form-label"],["formControlName","dni","type","text","id","dni","required","",1,"form-control"],[1,"col-12"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email","required","",1,"form-control"],["for","password",1,"form-label"],["formControlName","password","type","password","id","password","required","",1,"form-control"],["class","col-6",4,"ngIf"],["class","col-12",4,"ngIf"],["for","imagenUno",1,"form-label"],["formControlName","imagenUno","type","file","id","imagenUno",1,"form-control",3,"change"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg"],[1,"errorMessage"],["for","especialidad",1,"form-label"],["formControlName","especialidad","id","especialidad","required","",1,"form-select"],["value",""],["formControlName","especialidad","type","text","id","especialidad",1,"form-control"],[1,"invalid-feedback"],["for","obraSocial",1,"form-label"],["formControlName","obraSocial","type","text","id","obraSocial",1,"form-control"],["for","imagenDos",1,"form-label"],["formControlName","imagenDos","type","file","id","imagenDos",1,"form-control",3,"change"]],template:function(We,jt){if(1&We&&(L._UZ(0,"br")(1,"br")(2,"br"),L.YNc(3,_e,2,0,"div",0),L.YNc(4,tt,49,12,"ng-template",null,1,L.W1O)),2&We){const Jt=L.MAs(5);L.xp6(3),L.Q6J("ngIf",!jt.rol)("ngIfElse",Jt)}},dependencies:[he.O5,V._Y,V.YN,V.Kr,V.Fj,V.wV,V.EJ,V.JJ,V.JL,V.Q7,V.sg,V.u,se],styles:[".container[_ngcontent-%COMP%]{max-width:600px}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}"]}),$e})()},{path:"login",loadChildren:()=>k.e(486).then(k.bind(k,6486)).then($e=>$e.LoginModule)}];let Ue=(()=>{class $e{}return $e.\u0275fac=function(We){return new(We||$e)},$e.\u0275mod=L.oAB({type:$e}),$e.\u0275inj=L.cJS({imports:[Ie.Bz.forRoot(ct),Ie.Bz]}),$e})();var Pt=k(9751),on=k(9646),kt=k(8996),Lt=k(4986),At=k(4482),nr=k(5403),Ke=k(4004),je=k(3900),Ze=k(4976),ht=k(3942),ze=k(6961),ft=k(4859);class Ft{constructor(dt,We,jt){this._delegate=dt,this.task=We,this.ref=jt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ln{constructor(dt,We){this._delegate=dt,this._ref=We,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ft(this._delegate.snapshot,this,this._ref)}then(dt,We){return this._delegate.then(jt=>{if(dt)return dt(new Ft(jt,this,this._ref))},We)}on(dt,We,jt,Jt){let pe;return We&&(pe="function"==typeof We?ce=>We(new Ft(ce,this,this._ref)):{next:We.next?ce=>We.next(new Ft(ce,this,this._ref)):void 0,complete:We.complete||void 0,error:We.error||void 0}),this._delegate.on(dt,pe,jt||void 0,Jt||void 0)}}class Ut{constructor(dt,We){this._delegate=dt,this._service=We}get prefixes(){return this._delegate.prefixes.map(dt=>new $t(dt,this._service))}get items(){return this._delegate.items.map(dt=>new $t(dt,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class $t{constructor(dt,We){this._delegate=dt,this.storage=We}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(dt){const We=(0,ze.g6)(this._delegate,dt);return new $t(We,this.storage)}get root(){return new $t(this._delegate.root,this.storage)}get parent(){const dt=this._delegate.parent;return null==dt?null:new $t(dt,this.storage)}put(dt,We){return this._throwIfRoot("put"),new Ln((0,ze.B0)(this._delegate,dt,We),this)}putString(dt,We=ze.bm.RAW,jt){this._throwIfRoot("putString");const Jt=(0,ze.qm)(We,dt),pe=Object.assign({},jt);return null==pe.contentType&&null!=Jt.contentType&&(pe.contentType=Jt.contentType),new Ln(new ze.IX(this._delegate,new ze.UJ(Jt.data,!0),pe),this)}listAll(){return(0,ze.aF)(this._delegate).then(dt=>new Ut(dt,this.storage))}list(dt){return(0,ze.pb)(this._delegate,dt||void 0).then(We=>new Ut(We,this.storage))}getMetadata(){return(0,ze.sd)(this._delegate)}updateMetadata(dt){return(0,ze.Ym)(this._delegate,dt)}getDownloadURL(){return(0,ze.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,ze.oq)(this._delegate)}_throwIfRoot(dt){if(""===this._delegate._location.path)throw(0,ze.y4)(dt)}}class _n{constructor(dt,We){this.app=dt,this._delegate=We}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(dt){if(Pn(dt))throw(0,ze.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new $t((0,ze.iH)(this._delegate,dt),this)}refFromURL(dt){if(!Pn(dt))throw(0,ze.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ze.gE.makeFromUrl(dt,this._delegate.host)}catch{throw(0,ze.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new $t((0,ze.iH)(this._delegate,dt),this)}setMaxUploadRetryTime(dt){this._delegate.maxUploadRetryTime=dt}setMaxOperationRetryTime(dt){this._delegate.maxOperationRetryTime=dt}useEmulator(dt,We,jt={}){(0,ze.a1)(this._delegate,dt,We,jt)}}function Pn($e){return/^[A-Za-z]+:\/\//.test($e)}function rr($e,{instanceIdentifier:dt}){const We=$e.getProvider("app-compat").getImmediate(),jt=$e.getProvider("storage").getImmediate({identifier:dt});return new _n(We,jt)}!function zt($e){const dt={TaskState:ze.$Y,TaskEvent:ze.FN,StringFormat:ze.bm,Storage:_n,Reference:$t};$e.INTERNAL.registerComponent(new ft.wA("storage-compat",rr,"PUBLIC").setServiceProps(dt).setMultipleInstances(!0)),$e.registerVersion("@firebase/storage-compat","0.3.2")}(ht.Z);var yr=k(2313),De=k(9260);function Ne($e){const dt=function Se($e){return new Pt.y(dt=>{const We=ce=>dt.next(ce);We($e.snapshot);const pe=$e.on("state_changed",We);return $e.then(ce=>{We(ce),dt.complete()},ce=>{We($e.snapshot),(ce=>{dt.error(ce)})(ce)}),function(){pe()}}).pipe(function He($e,dt=Lt.z){return(0,At.e)((We,jt)=>{let Jt=null,pe=null,ce=null;const J=()=>{if(Jt){Jt.unsubscribe(),Jt=null;const Z=pe;pe=null,jt.next(Z)}};function ie(){const Z=ce+$e,be=dt.now();if(be<Z)return Jt=this.schedule(void 0,Z-be),void jt.add(Jt);J()}We.subscribe((0,nr.x)(jt,Z=>{pe=Z,ce=dt.now(),Jt||(Jt=dt.schedule(ie,$e),jt.add(Jt))},()=>{J(),jt.complete()},void 0,()=>{pe=Jt=null}))})}(0))}($e);return{task:$e,then:$e.then.bind($e),catch:$e.catch.bind($e),pause:$e.pause.bind($e),cancel:$e.cancel.bind($e),resume:$e.resume.bind($e),snapshotChanges:()=>dt,percentageChanges:()=>dt.pipe((0,Ke.U)(We=>We.bytesTransferred/We.totalBytes*100))}}function Pe($e){return{getDownloadURL:()=>(0,on.of)(void 0).pipe(Ze.fc,(0,je.w)(()=>$e.getDownloadURL()),Ze.iC),getMetadata:()=>(0,on.of)(void 0).pipe(Ze.fc,(0,je.w)(()=>$e.getMetadata()),Ze.iC),delete:()=>(0,kt.D)($e.delete()),child:dt=>Pe($e.child(dt)),updateMetadata:dt=>(0,kt.D)($e.updateMetadata(dt)),put:(dt,We)=>Ne($e.put(dt,We)),putString:(dt,We,jt)=>Ne($e.putString(dt,We,jt)),list:dt=>(0,kt.D)($e.list(dt)),listAll:()=>(0,kt.D)($e.listAll())}}const it=new L.OlP("angularfire2.storageBucket"),Mt=new L.OlP("angularfire2.storage.maxUploadRetryTime"),Gn=new L.OlP("angularfire2.storage.maxOperationRetryTime"),yn=new L.OlP("angularfire2.storage.use-emulator");let An=(()=>{class $e{constructor(We,jt,Jt,pe,ce,J,ie,Z,be,le){const fe=(0,W.on)(We,ce,jt);this.storage=(0,W.cc)(`${fe.name}.storage.${Jt}`,"AngularFireStorage",fe.name,()=>{const ae=ce.runOutsideAngular(()=>fe.storage(Jt||void 0)),xe=be;return xe&&ae.useEmulator(...xe),ie&&ae.setMaxUploadRetryTime(ie),Z&&ae.setMaxOperationRetryTime(Z),ae},[ie,Z])}ref(We){return Pe(this.storage.ref(We))}refFromURL(We){return Pe(this.storage.refFromURL(We))}upload(We,jt,Jt){return Pe(this.storage.ref(We)).put(jt,Jt)}}return $e.\u0275fac=function(We){return new(We||$e)(L.LFG(W.Dh),L.LFG(W.xv,8),L.LFG(it,8),L.LFG(L.Lbi),L.LFG(L.R0b),L.LFG(Ze.HU),L.LFG(Mt,8),L.LFG(Gn,8),L.LFG(yn,8),L.LFG(yr.nm,8))},$e.\u0275prov=L.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"any"}),$e})(),ln=(()=>{class $e{}return $e.\u0275fac=function(We){return new(We||$e)},$e.\u0275mod=L.oAB({type:$e}),$e.\u0275inj=L.cJS({}),$e})(),Gt=(()=>{class $e{constructor(){De.Z.registerVersion("angularfire",Ze.q4.full,"gcs-compat")}}return $e.\u0275fac=function(We){return new(We||$e)},$e.\u0275mod=L.oAB({type:$e}),$e.\u0275inj=L.cJS({providers:[An],imports:[ln]}),$e})();function an($e,dt){1&$e&&(L.TgZ(0,"li",11)(1,"a",12),L._uU(2,"Home"),L.qZA()())}function pr($e,dt){1&$e&&(L.TgZ(0,"li",11)(1,"a",13),L._uU(2,"Usuarios"),L.qZA()())}function Xn($e,dt){if(1&$e){const We=L.EpF();L.TgZ(0,"div")(1,"button",14),L.NdJ("click",function(){L.CHM(We);const Jt=L.oxw();return L.KtG(Jt.logout())}),L._uU(2),L._UZ(3,"img",15),L.qZA()()}if(2&$e){const We=dt.ngIf;L.xp6(2),L.hij("",We.email," ")}}function or($e,dt){1&$e&&(L.TgZ(0,"button",16),L._uU(1,"Login"),L.qZA(),L.TgZ(2,"button",17),L._uU(3,"Registro"),L.qZA())}let Qn=(()=>{class $e{constructor(We,jt){this.auth=We,this.st=jt,this.logueado=this.auth.getAuth()}ngOnInit(){this.st.usuarioObj=new Ae.b("","","","","","","","",""),this.auth.getAuth().subscribe(We=>{null!=We&&this.st.getUser(We?.email)})}logout(){this.auth.logout("/home")}}return $e.\u0275fac=function(We){return new(We||$e)(L.Y36(te.e),L.Y36(ve.V))},$e.\u0275cmp=L.Xpm({type:$e,selectors:[["app-navbar"]],decls:14,vars:6,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-primary"],[1,"container-fluid"],["width","3%","height","3%","src","../assets/salud.png","alt","","routerLink","/home",1,"bi","me-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],["class","nav-item",4,"ngIf"],[1,"col-md-3","text-end"],[4,"ngIf","ngIfElse"],["then_content",""],[1,"nav-item"],["routerLink","/home-admin",1,"nav-link","active"],["routerLink","/gestion-usuarios",1,"nav-link","active"],["type","button",1,"btn","btn-outline-light","me-2",3,"click"],["width","32","height","32","src","../assets/signOut.png","alt","","routerLink","/home",1,"bi","me-2"],["type","button","routerLink","/login",1,"btn","btn-outline-light","me-2"],["type","button","routerLink","/registro",1,"btn","btn-light"]],template:function(We,jt){if(1&We&&(L.TgZ(0,"nav",0)(1,"div",1),L._UZ(2,"img",2),L.TgZ(3,"button",3),L._UZ(4,"span",4),L.qZA(),L.TgZ(5,"div",5)(6,"ul",6),L.YNc(7,an,3,0,"li",7),L.YNc(8,pr,3,0,"li",7),L.qZA(),L.TgZ(9,"div",8),L.YNc(10,Xn,4,1,"div",9),L.ALo(11,"async"),L.YNc(12,or,4,0,"ng-template",null,10,L.W1O),L.qZA()()()()),2&We){const Jt=L.MAs(13);L.xp6(7),L.Q6J("ngIf","Admin"==jt.st.usuarioObj.rol),L.xp6(1),L.Q6J("ngIf","Admin"==jt.st.usuarioObj.rol),L.xp6(2),L.Q6J("ngIf",L.lcZ(11,4,jt.logueado))("ngIfElse",Jt)}},dependencies:[he.O5,Ie.rH,he.Ov],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),$e})(),Wn=(()=>{class $e{constructor(){this.title="LABOIV_TP_Clinica"}}return $e.\u0275fac=function(We){return new(We||$e)},$e.\u0275cmp=L.Xpm({type:$e,selectors:[["app-root"]],decls:2,vars:0,template:function(We,jt){1&We&&L._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[Ie.lC,Qn]}),$e})();var Sr=k(3692),Un=k(259),ir=k(7158),Sn=k(4322),bn=k(6591),Wt=k(1620);const Zn={apiKey:"AIzaSyAsMi9zxscXsbA_0befCml62yl9e8qoHlg",authDomain:"clinicadrarus.firebaseapp.com",projectId:"clinicadrarus",storageBucket:"clinicadrarus.appspot.com",messagingSenderId:"164326829085",appId:"1:164326829085:web:78e691eaa23ed03e6daaf4"};let gr=(()=>{class $e{}return $e.\u0275fac=function(We){return new(We||$e)},$e.\u0275mod=L.oAB({type:$e,bootstrap:[Wn]}),$e.\u0275inj=L.cJS({providers:[ve.V],imports:[p.b2,Ue,W.hO.initializeApp(Zn),V.u5,V.UX,Gt,(0,Sr.hX)(()=>(0,Un.ZF)(Zn)),(0,ir.AR)(()=>(0,Sn.v0)()),(0,bn.Vq)(()=>(0,Wt.cF)())]}),$e})();p.q6().bootstrapModule(gr).catch($e=>console.error($e))},9751:(Qt,Xe,k)=>{"use strict";k.d(Xe,{y:()=>Ae});var p=k(2961),W=k(727),V=k(8822),Ie=k(9635),L=k(2416),te=k(576),Oe=k(2806);let Ae=(()=>{class _e{constructor(st){st&&(this._subscribe=st)}lift(st){const _t=new _e;return _t.source=this,_t.operator=st,_t}subscribe(st,_t,Vt){const ot=function se(_e){return _e&&_e instanceof p.Lv||function he(_e){return _e&&(0,te.m)(_e.next)&&(0,te.m)(_e.error)&&(0,te.m)(_e.complete)}(_e)&&(0,W.Nn)(_e)}(st)?st:new p.Hp(st,_t,Vt);return(0,Oe.x)(()=>{const{operator:It,source:mt}=this;ot.add(It?It.call(ot,mt):mt?this._subscribe(ot):this._trySubscribe(ot))}),ot}_trySubscribe(st){try{return this._subscribe(st)}catch(_t){st.error(_t)}}forEach(st,_t){return new(_t=ve(_t))((Vt,ot)=>{const It=new p.Hp({next:mt=>{try{st(mt)}catch(wt){ot(wt),It.unsubscribe()}},error:ot,complete:Vt});this.subscribe(It)})}_subscribe(st){var _t;return null===(_t=this.source)||void 0===_t?void 0:_t.subscribe(st)}[V.L](){return this}pipe(...st){return(0,Ie.U)(st)(this)}toPromise(st){return new(st=ve(st))((_t,Vt)=>{let ot;this.subscribe(It=>ot=It,It=>Vt(It),()=>_t(ot))})}}return _e.create=Je=>new _e(Je),_e})();function ve(_e){var Je;return null!==(Je=_e??L.v.Promise)&&void 0!==Je?Je:Promise}},7579:(Qt,Xe,k)=>{"use strict";k.d(Xe,{x:()=>Oe});var p=k(9751),W=k(727);const Ie=(0,k(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var L=k(8737),te=k(2806);let Oe=(()=>{class ve extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const _e=new Ae(this,this);return _e.operator=se,_e}_throwIfClosed(){if(this.closed)throw new Ie}next(se){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(se)}})}error(se){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:_e}=this;for(;_e.length;)_e.shift().error(se)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:_e,isStopped:Je,observers:st}=this;return _e||Je?W.Lc:(this.currentObservers=null,st.push(se),new W.w0(()=>{this.currentObservers=null,(0,L.P)(st,se)}))}_checkFinalizedStatuses(se){const{hasError:_e,thrownError:Je,isStopped:st}=this;_e?se.error(Je):st&&se.complete()}asObservable(){const se=new p.y;return se.source=this,se}}return ve.create=(he,se)=>new Ae(he,se),ve})();class Ae extends Oe{constructor(he,se){super(),this.destination=he,this.source=se}next(he){var se,_e;null===(_e=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===_e||_e.call(se,he)}error(he){var se,_e;null===(_e=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===_e||_e.call(se,he)}complete(){var he,se;null===(se=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===se||se.call(he)}_subscribe(he){var se,_e;return null!==(_e=null===(se=this.source)||void 0===se?void 0:se.subscribe(he))&&void 0!==_e?_e:W.Lc}}},2961:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Hp:()=>Vt,Lv:()=>_e});var p=k(576),W=k(727),V=k(2416),Ie=k(7849);function L(){}const te=ve("C",void 0,void 0);function ve(Qe,et,tt){return{kind:Qe,value:et,error:tt}}var he=k(3410),se=k(2806);class _e extends W.w0{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,W.Nn)(et)&&et.add(this)):this.destination=wt}static create(et,tt,Tt){return new Vt(et,tt,Tt)}next(et){this.isStopped?mt(function Ae(Qe){return ve("N",Qe,void 0)}(et),this):this._next(et)}error(et){this.isStopped?mt(function Oe(Qe){return ve("E",void 0,Qe)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?mt(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function st(Qe,et){return Je.call(Qe,et)}class _t{constructor(et){this.partialObserver=et}next(et){const{partialObserver:tt}=this;if(tt.next)try{tt.next(et)}catch(Tt){ot(Tt)}}error(et){const{partialObserver:tt}=this;if(tt.error)try{tt.error(et)}catch(Tt){ot(Tt)}else ot(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(tt){ot(tt)}}}class Vt extends _e{constructor(et,tt,Tt){let ct;if(super(),(0,p.m)(et)||!et)ct={next:et??void 0,error:tt??void 0,complete:Tt??void 0};else{let Ue;this&&V.v.useDeprecatedNextContext?(Ue=Object.create(et),Ue.unsubscribe=()=>this.unsubscribe(),ct={next:et.next&&st(et.next,Ue),error:et.error&&st(et.error,Ue),complete:et.complete&&st(et.complete,Ue)}):ct=et}this.destination=new _t(ct)}}function ot(Qe){V.v.useDeprecatedSynchronousErrorHandling?(0,se.O)(Qe):(0,Ie.h)(Qe)}function mt(Qe,et){const{onStoppedNotification:tt}=V.v;tt&&he.z.setTimeout(()=>tt(Qe,et))}const wt={closed:!0,next:L,error:function It(Qe){throw Qe},complete:L}},727:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Lc:()=>te,w0:()=>L,Nn:()=>Oe});var p=k(576);const V=(0,k(3888).d)(ve=>function(se){ve(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((_e,Je)=>`${Je+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var Ie=k(8737);class L{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const st of se)st.remove(this);else se.remove(this);const{initialTeardown:_e}=this;if((0,p.m)(_e))try{_e()}catch(st){he=st instanceof V?st.errors:[st]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const st of Je)try{Ae(st)}catch(_t){he=he??[],_t instanceof V?he=[...he,..._t.errors]:he.push(_t)}}if(he)throw new V(he)}}add(he){var se;if(he&&he!==this)if(this.closed)Ae(he);else{if(he instanceof L){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(he)}}_hasParent(he){const{_parentage:se}=this;return se===he||Array.isArray(se)&&se.includes(he)}_addParent(he){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(he),se):se?[se,he]:he}_removeParent(he){const{_parentage:se}=this;se===he?this._parentage=null:Array.isArray(se)&&(0,Ie.P)(se,he)}remove(he){const{_finalizers:se}=this;se&&(0,Ie.P)(se,he),he instanceof L&&he._removeParent(this)}}L.EMPTY=(()=>{const ve=new L;return ve.closed=!0,ve})();const te=L.EMPTY;function Oe(ve){return ve instanceof L||ve&&"closed"in ve&&(0,p.m)(ve.remove)&&(0,p.m)(ve.add)&&(0,p.m)(ve.unsubscribe)}function Ae(ve){(0,p.m)(ve)?ve():ve.unsubscribe()}},2416:(Qt,Xe,k)=>{"use strict";k.d(Xe,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Qt,Xe,k)=>{"use strict";k.d(Xe,{z:()=>L});var p=k(8189),V=k(7669),Ie=k(8996);function L(...te){return function W(){return(0,p.J)(1)}()((0,Ie.D)(te,(0,V.yG)(te)))}},515:(Qt,Xe,k)=>{"use strict";k.d(Xe,{E:()=>W});const W=new(k(9751).y)(L=>L.complete())},8996:(Qt,Xe,k)=>{"use strict";k.d(Xe,{D:()=>et});var p=k(8421),W=k(5363),V=k(9468),te=k(9751),Ae=k(2202),ve=k(576),he=k(9672);function _e(tt,Tt){if(!tt)throw new Error("Iterable cannot be null");return new te.y(ct=>{(0,he.f)(ct,Tt,()=>{const Ue=tt[Symbol.asyncIterator]();(0,he.f)(ct,Tt,()=>{Ue.next().then(Pt=>{Pt.done?ct.complete():ct.next(Pt.value)})},0,!0)})})}var Je=k(3670),st=k(8239),_t=k(1144),Vt=k(6495),ot=k(2206),It=k(4532),mt=k(3260);function et(tt,Tt){return Tt?function Qe(tt,Tt){if(null!=tt){if((0,Je.c)(tt))return function Ie(tt,Tt){return(0,p.Xf)(tt).pipe((0,V.R)(Tt),(0,W.Q)(Tt))}(tt,Tt);if((0,_t.z)(tt))return function Oe(tt,Tt){return new te.y(ct=>{let Ue=0;return Tt.schedule(function(){Ue===tt.length?ct.complete():(ct.next(tt[Ue++]),ct.closed||this.schedule())})})}(tt,Tt);if((0,st.t)(tt))return function L(tt,Tt){return(0,p.Xf)(tt).pipe((0,V.R)(Tt),(0,W.Q)(Tt))}(tt,Tt);if((0,ot.D)(tt))return _e(tt,Tt);if((0,Vt.T)(tt))return function se(tt,Tt){return new te.y(ct=>{let Ue;return(0,he.f)(ct,Tt,()=>{Ue=tt[Ae.h](),(0,he.f)(ct,Tt,()=>{let Pt,on;try{({value:Pt,done:on}=Ue.next())}catch(kt){return void ct.error(kt)}on?ct.complete():ct.next(Pt)},0,!0)}),()=>(0,ve.m)(Ue?.return)&&Ue.return()})}(tt,Tt);if((0,mt.L)(tt))return function wt(tt,Tt){return _e((0,mt.Q)(tt),Tt)}(tt,Tt)}throw(0,It.z)(tt)}(tt,Tt):(0,p.Xf)(tt)}},8421:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Xf:()=>Je});var p=k(7582),W=k(1144),V=k(8239),Ie=k(9751),L=k(3670),te=k(2206),Oe=k(4532),Ae=k(6495),ve=k(3260),he=k(576),se=k(7849),_e=k(8822);function Je(Qe){if(Qe instanceof Ie.y)return Qe;if(null!=Qe){if((0,L.c)(Qe))return function st(Qe){return new Ie.y(et=>{const tt=Qe[_e.L]();if((0,he.m)(tt.subscribe))return tt.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Qe);if((0,W.z)(Qe))return function _t(Qe){return new Ie.y(et=>{for(let tt=0;tt<Qe.length&&!et.closed;tt++)et.next(Qe[tt]);et.complete()})}(Qe);if((0,V.t)(Qe))return function Vt(Qe){return new Ie.y(et=>{Qe.then(tt=>{et.closed||(et.next(tt),et.complete())},tt=>et.error(tt)).then(null,se.h)})}(Qe);if((0,te.D)(Qe))return It(Qe);if((0,Ae.T)(Qe))return function ot(Qe){return new Ie.y(et=>{for(const tt of Qe)if(et.next(tt),et.closed)return;et.complete()})}(Qe);if((0,ve.L)(Qe))return function mt(Qe){return It((0,ve.Q)(Qe))}(Qe)}throw(0,Oe.z)(Qe)}function It(Qe){return new Ie.y(et=>{(function wt(Qe,et){var tt,Tt,ct,Ue;return(0,p.mG)(this,void 0,void 0,function*(){try{for(tt=(0,p.KL)(Qe);!(Tt=yield tt.next()).done;)if(et.next(Tt.value),et.closed)return}catch(Pt){ct={error:Pt}}finally{try{Tt&&!Tt.done&&(Ue=tt.return)&&(yield Ue.call(tt))}finally{if(ct)throw ct.error}}et.complete()})})(Qe,et).catch(tt=>et.error(tt))})}},6451:(Qt,Xe,k)=>{"use strict";k.d(Xe,{T:()=>te});var p=k(8189),W=k(8421),V=k(515),Ie=k(7669),L=k(8996);function te(...Oe){const Ae=(0,Ie.yG)(Oe),ve=(0,Ie._6)(Oe,1/0),he=Oe;return he.length?1===he.length?(0,W.Xf)(he[0]):(0,p.J)(ve)((0,L.D)(he,Ae)):V.E}},9646:(Qt,Xe,k)=>{"use strict";k.d(Xe,{of:()=>V});var p=k(7669),W=k(8996);function V(...Ie){const L=(0,p.yG)(Ie);return(0,W.D)(Ie,L)}},5403:(Qt,Xe,k)=>{"use strict";k.d(Xe,{x:()=>W});var p=k(2961);function W(Ie,L,te,Oe,Ae){return new V(Ie,L,te,Oe,Ae)}class V extends p.Lv{constructor(L,te,Oe,Ae,ve,he){super(L),this.onFinalize=ve,this.shouldUnsubscribe=he,this._next=te?function(se){try{te(se)}catch(_e){L.error(_e)}}:super._next,this._error=Ae?function(se){try{Ae(se)}catch(_e){L.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(se){L.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var L;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(L=this.onFinalize)||void 0===L||L.call(this))}}}},6590:(Qt,Xe,k)=>{"use strict";k.d(Xe,{d:()=>V});var p=k(4482),W=k(5403);function V(Ie){return(0,p.e)((L,te)=>{let Oe=!1;L.subscribe((0,W.x)(te,Ae=>{Oe=!0,te.next(Ae)},()=>{Oe||te.next(Ie),te.complete()}))})}},9300:(Qt,Xe,k)=>{"use strict";k.d(Xe,{h:()=>V});var p=k(4482),W=k(5403);function V(Ie,L){return(0,p.e)((te,Oe)=>{let Ae=0;te.subscribe((0,W.x)(Oe,ve=>Ie.call(L,ve,Ae++)&&Oe.next(ve)))})}},590:(Qt,Xe,k)=>{"use strict";k.d(Xe,{P:()=>Oe});var p=k(6805),W=k(9300),V=k(5698),Ie=k(6590),L=k(8068),te=k(4671);function Oe(Ae,ve){const he=arguments.length>=2;return se=>se.pipe(Ae?(0,W.h)((_e,Je)=>Ae(_e,Je,se)):te.y,(0,V.q)(1),he?(0,Ie.d)(ve):(0,L.T)(()=>new p.K))}},4004:(Qt,Xe,k)=>{"use strict";k.d(Xe,{U:()=>V});var p=k(4482),W=k(5403);function V(Ie,L){return(0,p.e)((te,Oe)=>{let Ae=0;te.subscribe((0,W.x)(Oe,ve=>{Oe.next(Ie.call(L,ve,Ae++))}))})}},8189:(Qt,Xe,k)=>{"use strict";k.d(Xe,{J:()=>V});var p=k(5577),W=k(4671);function V(Ie=1/0){return(0,p.z)(W.y,Ie)}},5577:(Qt,Xe,k)=>{"use strict";k.d(Xe,{z:()=>Ae});var p=k(4004),W=k(8421),V=k(4482),Ie=k(9672),L=k(5403),Oe=k(576);function Ae(ve,he,se=1/0){return(0,Oe.m)(he)?Ae((_e,Je)=>(0,p.U)((st,_t)=>he(_e,st,Je,_t))((0,W.Xf)(ve(_e,Je))),se):("number"==typeof he&&(se=he),(0,V.e)((_e,Je)=>function te(ve,he,se,_e,Je,st,_t,Vt){const ot=[];let It=0,mt=0,wt=!1;const Qe=()=>{wt&&!ot.length&&!It&&he.complete()},et=Tt=>It<_e?tt(Tt):ot.push(Tt),tt=Tt=>{st&&he.next(Tt),It++;let ct=!1;(0,W.Xf)(se(Tt,mt++)).subscribe((0,L.x)(he,Ue=>{Je?.(Ue),st?et(Ue):he.next(Ue)},()=>{ct=!0},void 0,()=>{if(ct)try{for(It--;ot.length&&It<_e;){const Ue=ot.shift();_t?(0,Ie.f)(he,_t,()=>tt(Ue)):tt(Ue)}Qe()}catch(Ue){he.error(Ue)}}))};return ve.subscribe((0,L.x)(he,et,()=>{wt=!0,Qe()})),()=>{Vt?.()}}(_e,Je,ve,se)))}},5363:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Q:()=>Ie});var p=k(9672),W=k(4482),V=k(5403);function Ie(L,te=0){return(0,W.e)((Oe,Ae)=>{Oe.subscribe((0,V.x)(Ae,ve=>(0,p.f)(Ae,L,()=>Ae.next(ve),te),()=>(0,p.f)(Ae,L,()=>Ae.complete(),te),ve=>(0,p.f)(Ae,L,()=>Ae.error(ve),te)))})}},5026:(Qt,Xe,k)=>{"use strict";k.d(Xe,{R:()=>Ie});var p=k(4482),W=k(5403);function Ie(L,te){return(0,p.e)(function V(L,te,Oe,Ae,ve){return(he,se)=>{let _e=Oe,Je=te,st=0;he.subscribe((0,W.x)(se,_t=>{const Vt=st++;Je=_e?L(Je,_t,Vt):(_e=!0,_t),Ae&&se.next(Je)},ve&&(()=>{_e&&se.next(Je),se.complete()})))}}(L,te,arguments.length>=2,!0))}},3099:(Qt,Xe,k)=>{"use strict";k.d(Xe,{B:()=>L});var p=k(8421),W=k(7579),V=k(2961),Ie=k(4482);function L(Oe={}){const{connector:Ae=(()=>new W.x),resetOnError:ve=!0,resetOnComplete:he=!0,resetOnRefCountZero:se=!0}=Oe;return _e=>{let Je,st,_t,Vt=0,ot=!1,It=!1;const mt=()=>{st?.unsubscribe(),st=void 0},wt=()=>{mt(),Je=_t=void 0,ot=It=!1},Qe=()=>{const et=Je;wt(),et?.unsubscribe()};return(0,Ie.e)((et,tt)=>{Vt++,!It&&!ot&&mt();const Tt=_t=_t??Ae();tt.add(()=>{Vt--,0===Vt&&!It&&!ot&&(st=te(Qe,se))}),Tt.subscribe(tt),!Je&&Vt>0&&(Je=new V.Hp({next:ct=>Tt.next(ct),error:ct=>{It=!0,mt(),st=te(wt,ve,ct),Tt.error(ct)},complete:()=>{ot=!0,mt(),st=te(wt,he),Tt.complete()}}),(0,p.Xf)(et).subscribe(Je))})(_e)}}function te(Oe,Ae,...ve){if(!0===Ae)return void Oe();if(!1===Ae)return;const he=new V.Hp({next:()=>{he.unsubscribe(),Oe()}});return(0,p.Xf)(Ae(...ve)).subscribe(he)}},8675:(Qt,Xe,k)=>{"use strict";k.d(Xe,{O:()=>Ie});var p=k(7272),W=k(7669),V=k(4482);function Ie(...L){const te=(0,W.yG)(L);return(0,V.e)((Oe,Ae)=>{(te?(0,p.z)(L,Oe,te):(0,p.z)(L,Oe)).subscribe(Ae)})}},9468:(Qt,Xe,k)=>{"use strict";k.d(Xe,{R:()=>W});var p=k(4482);function W(V,Ie=0){return(0,p.e)((L,te)=>{te.add(V.schedule(()=>L.subscribe(te),Ie))})}},3900:(Qt,Xe,k)=>{"use strict";k.d(Xe,{w:()=>Ie});var p=k(8421),W=k(4482),V=k(5403);function Ie(L,te){return(0,W.e)((Oe,Ae)=>{let ve=null,he=0,se=!1;const _e=()=>se&&!ve&&Ae.complete();Oe.subscribe((0,V.x)(Ae,Je=>{ve?.unsubscribe();let st=0;const _t=he++;(0,p.Xf)(L(Je,_t)).subscribe(ve=(0,V.x)(Ae,Vt=>Ae.next(te?te(Je,Vt,_t,st++):Vt),()=>{ve=null,_e()}))},()=>{se=!0,_e()}))})}},5698:(Qt,Xe,k)=>{"use strict";k.d(Xe,{q:()=>Ie});var p=k(515),W=k(4482),V=k(5403);function Ie(L){return L<=0?()=>p.E:(0,W.e)((te,Oe)=>{let Ae=0;te.subscribe((0,V.x)(Oe,ve=>{++Ae<=L&&(Oe.next(ve),L<=Ae&&Oe.complete())}))})}},8505:(Qt,Xe,k)=>{"use strict";k.d(Xe,{b:()=>L});var p=k(576),W=k(4482),V=k(5403),Ie=k(4671);function L(te,Oe,Ae){const ve=(0,p.m)(te)||Oe||Ae?{next:te,error:Oe,complete:Ae}:te;return ve?(0,W.e)((he,se)=>{var _e;null===(_e=ve.subscribe)||void 0===_e||_e.call(ve);let Je=!0;he.subscribe((0,V.x)(se,st=>{var _t;null===(_t=ve.next)||void 0===_t||_t.call(ve,st),se.next(st)},()=>{var st;Je=!1,null===(st=ve.complete)||void 0===st||st.call(ve),se.complete()},st=>{var _t;Je=!1,null===(_t=ve.error)||void 0===_t||_t.call(ve,st),se.error(st)},()=>{var st,_t;Je&&(null===(st=ve.unsubscribe)||void 0===st||st.call(ve)),null===(_t=ve.finalize)||void 0===_t||_t.call(ve)}))}):Ie.y}},8068:(Qt,Xe,k)=>{"use strict";k.d(Xe,{T:()=>Ie});var p=k(6805),W=k(4482),V=k(5403);function Ie(te=L){return(0,W.e)((Oe,Ae)=>{let ve=!1;Oe.subscribe((0,V.x)(Ae,he=>{ve=!0,Ae.next(he)},()=>ve?Ae.complete():Ae.error(te())))})}function L(){return new p.K}},4408:(Qt,Xe,k)=>{"use strict";k.d(Xe,{o:()=>L});var p=k(727);class W extends p.w0{constructor(Oe,Ae){super()}schedule(Oe,Ae=0){return this}}const V={setInterval(te,Oe,...Ae){const{delegate:ve}=V;return ve?.setInterval?ve.setInterval(te,Oe,...Ae):setInterval(te,Oe,...Ae)},clearInterval(te){const{delegate:Oe}=V;return(Oe?.clearInterval||clearInterval)(te)},delegate:void 0};var Ie=k(8737);class L extends W{constructor(Oe,Ae){super(Oe,Ae),this.scheduler=Oe,this.work=Ae,this.pending=!1}schedule(Oe,Ae=0){var ve;if(this.closed)return this;this.state=Oe;const he=this.id,se=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(se,he,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(se,this.id,Ae),this}requestAsyncId(Oe,Ae,ve=0){return V.setInterval(Oe.flush.bind(Oe,this),ve)}recycleAsyncId(Oe,Ae,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return Ae;null!=Ae&&V.clearInterval(Ae)}execute(Oe,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(Oe,Ae);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,Ae){let he,ve=!1;try{this.work(Oe)}catch(se){ve=!0,he=se||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:Ae}=this,{actions:ve}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)(ve,this),null!=Oe&&(this.id=this.recycleAsyncId(Ae,Oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Qt,Xe,k)=>{"use strict";k.d(Xe,{v:()=>V});var p=k(6063);class W{constructor(L,te=W.now){this.schedulerActionCtor=L,this.now=te}schedule(L,te=0,Oe){return new this.schedulerActionCtor(this,L).schedule(Oe,te)}}W.now=p.l.now;class V extends W{constructor(L,te=W.now){super(L,te),this.actions=[],this._active=!1}flush(L){const{actions:te}=this;if(this._active)return void te.push(L);let Oe;this._active=!0;do{if(Oe=L.execute(L.state,L.delay))break}while(L=te.shift());if(this._active=!1,Oe){for(;L=te.shift();)L.unsubscribe();throw Oe}}}},4986:(Qt,Xe,k)=>{"use strict";k.d(Xe,{z:()=>V});var p=k(4408);const V=new(k(7565).v)(p.o)},6063:(Qt,Xe,k)=>{"use strict";k.d(Xe,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(Qt,Xe,k)=>{"use strict";k.d(Xe,{z:()=>p});const p={setTimeout(W,V,...Ie){const{delegate:L}=p;return L?.setTimeout?L.setTimeout(W,V,...Ie):setTimeout(W,V,...Ie)},clearTimeout(W){const{delegate:V}=p;return(V?.clearTimeout||clearTimeout)(W)},delegate:void 0}},2202:(Qt,Xe,k)=>{"use strict";k.d(Xe,{h:()=>W});const W=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qt,Xe,k)=>{"use strict";k.d(Xe,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Qt,Xe,k)=>{"use strict";k.d(Xe,{K:()=>W});const W=(0,k(3888).d)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Qt,Xe,k)=>{"use strict";k.d(Xe,{_6:()=>te,jO:()=>Ie,yG:()=>L});var p=k(576);function V(Oe){return Oe[Oe.length-1]}function Ie(Oe){return(0,p.m)(V(Oe))?Oe.pop():void 0}function L(Oe){return function W(Oe){return Oe&&(0,p.m)(Oe.schedule)}(V(Oe))?Oe.pop():void 0}function te(Oe,Ae){return"number"==typeof V(Oe)?Oe.pop():Ae}},4742:(Qt,Xe,k)=>{"use strict";k.d(Xe,{D:()=>L});const{isArray:p}=Array,{getPrototypeOf:W,prototype:V,keys:Ie}=Object;function L(Oe){if(1===Oe.length){const Ae=Oe[0];if(p(Ae))return{args:Ae,keys:null};if(function te(Oe){return Oe&&"object"==typeof Oe&&W(Oe)===V}(Ae)){const ve=Ie(Ae);return{args:ve.map(he=>Ae[he]),keys:ve}}}return{args:Oe,keys:null}}},8737:(Qt,Xe,k)=>{"use strict";function p(W,V){if(W){const Ie=W.indexOf(V);0<=Ie&&W.splice(Ie,1)}}k.d(Xe,{P:()=>p})},3888:(Qt,Xe,k)=>{"use strict";function p(W){const Ie=W(L=>{Error.call(L),L.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}k.d(Xe,{d:()=>p})},1810:(Qt,Xe,k)=>{"use strict";function p(W,V){return W.reduce((Ie,L,te)=>(Ie[L]=V[te],Ie),{})}k.d(Xe,{n:()=>p})},2806:(Qt,Xe,k)=>{"use strict";k.d(Xe,{O:()=>Ie,x:()=>V});var p=k(2416);let W=null;function V(L){if(p.v.useDeprecatedSynchronousErrorHandling){const te=!W;if(te&&(W={errorThrown:!1,error:null}),L(),te){const{errorThrown:Oe,error:Ae}=W;if(W=null,Oe)throw Ae}}else L()}function Ie(L){p.v.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=L)}},9672:(Qt,Xe,k)=>{"use strict";function p(W,V,Ie,L=0,te=!1){const Oe=V.schedule(function(){Ie(),te?W.add(this.schedule(null,L)):this.unsubscribe()},L);if(W.add(Oe),!te)return Oe}k.d(Xe,{f:()=>p})},4671:(Qt,Xe,k)=>{"use strict";function p(W){return W}k.d(Xe,{y:()=>p})},1144:(Qt,Xe,k)=>{"use strict";k.d(Xe,{z:()=>p});const p=W=>W&&"number"==typeof W.length&&"function"!=typeof W},2206:(Qt,Xe,k)=>{"use strict";k.d(Xe,{D:()=>W});var p=k(576);function W(V){return Symbol.asyncIterator&&(0,p.m)(V?.[Symbol.asyncIterator])}},576:(Qt,Xe,k)=>{"use strict";function p(W){return"function"==typeof W}k.d(Xe,{m:()=>p})},3670:(Qt,Xe,k)=>{"use strict";k.d(Xe,{c:()=>V});var p=k(8822),W=k(576);function V(Ie){return(0,W.m)(Ie[p.L])}},6495:(Qt,Xe,k)=>{"use strict";k.d(Xe,{T:()=>V});var p=k(2202),W=k(576);function V(Ie){return(0,W.m)(Ie?.[p.h])}},8239:(Qt,Xe,k)=>{"use strict";k.d(Xe,{t:()=>W});var p=k(576);function W(V){return(0,p.m)(V?.then)}},3260:(Qt,Xe,k)=>{"use strict";k.d(Xe,{L:()=>Ie,Q:()=>V});var p=k(7582),W=k(576);function V(L){return(0,p.FC)(this,arguments,function*(){const Oe=L.getReader();try{for(;;){const{value:Ae,done:ve}=yield(0,p.qq)(Oe.read());if(ve)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Ae)}}finally{Oe.releaseLock()}})}function Ie(L){return(0,W.m)(L?.getReader)}},4482:(Qt,Xe,k)=>{"use strict";k.d(Xe,{A:()=>W,e:()=>V});var p=k(576);function W(Ie){return(0,p.m)(Ie?.lift)}function V(Ie){return L=>{if(W(L))return L.lift(function(te){try{return Ie(te,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Z:()=>Ie});var p=k(4004);const{isArray:W}=Array;function Ie(L){return(0,p.U)(te=>function V(L,te){return W(te)?L(...te):L(te)}(L,te))}},9635:(Qt,Xe,k)=>{"use strict";k.d(Xe,{U:()=>V,z:()=>W});var p=k(4671);function W(...Ie){return V(Ie)}function V(Ie){return 0===Ie.length?p.y:1===Ie.length?Ie[0]:function(te){return Ie.reduce((Oe,Ae)=>Ae(Oe),te)}}},7849:(Qt,Xe,k)=>{"use strict";k.d(Xe,{h:()=>V});var p=k(2416),W=k(3410);function V(Ie){W.z.setTimeout(()=>{const{onUnhandledError:L}=p.v;if(!L)throw Ie;L(Ie)})}},4532:(Qt,Xe,k)=>{"use strict";function p(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Xe,{z:()=>p})},5226:function(Qt){Qt.exports=function(){"use strict";const k={},W=_=>new Promise(I=>{if(!_)return I();const B=window.scrollX,ue=window.scrollY;k.restoreFocusTimeout=setTimeout(()=>{k.previousActiveElement instanceof HTMLElement?(k.previousActiveElement.focus(),k.previousActiveElement=null):document.body&&document.body.focus(),I()},100),window.scrollTo(B,ue)});var V={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const te=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((_,I)=>(_[I]="swal2-"+I,_),{}),Ae=["success","warning","info","question","error"].reduce((_,I)=>(_[I]="swal2-"+I,_),{}),ve="SweetAlert2:",he=_=>_.charAt(0).toUpperCase()+_.slice(1),se=_=>{console.warn(`${ve} ${"object"==typeof _?_.join(" "):_}`)},_e=_=>{console.error(`${ve} ${_}`)},Je=[],_t=(_,I)=>{(_=>{Je.includes(_)||(Je.push(_),se(_))})(`"${_}" is deprecated and will be removed in the next major release. Please use "${I}" instead.`)},Vt=_=>"function"==typeof _?_():_,ot=_=>_&&"function"==typeof _.toPromise,It=_=>ot(_)?_.toPromise():Promise.resolve(_),mt=_=>_&&Promise.resolve(_)===_,wt=()=>document.body.querySelector(`.${te.container}`),Qe=_=>{const I=wt();return I?I.querySelector(_):null},et=_=>Qe(`.${_}`),tt=()=>et(te.popup),Tt=()=>et(te.icon),Ue=()=>et(te.title),Pt=()=>et(te["html-container"]),on=()=>et(te.image),kt=()=>et(te["progress-steps"]),Lt=()=>et(te["validation-message"]),At=()=>Qe(`.${te.actions} .${te.confirm}`),nr=()=>Qe(`.${te.actions} .${te.cancel}`),He=()=>Qe(`.${te.actions} .${te.deny}`),je=()=>Qe(`.${te.loader}`),Ze=()=>et(te.actions),ht=()=>et(te.footer),ze=()=>et(te["timer-progress-bar"]),ft=()=>et(te.close),Ln=()=>{const _=tt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),I=Array.from(_).sort((Ge,qt)=>{const En=parseInt(Ge.getAttribute("tabindex")),_r=parseInt(qt.getAttribute("tabindex"));return En>_r?1:En<_r?-1:0}),B=tt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),ue=Array.from(B).filter(Ge=>"-1"!==Ge.getAttribute("tabindex"));return[...new Set(I.concat(ue))].filter(Ge=>An(Ge))},Ut=()=>kn(document.body,te.shown)&&!kn(document.body,te["toast-shown"])&&!kn(document.body,te["no-backdrop"]),$t=()=>tt()&&kn(tt(),te.toast),Pn=(_,I)=>{if(_.textContent="",I){const ue=(new DOMParser).parseFromString(I,"text/html");Array.from(ue.querySelector("head").childNodes).forEach(Ge=>{_.appendChild(Ge)}),Array.from(ue.querySelector("body").childNodes).forEach(Ge=>{Ge instanceof HTMLVideoElement||Ge instanceof HTMLAudioElement?_.appendChild(Ge.cloneNode(!0)):_.appendChild(Ge)})}},kn=(_,I)=>{if(!I)return!1;const B=I.split(/\s+/);for(let ue=0;ue<B.length;ue++)if(!_.classList.contains(B[ue]))return!1;return!0},Vn=(_,I,B)=>{if(((_,I)=>{Array.from(_.classList).forEach(B=>{!Object.values(te).includes(B)&&!Object.values(Ae).includes(B)&&!Object.values(I.showClass).includes(B)&&_.classList.remove(B)})})(_,I),I.customClass&&I.customClass[B]){if("string"!=typeof I.customClass[B]&&!I.customClass[B].forEach)return void se(`Invalid type of customClass.${B}! Expected string or iterable object, got "${typeof I.customClass[B]}"`);De(_,I.customClass[B])}},rr=(_,I)=>{if(!I)return null;switch(I){case"select":case"textarea":case"file":return _.querySelector(`.${te.popup} > .${te[I]}`);case"checkbox":return _.querySelector(`.${te.popup} > .${te.checkbox} input`);case"radio":return _.querySelector(`.${te.popup} > .${te.radio} input:checked`)||_.querySelector(`.${te.popup} > .${te.radio} input:first-child`);case"range":return _.querySelector(`.${te.popup} > .${te.range} input`);default:return _.querySelector(`.${te.popup} > .${te.input}`)}},zt=_=>{if(_.focus(),"file"!==_.type){const I=_.value;_.value="",_.value=I}},yr=(_,I,B)=>{!_||!I||("string"==typeof I&&(I=I.split(/\s+/).filter(Boolean)),I.forEach(ue=>{Array.isArray(_)?_.forEach(Ge=>{B?Ge.classList.add(ue):Ge.classList.remove(ue)}):B?_.classList.add(ue):_.classList.remove(ue)}))},De=(_,I)=>{yr(_,I,!0)},Se=(_,I)=>{yr(_,I,!1)},Ne=(_,I)=>{const B=Array.from(_.children);for(let ue=0;ue<B.length;ue++){const Ge=B[ue];if(Ge instanceof HTMLElement&&kn(Ge,I))return Ge}},Pe=(_,I,B)=>{B===`${parseInt(B)}`&&(B=parseInt(B)),B||0===parseInt(B)?_.style[I]="number"==typeof B?`${B}px`:B:_.style.removeProperty(I)},it=function(_){_&&(_.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Mt=_=>{_&&(_.style.display="none")},Gn=(_,I,B,ue)=>{const Ge=_.querySelector(I);Ge&&(Ge.style[B]=ue)},yn=function(_,I){I?it(_,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Mt(_)},An=_=>!(!_||!(_.offsetWidth||_.offsetHeight||_.getClientRects().length)),ln=_=>_.scrollHeight>_.clientHeight,Gt=_=>{const I=window.getComputedStyle(_),B=parseFloat(I.getPropertyValue("animation-duration")||"0"),ue=parseFloat(I.getPropertyValue("transition-duration")||"0");return B>0||ue>0},an=function(_){let I=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const B=ze();An(B)&&(I&&(B.style.transition="none",B.style.width="100%"),setTimeout(()=>{B.style.transition=`width ${_/1e3}s linear`,B.style.width="0%"},10))},Xn=()=>typeof window>"u"||typeof document>"u",or=`\n <div aria-labelledby="${te.title}" aria-describedby="${te["html-container"]}" class="${te.popup}" tabindex="-1">\n   <button type="button" class="${te.close}"></button>\n   <ul class="${te["progress-steps"]}"></ul>\n   <div class="${te.icon}"></div>\n   <img class="${te.image}" />\n   <h2 class="${te.title}" id="${te.title}"></h2>\n   <div class="${te["html-container"]}" id="${te["html-container"]}"></div>\n   <input class="${te.input}" />\n   <input type="file" class="${te.file}" />\n   <div class="${te.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${te.select}"></select>\n   <div class="${te.radio}"></div>\n   <label for="${te.checkbox}" class="${te.checkbox}">\n     <input type="checkbox" />\n     <span class="${te.label}"></span>\n   </label>\n   <textarea class="${te.textarea}"></textarea>\n   <div class="${te["validation-message"]}" id="${te["validation-message"]}"></div>\n   <div class="${te.actions}">\n     <div class="${te.loader}"></div>\n     <button type="button" class="${te.confirm}"></button>\n     <button type="button" class="${te.deny}"></button>\n     <button type="button" class="${te.cancel}"></button>\n   </div>\n   <div class="${te.footer}"></div>\n   <div class="${te["timer-progress-bar-container"]}">\n     <div class="${te["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Wn=()=>{k.currentInstance.resetValidationMessage()},bn=_=>{const I=(()=>{const _=wt();return!!_&&(_.remove(),Se([document.documentElement,document.body],[te["no-backdrop"],te["toast-shown"],te["has-column"]]),!0)})();if(Xn())return void _e("SweetAlert2 requires document to initialize");const B=document.createElement("div");B.className=te.container,I&&De(B,te["no-transition"]),Pn(B,or);const ue=(_=>"string"==typeof _?document.querySelector(_):_)(_.target);ue.appendChild(B),(_=>{const I=tt();I.setAttribute("role",_.toast?"alert":"dialog"),I.setAttribute("aria-live",_.toast?"polite":"assertive"),_.toast||I.setAttribute("aria-modal","true")})(_),(_=>{"rtl"===window.getComputedStyle(_).direction&&De(wt(),te.rtl)})(ue),(()=>{const _=tt(),I=Ne(_,te.input),B=Ne(_,te.file),ue=_.querySelector(`.${te.range} input`),Ge=_.querySelector(`.${te.range} output`),qt=Ne(_,te.select),En=_.querySelector(`.${te.checkbox} input`),_r=Ne(_,te.textarea);I.oninput=Wn,B.onchange=Wn,qt.onchange=Wn,En.onchange=Wn,_r.oninput=Wn,ue.oninput=()=>{Wn(),Ge.value=ue.value},ue.onchange=()=>{Wn(),Ge.value=ue.value}})()},Wt=(_,I)=>{_ instanceof HTMLElement?I.appendChild(_):"object"==typeof _?Zn(_,I):_&&Pn(I,_)},Zn=(_,I)=>{_.jquery?gr(I,_):Pn(I,_.toString())},gr=(_,I)=>{if(_.textContent="",0 in I)for(let B=0;B in I;B++)_.appendChild(I[B].cloneNode(!0));else _.appendChild(I.cloneNode(!0))},$e=(()=>{if(Xn())return!1;const _=document.createElement("div"),I={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const B in I)if(Object.prototype.hasOwnProperty.call(I,B)&&typeof _.style[B]<"u")return I[B];return!1})(),dt=(_,I)=>{const B=Ze(),ue=je();I.showConfirmButton||I.showDenyButton||I.showCancelButton?it(B):Mt(B),Vn(B,I,"actions"),function We(_,I,B){const ue=At(),Ge=He(),qt=nr();Jt(ue,"confirm",B),Jt(Ge,"deny",B),Jt(qt,"cancel",B),function jt(_,I,B,ue){ue.buttonsStyling?(De([_,I,B],te.styled),ue.confirmButtonColor&&(_.style.backgroundColor=ue.confirmButtonColor,De(_,te["default-outline"])),ue.denyButtonColor&&(I.style.backgroundColor=ue.denyButtonColor,De(I,te["default-outline"])),ue.cancelButtonColor&&(B.style.backgroundColor=ue.cancelButtonColor,De(B,te["default-outline"]))):Se([_,I,B],te.styled)}(ue,Ge,qt,B),B.reverseButtons&&(B.toast?(_.insertBefore(qt,ue),_.insertBefore(Ge,ue)):(_.insertBefore(qt,I),_.insertBefore(Ge,I),_.insertBefore(ue,I)))}(B,ue,I),Pn(ue,I.loaderHtml),Vn(ue,I,"loader")};function Jt(_,I,B){yn(_,B[`show${he(I)}Button`],"inline-block"),Pn(_,B[`${I}ButtonText`]),_.setAttribute("aria-label",B[`${I}ButtonAriaLabel`]),_.className=te[I],Vn(_,B,`${I}Button`),De(_,B[`${I}ButtonClass`])}const ce=(_,I)=>{const B=wt();B&&(function J(_,I){"string"==typeof I?_.style.background=I:I||De([document.documentElement,document.body],te["no-backdrop"])}(B,I.backdrop),function ie(_,I){I in te?De(_,te[I]):(se('The "position" parameter is not valid, defaulting to "center"'),De(_,te.center))}(B,I.position),function Z(_,I){if(I&&"string"==typeof I){const B=`grow-${I}`;B in te&&De(_,te[B])}}(B,I.grow),Vn(B,I,"container"))};const be=["input","file","range","select","radio","checkbox","textarea"],fe=_=>{if(!vr[_.input])return void _e(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${_.input}"`);const I=pn(_.input),B=vr[_.input](I,_);it(I),_.inputAutoFocus&&setTimeout(()=>{zt(B)})},xe=(_,I)=>{const B=rr(tt(),_);if(B){(_=>{for(let I=0;I<_.attributes.length;I++){const B=_.attributes[I].name;["type","value","style"].includes(B)||_.removeAttribute(B)}})(B);for(const ue in I)B.setAttribute(ue,I[ue])}},nt=_=>{const I=pn(_.input);"object"==typeof _.customClass&&De(I,_.customClass.input)},Dt=(_,I)=>{(!_.placeholder||I.inputPlaceholder)&&(_.placeholder=I.inputPlaceholder)},fn=(_,I,B)=>{if(B.inputLabel){_.id=te.input;const ue=document.createElement("label"),Ge=te["input-label"];ue.setAttribute("for",_.id),ue.className=Ge,"object"==typeof B.customClass&&De(ue,B.customClass.inputLabel),ue.innerText=B.inputLabel,I.insertAdjacentElement("beforebegin",ue)}},pn=_=>Ne(tt(),te[_]||te.input),ar=(_,I)=>{["string","number"].includes(typeof I)?_.value=`${I}`:mt(I)||se(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof I}"`)},vr={};vr.text=vr.email=vr.password=vr.number=vr.tel=vr.url=(_,I)=>(ar(_,I.inputValue),fn(_,_,I),Dt(_,I),_.type=I.input,_),vr.file=(_,I)=>(fn(_,_,I),Dt(_,I),_),vr.range=(_,I)=>{const B=_.querySelector("input"),ue=_.querySelector("output");return ar(B,I.inputValue),B.type=I.input,ar(ue,I.inputValue),fn(B,_,I),_},vr.select=(_,I)=>{if(_.textContent="",I.inputPlaceholder){const B=document.createElement("option");Pn(B,I.inputPlaceholder),B.value="",B.disabled=!0,B.selected=!0,_.appendChild(B)}return fn(_,_,I),_},vr.radio=_=>(_.textContent="",_),vr.checkbox=(_,I)=>{const B=rr(tt(),"checkbox");B.value="1",B.id=te.checkbox,B.checked=Boolean(I.inputValue);const ue=_.querySelector("span");return Pn(ue,I.inputPlaceholder),B},vr.textarea=(_,I)=>{ar(_,I.inputValue),Dt(_,I),fn(_,_,I);return setTimeout(()=>{if("MutationObserver"in window){const ue=parseInt(window.getComputedStyle(tt()).width);new MutationObserver(()=>{const qt=_.offsetWidth+(ue=>parseInt(window.getComputedStyle(ue).marginLeft)+parseInt(window.getComputedStyle(ue).marginRight))(_);tt().style.width=qt>ue?`${qt}px`:null}).observe(_,{attributes:!0,attributeFilter:["style"]})}}),_};const pt=(_,I)=>{const B=Pt();Vn(B,I,"htmlContainer"),I.html?(Wt(I.html,B),it(B,"block")):I.text?(B.textContent=I.text,it(B,"block")):Mt(B),((_,I)=>{const B=tt(),ue=V.innerParams.get(_),Ge=!ue||I.input!==ue.input;be.forEach(qt=>{const En=Ne(B,te[qt]);xe(qt,I.inputAttributes),En.className=te[qt],Ge&&Mt(En)}),I.input&&(Ge&&fe(I),nt(I))})(_,I)},gn=(_,I)=>{for(const B in Ae)I.icon!==B&&Se(_,Ae[B]);De(_,Ae[I.icon]),ur(_,I),vn(),Vn(_,I,"icon")},vn=()=>{const _=tt(),I=window.getComputedStyle(_).getPropertyValue("background-color"),B=_.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ue=0;ue<B.length;ue++)B[ue].style.backgroundColor=I},Yn=(_,I)=>{let ue,B=_.innerHTML;I.iconHtml?ue=Kr(I.iconHtml):"success"===I.icon?(ue='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',B=B.replace(/ style=".*?"/g,"")):ue="error"===I.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Kr({question:"?",warning:"!",info:"i"}[I.icon]),B.trim()!==ue.trim()&&Pn(_,ue)},ur=(_,I)=>{if(I.iconColor){_.style.color=I.iconColor,_.style.borderColor=I.iconColor;for(const B of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Gn(_,B,"backgroundColor",I.iconColor);Gn(_,".swal2-success-ring","borderColor",I.iconColor)}},Kr=_=>`<div class="${te["icon-content"]}">${_}</div>`,ti=(_,I)=>{const B=I.showClass||{};_.className=`${te.popup} ${An(_)?B.popup:""}`,I.toast?(De([document.documentElement,document.body],te["toast-shown"]),De(_,te.toast)):De(_,te.modal),Vn(_,I,"popup"),"string"==typeof I.customClass&&De(_,I.customClass),I.icon&&De(_,te[`icon-${I.icon}`])},ai=_=>{const I=document.createElement("li");return De(I,te["progress-step"]),Pn(I,_),I},Zt=_=>{const I=document.createElement("li");return De(I,te["progress-step-line"]),_.progressStepsDistance&&Pe(I,"width",_.progressStepsDistance),I},Br=(_,I)=>{((_,I)=>{const B=wt(),ue=tt();if(B&&ue){if(I.toast){Pe(B,"width",I.width),ue.style.width="100%";const Ge=je();Ge&&ue.insertBefore(Ge,Tt())}else Pe(ue,"width",I.width);Pe(ue,"padding",I.padding),I.color&&(ue.style.color=I.color),I.background&&(ue.style.background=I.background),Mt(Lt()),ti(ue,I)}})(0,I),ce(0,I),((_,I)=>{const B=kt();if(!B)return;const{progressSteps:ue,currentProgressStep:Ge}=I;ue&&0!==ue.length&&void 0!==Ge?(it(B),B.textContent="",Ge>=ue.length&&se("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),ue.forEach((qt,En)=>{const _r=ai(qt);if(B.appendChild(_r),En===Ge&&De(_r,te["active-progress-step"]),En!==ue.length-1){const gt=Zt(I);B.appendChild(gt)}})):Mt(B)})(0,I),((_,I)=>{const B=V.innerParams.get(_),ue=Tt();B&&I.icon===B.icon?(Yn(ue,I),gn(ue,I)):I.icon||I.iconHtml?I.icon&&-1===Object.keys(Ae).indexOf(I.icon)?(_e(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${I.icon}"`),Mt(ue)):(it(ue),Yn(ue,I),gn(ue,I),De(ue,I.showClass.icon)):Mt(ue)})(_,I),((_,I)=>{const B=on();if(B){if(!I.imageUrl)return void Mt(B);it(B,""),B.setAttribute("src",I.imageUrl),B.setAttribute("alt",I.imageAlt||""),Pe(B,"width",I.imageWidth),Pe(B,"height",I.imageHeight),B.className=te.image,Vn(B,I,"image")}})(0,I),((_,I)=>{const B=Ue();B&&(yn(B,I.title||I.titleText,"block"),I.title&&Wt(I.title,B),I.titleText&&(B.innerText=I.titleText),Vn(B,I,"title"))})(0,I),((_,I)=>{const B=ft();Pn(B,I.closeButtonHtml),Vn(B,I,"closeButton"),yn(B,I.showCloseButton),B.setAttribute("aria-label",I.closeButtonAriaLabel)})(0,I),pt(_,I),dt(0,I),((_,I)=>{const B=ht();B&&(yn(B,I.footer),I.footer&&Wt(I.footer,B),Vn(B,I,"footer"))})(0,I),"function"==typeof I.didRender&&I.didRender(tt())},Yr=()=>At()&&At().click(),mr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Fe=_=>{_.keydownTarget&&_.keydownHandlerAdded&&(_.keydownTarget.removeEventListener("keydown",_.keydownHandler,{capture:_.keydownListenerCapture}),_.keydownHandlerAdded=!1)},Me=(_,I)=>{const B=Ln();if(B.length)return(_+=I)===B.length?_=0:-1===_&&(_=B.length-1),void B[_].focus();tt().focus()},Et=["ArrowRight","ArrowDown"],Ot=["ArrowLeft","ArrowUp"],xn=(_,I,B)=>{const ue=V.innerParams.get(_);ue&&(I.isComposing||229===I.keyCode||(ue.stopKeydownPropagation&&I.stopPropagation(),"Enter"===I.key?$n(_,I,ue):"Tab"===I.key?On(I):[...Et,...Ot].includes(I.key)?er(I.key):"Escape"===I.key&&vi(I,ue,B)))},$n=(_,I,B)=>{if(Vt(B.allowEnterKey)&&I.target&&_.getInput()&&I.target instanceof HTMLElement&&I.target.outerHTML===_.getInput().outerHTML){if(["textarea","file"].includes(B.input))return;Yr(),I.preventDefault()}},On=_=>{const I=_.target,B=Ln();let ue=-1;for(let Ge=0;Ge<B.length;Ge++)if(I===B[Ge]){ue=Ge;break}Me(ue,_.shiftKey?-1:1),_.stopPropagation(),_.preventDefault()},er=_=>{const I=At(),B=He(),ue=nr();if(document.activeElement instanceof HTMLElement&&![I,B,ue].includes(document.activeElement))return;const qt=Et.includes(_)?"nextElementSibling":"previousElementSibling";let En=document.activeElement;for(let _r=0;_r<Ze().children.length;_r++){if(En=En[qt],!En)return;if(En instanceof HTMLButtonElement&&An(En))break}En instanceof HTMLButtonElement&&En.focus()},vi=(_,I,B)=>{Vt(I.allowEscapeKey)&&(_.preventDefault(),B(mr.esc))};var Hr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ai=()=>{Array.from(document.body.children).forEach(I=>{I.hasAttribute("data-previous-aria-hidden")?(I.setAttribute("aria-hidden",I.getAttribute("data-previous-aria-hidden")),I.removeAttribute("data-previous-aria-hidden")):I.removeAttribute("aria-hidden")})},Ji=()=>{const _=navigator.userAgent,I=!!_.match(/iPad/i)||!!_.match(/iPhone/i),B=!!_.match(/WebKit/i);I&&B&&!_.match(/CriOS/i)&&tt().scrollHeight>window.innerHeight-44&&(wt().style.paddingBottom="44px")},qs=()=>{const _=wt();let I;_.ontouchstart=B=>{I=rs(B)},_.ontouchmove=B=>{I&&(B.preventDefault(),B.stopPropagation())}},rs=_=>{const I=_.target,B=wt();return!Xi(_)&&!is(_)&&(I===B||!ln(B)&&I instanceof HTMLElement&&"INPUT"!==I.tagName&&"TEXTAREA"!==I.tagName&&!(ln(Pt())&&Pt().contains(I)))},Xi=_=>_.touches&&_.touches.length&&"stylus"===_.touches[0].touchType,is=_=>_.touches&&_.touches.length>1,ds=()=>{if(kn(document.body,te.iosfix)){const _=parseInt(document.body.style.top,10);Se(document.body,te.iosfix),document.body.style.top="",document.body.scrollTop=-1*_}};let vs=null;const wi=()=>{null===vs&&document.body.scrollHeight>window.innerHeight&&(vs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${vs+(()=>{const _=document.createElement("div");_.className=te["scrollbar-measure"],document.body.appendChild(_);const I=_.getBoundingClientRect().width-_.clientWidth;return document.body.removeChild(_),I})()}px`)},Hi=()=>{null!==vs&&(document.body.style.paddingRight=`${vs}px`,vs=null)};function zi(_,I,B,ue){$t()?As(_,ue):(W(B).then(()=>As(_,ue)),Fe(k)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(I.setAttribute("style","display:none !important"),I.removeAttribute("class"),I.innerHTML=""):I.remove(),Ut()&&(Hi(),ds(),Ai()),function Gi(){Se([document.documentElement,document.body],[te.shown,te["height-auto"],te["no-backdrop"],te["toast-shown"]])}()}function Si(_){_=ks(_);const I=Hr.swalPromiseResolve.get(this),B=bi(this);this.isAwaitingPromise?_.isDismissed||(Er(this),I(_)):B&&I(_)}const bi=_=>{const I=tt();if(!I)return!1;const B=V.innerParams.get(_);if(!B||kn(I,B.hideClass.popup))return!1;Se(I,B.showClass.popup),De(I,B.hideClass.popup);const ue=wt();return Se(ue,B.showClass.backdrop),De(ue,B.hideClass.backdrop),xi(_,I,B),!0};function hs(_){const I=Hr.swalPromiseReject.get(this);Er(this),I&&I(_)}const Er=_=>{_.isAwaitingPromise&&(delete _.isAwaitingPromise,V.innerParams.get(_)||_._destroy())},ks=_=>typeof _>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},_),xi=(_,I,B)=>{const ue=wt(),Ge=$e&&Gt(I);"function"==typeof B.willClose&&B.willClose(I),Ge?Ki(_,I,ue,B.returnFocus,B.didClose):zi(_,ue,B.returnFocus,B.didClose)},Ki=(_,I,B,ue,Ge)=>{k.swalCloseEventFinishedCallback=zi.bind(null,_,B,ue,Ge),I.addEventListener($e,function(qt){qt.target===I&&(k.swalCloseEventFinishedCallback(),delete k.swalCloseEventFinishedCallback)})},As=(_,I)=>{setTimeout(()=>{"function"==typeof I&&I.bind(_.params)(),_._destroy&&_._destroy()})},ss=_=>{let I=tt();I||new ye,I=tt();const B=je();$t()?Mt(Tt()):bo(I,_),it(B),I.setAttribute("data-loading","true"),I.setAttribute("aria-busy","true"),I.focus()},bo=(_,I)=>{const B=Ze(),ue=je();!I&&An(At())&&(I=At()),it(B),I&&(Mt(I),ue.setAttribute("data-button-to-replace",I.className)),ue.parentNode.insertBefore(ue,I),De([_,B],te.loading)},ro=_=>_.checked?1:0,Ls=_=>_.checked?_.value:null,es=_=>_.files.length?null!==_.getAttribute("multiple")?_.files:_.files[0]:null,os=(_,I)=>{const B=tt(),ue=Ge=>{po[I.input](B,Oi(Ge),I)};ot(I.inputOptions)||mt(I.inputOptions)?(ss(At()),It(I.inputOptions).then(Ge=>{_.hideLoading(),ue(Ge)})):"object"==typeof I.inputOptions?ue(I.inputOptions):_e("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof I.inputOptions)},Ss=(_,I)=>{const B=_.getInput();Mt(B),It(I.inputValue).then(ue=>{B.value="number"===I.input?`${parseFloat(ue)||0}`:`${ue}`,it(B),B.focus(),_.hideLoading()}).catch(ue=>{_e(`Error in inputValue promise: ${ue}`),B.value="",it(B),B.focus(),_.hideLoading()})},po={select:(_,I,B)=>{const ue=Ne(_,te.select),Ge=(qt,En,_r)=>{const gt=document.createElement("option");gt.value=_r,Pn(gt,En),gt.selected=K(_r,B.inputValue),qt.appendChild(gt)};I.forEach(qt=>{const En=qt[0],_r=qt[1];if(Array.isArray(_r)){const gt=document.createElement("optgroup");gt.label=En,gt.disabled=!1,ue.appendChild(gt),_r.forEach(cr=>Ge(gt,cr[1],cr[0]))}else Ge(ue,_r,En)}),ue.focus()},radio:(_,I,B)=>{const ue=Ne(_,te.radio);I.forEach(qt=>{const En=qt[0],_r=qt[1],gt=document.createElement("input"),cr=document.createElement("label");gt.type="radio",gt.name=te.radio,gt.value=En,K(En,B.inputValue)&&(gt.checked=!0);const fi=document.createElement("span");Pn(fi,_r),fi.className=te.label,cr.appendChild(gt),cr.appendChild(fi),ue.appendChild(cr)});const Ge=ue.querySelectorAll("input");Ge.length&&Ge[0].focus()}},Oi=_=>{const I=[];return typeof Map<"u"&&_ instanceof Map?_.forEach((B,ue)=>{let Ge=B;"object"==typeof Ge&&(Ge=Oi(Ge)),I.push([ue,Ge])}):Object.keys(_).forEach(B=>{let ue=_[B];"object"==typeof ue&&(ue=Oi(ue)),I.push([B,ue])}),I},K=(_,I)=>I&&I.toString()===_.toString(),Le=(_,I)=>{const B=V.innerParams.get(_);if(!B.input)return void _e(`The "input" parameter is needed to be set when using returnInputValueOn${he(I)}`);const ue=((_,I)=>{const B=_.getInput();if(!B)return null;switch(I.input){case"checkbox":return ro(B);case"radio":return Ls(B);case"file":return es(B);default:return I.inputAutoTrim?B.value.trim():B.value}})(_,B);B.inputValidator?bt(_,ue,I):_.getInput().checkValidity()?"deny"===I?Bt(_,ue):Hn(_,ue):(_.enableButtons(),_.showValidationMessage(B.validationMessage))},bt=(_,I,B)=>{const ue=V.innerParams.get(_);_.disableInput(),Promise.resolve().then(()=>It(ue.inputValidator(I,ue.validationMessage))).then(qt=>{_.enableButtons(),_.enableInput(),qt?_.showValidationMessage(qt):"deny"===B?Bt(_,I):Hn(_,I)})},Bt=(_,I)=>{const B=V.innerParams.get(_||void 0);B.showLoaderOnDeny&&ss(He()),B.preDeny?(_.isAwaitingPromise=!0,Promise.resolve().then(()=>It(B.preDeny(I,B.validationMessage))).then(Ge=>{!1===Ge?(_.hideLoading(),Er(_)):_.close({isDenied:!0,value:typeof Ge>"u"?I:Ge})}).catch(Ge=>Dn(_||void 0,Ge))):_.close({isDenied:!0,value:I})},wn=(_,I)=>{_.close({isConfirmed:!0,value:I})},Dn=(_,I)=>{_.rejectPromise(I)},Hn=(_,I)=>{const B=V.innerParams.get(_||void 0);B.showLoaderOnConfirm&&ss(),B.preConfirm?(_.resetValidationMessage(),_.isAwaitingPromise=!0,Promise.resolve().then(()=>It(B.preConfirm(I,B.validationMessage))).then(Ge=>{An(Lt())||!1===Ge?(_.hideLoading(),Er(_)):wn(_,typeof Ge>"u"?I:Ge)}).catch(Ge=>Dn(_||void 0,Ge))):wn(_,I)};function Jn(){const _=V.innerParams.get(this);if(!_)return;const I=V.domCache.get(this);Mt(I.loader),$t()?_.icon&&it(Tt()):$r(I),Se([I.popup,I.actions],te.loading),I.popup.removeAttribute("aria-busy"),I.popup.removeAttribute("data-loading"),I.confirmButton.disabled=!1,I.denyButton.disabled=!1,I.cancelButton.disabled=!1}const $r=_=>{const I=_.popup.getElementsByClassName(_.loader.getAttribute("data-button-to-replace"));I.length?it(I[0],"inline-block"):!An(At())&&!An(He())&&!An(nr())&&Mt(_.actions)};function Qr(){const _=V.innerParams.get(this),I=V.domCache.get(this);return I?rr(I.popup,_.input):null}function zr(_,I,B){const ue=V.domCache.get(_);I.forEach(Ge=>{ue[Ge].disabled=B})}function kr(_,I){if(_)if("radio"===_.type){const ue=_.parentNode.parentNode.querySelectorAll("input");for(let Ge=0;Ge<ue.length;Ge++)ue[Ge].disabled=I}else _.disabled=I}function lr(){zr(this,["confirmButton","denyButton","cancelButton"],!1)}function Mr(){zr(this,["confirmButton","denyButton","cancelButton"],!0)}function gi(){kr(this.getInput(),!1)}function Fr(){kr(this.getInput(),!0)}function Gr(_){const I=V.domCache.get(this),B=V.innerParams.get(this);Pn(I.validationMessage,_),I.validationMessage.className=te["validation-message"],B.customClass&&B.customClass.validationMessage&&De(I.validationMessage,B.customClass.validationMessage),it(I.validationMessage);const ue=this.getInput();ue&&(ue.setAttribute("aria-invalid",!0),ue.setAttribute("aria-describedby",te["validation-message"]),zt(ue),De(ue,te.inputerror))}function Vr(){const _=V.domCache.get(this);_.validationMessage&&Mt(_.validationMessage);const I=this.getInput();I&&(I.removeAttribute("aria-invalid"),I.removeAttribute("aria-describedby"),Se(I,te.inputerror))}const Wr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Rr=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Vs={},hi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ui=_=>Object.prototype.hasOwnProperty.call(Wr,_),Us=_=>-1!==Rr.indexOf(_),Ei=_=>Vs[_],qo=_=>{ui(_)||se(`Unknown parameter "${_}"`)},as=_=>{hi.includes(_)&&se(`The parameter "${_}" is incompatible with toasts`)},Bs=_=>{const I=Ei(_);I&&_t(_,I)};function Nn(_){const I=tt(),B=V.innerParams.get(this);if(!I||kn(I,B.hideClass.popup))return void se("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const ue=io(_),Ge=Object.assign({},B,ue);Br(this,Ge),V.innerParams.set(this,Ge),Object.defineProperties(this,{params:{value:Object.assign({},this.params,_),writable:!1,enumerable:!0}})}const io=_=>{const I={};return Object.keys(_).forEach(B=>{Us(B)?I[B]=_[B]:se(`Invalid parameter to update: ${B}`)}),I};function Ko(){const _=V.domCache.get(this),I=V.innerParams.get(this);I?(_.popup&&k.swalCloseEventFinishedCallback&&(k.swalCloseEventFinishedCallback(),delete k.swalCloseEventFinishedCallback),"function"==typeof I.didDestroy&&I.didDestroy(),Po(this)):xs(this)}const Po=_=>{xs(_),delete _.params,delete k.keydownHandler,delete k.keydownTarget,delete k.currentInstance},xs=_=>{_.isAwaitingPromise?(fs(V,_),_.isAwaitingPromise=!0):(fs(Hr,_),fs(V,_),delete _.isAwaitingPromise,delete _.disableButtons,delete _.enableButtons,delete _.getInput,delete _.disableInput,delete _.enableInput,delete _.hideLoading,delete _.disableLoading,delete _.showValidationMessage,delete _.resetValidationMessage,delete _.close,delete _.closePopup,delete _.closeModal,delete _.closeToast,delete _.rejectPromise,delete _.update,delete _._destroy)},fs=(_,I)=>{for(const B in _)_[B].delete(I)};var oa=Object.freeze({__proto__:null,_destroy:Ko,close:Si,closeModal:Si,closePopup:Si,closeToast:Si,disableButtons:Mr,disableInput:Fr,disableLoading:Jn,enableButtons:lr,enableInput:gi,getInput:Qr,handleAwaitingPromise:Er,hideLoading:Jn,rejectPromise:hs,resetValidationMessage:Vr,showValidationMessage:Gr,update:Nn});const so=(_,I,B)=>{I.popup.onclick=()=>{const ue=V.innerParams.get(_);ue&&(x(ue)||ue.timer||ue.input)||B(mr.close)}},x=_=>_.showConfirmButton||_.showDenyButton||_.showCancelButton||_.showCloseButton;let O=!1;const R=_=>{_.popup.onmousedown=()=>{_.container.onmouseup=function(I){_.container.onmouseup=void 0,I.target===_.container&&(O=!0)}}},X=_=>{_.container.onmousedown=()=>{_.popup.onmouseup=function(I){_.popup.onmouseup=void 0,(I.target===_.popup||_.popup.contains(I.target))&&(O=!0)}}},Ye=(_,I,B)=>{I.container.onclick=ue=>{const Ge=V.innerParams.get(_);O?O=!1:ue.target===I.container&&Vt(Ge.allowOutsideClick)&&B(mr.backdrop)}},Pr=_=>_ instanceof Element||(_=>"object"==typeof _&&_.jquery)(_);const Ni=()=>{if(k.timeout)return(()=>{const _=ze(),I=parseInt(window.getComputedStyle(_).width);_.style.removeProperty("transition"),_.style.width="100%";const B=parseInt(window.getComputedStyle(_).width);_.style.width=I/B*100+"%"})(),k.timeout.stop()},Zs=()=>{if(k.timeout){const _=k.timeout.start();return an(_),_}};let $s=!1;const ws={};const ki=_=>{for(let I=_.target;I&&I!==document;I=I.parentNode)for(const B in ws){const ue=I.getAttribute(B);if(ue)return void ws[B].fire({template:ue})}};var _a=Object.freeze({__proto__:null,argsToParams:_=>{const I={};return"object"!=typeof _[0]||Pr(_[0])?["title","html","icon"].forEach((B,ue)=>{const Ge=_[ue];"string"==typeof Ge||Pr(Ge)?I[B]=Ge:void 0!==Ge&&_e(`Unexpected type of ${B}! Expected "string" or "Element", got ${typeof Ge}`)}):Object.assign(I,_[0]),I},bindClickHandler:function Zo(){ws[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,$s||(document.body.addEventListener("click",ki),$s=!0)},clickCancel:()=>nr()&&nr().click(),clickConfirm:Yr,clickDeny:()=>He()&&He().click(),enableLoading:ss,fire:function ps(){for(var I=arguments.length,B=new Array(I),ue=0;ue<I;ue++)B[ue]=arguments[ue];return new this(...B)},getActions:Ze,getCancelButton:nr,getCloseButton:ft,getConfirmButton:At,getContainer:wt,getDenyButton:He,getFocusableElements:Ln,getFooter:ht,getHtmlContainer:Pt,getIcon:Tt,getIconContent:()=>et(te["icon-content"]),getImage:on,getInputLabel:()=>et(te["input-label"]),getLoader:je,getPopup:tt,getProgressSteps:kt,getTimerLeft:()=>k.timeout&&k.timeout.getTimerLeft(),getTimerProgressBar:ze,getTitle:Ue,getValidationMessage:Lt,increaseTimer:_=>{if(k.timeout){const I=k.timeout.increase(_);return an(I,!0),I}},isDeprecatedParameter:Ei,isLoading:()=>tt().hasAttribute("data-loading"),isTimerRunning:()=>k.timeout&&k.timeout.isRunning(),isUpdatableParameter:Us,isValidParameter:ui,isVisible:()=>An(tt()),mixin:function Ms(_){return class I extends(this){_main(ue,Ge){return super._main(ue,Object.assign({},_,Ge))}}},resumeTimer:Zs,showLoading:ss,stopTimer:Ni,toggleTimer:()=>{const _=k.timeout;return _&&(_.running?Ni():Zs())}});class Fa{constructor(I,B){this.callback=I,this.remaining=B,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(I){const B=this.running;return B&&this.stop(),this.remaining+=I,B&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ri=["swal-title","swal-html","swal-footer"],ts=_=>{const I={};return Array.from(_.querySelectorAll("swal-param")).forEach(ue=>{ns(ue,["name","value"]);const Ge=ue.getAttribute("name"),qt=ue.getAttribute("value");I[Ge]="boolean"==typeof Wr[Ge]?"false"!==qt:"object"==typeof Wr[Ge]?JSON.parse(qt):qt}),I},ko=_=>{const I={};return Array.from(_.querySelectorAll("swal-function-param")).forEach(ue=>{const Ge=ue.getAttribute("name"),qt=ue.getAttribute("value");I[Ge]=new Function(`return ${qt}`)()}),I},Ar=_=>{const I={};return Array.from(_.querySelectorAll("swal-button")).forEach(ue=>{ns(ue,["type","color","aria-label"]);const Ge=ue.getAttribute("type");I[`${Ge}ButtonText`]=ue.innerHTML,I[`show${he(Ge)}Button`]=!0,ue.hasAttribute("color")&&(I[`${Ge}ButtonColor`]=ue.getAttribute("color")),ue.hasAttribute("aria-label")&&(I[`${Ge}ButtonAriaLabel`]=ue.getAttribute("aria-label"))}),I},La=_=>{const I={},B=_.querySelector("swal-image");return B&&(ns(B,["src","width","height","alt"]),B.hasAttribute("src")&&(I.imageUrl=B.getAttribute("src")),B.hasAttribute("width")&&(I.imageWidth=B.getAttribute("width")),B.hasAttribute("height")&&(I.imageHeight=B.getAttribute("height")),B.hasAttribute("alt")&&(I.imageAlt=B.getAttribute("alt"))),I},go=_=>{const I={},B=_.querySelector("swal-icon");return B&&(ns(B,["type","color"]),B.hasAttribute("type")&&(I.icon=B.getAttribute("type")),B.hasAttribute("color")&&(I.iconColor=B.getAttribute("color")),I.iconHtml=B.innerHTML),I},Rs=_=>{const I={},B=_.querySelector("swal-input");B&&(ns(B,["type","label","placeholder","value"]),I.input=B.getAttribute("type")||"text",B.hasAttribute("label")&&(I.inputLabel=B.getAttribute("label")),B.hasAttribute("placeholder")&&(I.inputPlaceholder=B.getAttribute("placeholder")),B.hasAttribute("value")&&(I.inputValue=B.getAttribute("value")));const ue=Array.from(_.querySelectorAll("swal-input-option"));return ue.length&&(I.inputOptions={},ue.forEach(Ge=>{ns(Ge,["value"]);const qt=Ge.getAttribute("value");I.inputOptions[qt]=Ge.innerHTML})),I},Fo=(_,I)=>{const B={};for(const ue in I){const Ge=I[ue],qt=_.querySelector(Ge);qt&&(ns(qt,[]),B[Ge.replace(/^swal-/,"")]=qt.innerHTML.trim())}return B},mo=_=>{const I=ri.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(_.children).forEach(B=>{const ue=B.tagName.toLowerCase();I.includes(ue)||se(`Unrecognized element <${ue}>`)})},ns=(_,I)=>{Array.from(_.attributes).forEach(B=>{-1===I.indexOf(B.name)&&se([`Unrecognized attribute "${B.name}" on <${_.tagName.toLowerCase()}>.`,I.length?`Allowed attributes are: ${I.join(", ")}`:"To set the value, use HTML within the element."])})},Co=_=>{const I=wt(),B=tt();"function"==typeof _.willOpen&&_.willOpen(B);const Ge=window.getComputedStyle(document.body).overflowY;Xr(I,B,_),setTimeout(()=>{Jr(I,B)},10),Ut()&&(qr(I,_.scrollbarPadding,Ge),Array.from(document.body.children).forEach(I=>{I===wt()||I.contains(wt())||(I.hasAttribute("aria-hidden")&&I.setAttribute("data-previous-aria-hidden",I.getAttribute("aria-hidden")),I.setAttribute("aria-hidden","true"))})),!$t()&&!k.previousActiveElement&&(k.previousActiveElement=document.activeElement),"function"==typeof _.didOpen&&setTimeout(()=>_.didOpen(B)),Se(I,te["no-transition"])},gs=_=>{const I=tt();if(_.target!==I)return;const B=wt();I.removeEventListener($e,gs),B.style.overflowY="auto"},Jr=(_,I)=>{$e&&Gt(I)?(_.style.overflowY="hidden",I.addEventListener($e,gs)):_.style.overflowY="auto"},qr=(_,I,B)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!kn(document.body,te.iosfix)){const I=document.body.scrollTop;document.body.style.top=-1*I+"px",De(document.body,te.iosfix),qs(),Ji()}})(),I&&"hidden"!==B&&wi(),setTimeout(()=>{_.scrollTop=0})},Xr=(_,I,B)=>{De(_,B.showClass.backdrop),I.style.setProperty("opacity","0","important"),it(I,"grid"),setTimeout(()=>{De(I,B.showClass.popup),I.style.removeProperty("opacity")},10),De([document.documentElement,document.body],te.shown),B.heightAuto&&B.backdrop&&!B.toast&&De([document.documentElement,document.body],te["height-auto"])};var Vo={email:(_,I)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(_)?Promise.resolve():Promise.resolve(I||"Invalid email address"),url:(_,I)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(_)?Promise.resolve():Promise.resolve(I||"Invalid URL")};function tu(_){(function Ys(_){_.inputValidator||Object.keys(Vo).forEach(I=>{_.input===I&&(_.inputValidator=Vo[I])})})(_),_.showLoaderOnConfirm&&!_.preConfirm&&se("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Uo(_){(!_.target||"string"==typeof _.target&&!document.querySelector(_.target)||"string"!=typeof _.target&&!_.target.appendChild)&&(se('Target parameter is not valid, defaulting to "body"'),_.target="body")}(_),"string"==typeof _.title&&(_.title=_.title.split("\n").join("<br />")),bn(_)}let Zi;class Ci{constructor(){if(typeof window>"u")return;Zi=this;for(var I=arguments.length,B=new Array(I),ue=0;ue<I;ue++)B[ue]=arguments[ue];const Ge=Object.freeze(this.constructor.argsToParams(B));this.params=Ge,this.isAwaitingPromise=!1;const qt=Zi._main(Zi.params);V.promise.set(this,qt)}_main(I){let B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(_=>{!1===_.backdrop&&_.allowOutsideClick&&se('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const I in _)qo(I),_.toast&&as(I),Bs(I)})(Object.assign({},B,I)),k.currentInstance&&(k.currentInstance._destroy(),Ut()&&Ai()),k.currentInstance=Zi;const ue=Yo(I,B);tu(ue),Object.freeze(ue),k.timeout&&(k.timeout.stop(),delete k.timeout),clearTimeout(k.restoreFocusTimeout);const Ge=Va(Zi);return Br(Zi,ue),V.innerParams.set(Zi,ue),aa(Zi,Ge,ue)}then(I){return V.promise.get(this).then(I)}finally(I){return V.promise.get(this).finally(I)}}const aa=(_,I,B)=>new Promise((ue,Ge)=>{const qt=En=>{_.close({isDismissed:!0,dismiss:En})};Hr.swalPromiseResolve.set(_,ue),Hr.swalPromiseReject.set(_,Ge),I.confirmButton.onclick=()=>{(_=>{const I=V.innerParams.get(_);_.disableButtons(),I.input?Le(_,"confirm"):Hn(_,!0)})(_)},I.denyButton.onclick=()=>{(_=>{const I=V.innerParams.get(_);_.disableButtons(),I.returnInputValueOnDeny?Le(_,"deny"):Bt(_,!1)})(_)},I.cancelButton.onclick=()=>{((_,I)=>{_.disableButtons(),I(mr.cancel)})(_,qt)},I.closeButton.onclick=()=>{qt(mr.close)},((_,I,B)=>{V.innerParams.get(_).toast?so(_,I,B):(R(I),X(I),Ye(_,I,B))})(_,I,qt),((_,I,B,ue)=>{Fe(I),B.toast||(I.keydownHandler=Ge=>xn(_,Ge,ue),I.keydownTarget=B.keydownListenerCapture?window:tt(),I.keydownListenerCapture=B.keydownListenerCapture,I.keydownTarget.addEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!0)})(_,k,B,qt),((_,I)=>{"select"===I.input||"radio"===I.input?os(_,I):["text","email","number","tel","textarea"].includes(I.input)&&(ot(I.inputValue)||mt(I.inputValue))&&(ss(At()),Ss(_,I))})(_,B),Co(B),S(k,B,qt),j(I,B),setTimeout(()=>{I.container.scrollTop=0})}),Yo=(_,I)=>{const B=(_=>{const I="string"==typeof _.template?document.querySelector(_.template):_.template;if(!I)return{};const B=I.content;return mo(B),Object.assign(ts(B),ko(B),Ar(B),La(B),go(B),Rs(B),Fo(B,ri))})(_),ue=Object.assign({},Wr,I,B,_);return ue.showClass=Object.assign({},Wr.showClass,ue.showClass),ue.hideClass=Object.assign({},Wr.hideClass,ue.hideClass),ue},Va=_=>{const I={popup:tt(),container:wt(),actions:Ze(),confirmButton:At(),denyButton:He(),cancelButton:nr(),loader:je(),closeButton:ft(),validationMessage:Lt(),progressSteps:kt()};return V.domCache.set(_,I),I},S=(_,I,B)=>{const ue=ze();Mt(ue),I.timer&&(_.timeout=new Fa(()=>{B("timer"),delete _.timeout},I.timer),I.timerProgressBar&&(it(ue),Vn(ue,I,"timerProgressBar"),setTimeout(()=>{_.timeout&&_.timeout.running&&an(I.timer)})))},j=(_,I)=>{if(!I.toast){if(!Vt(I.allowEnterKey))return void Q();N(_,I)||Me(-1,1)}},N=(_,I)=>I.focusDeny&&An(_.denyButton)?(_.denyButton.focus(),!0):I.focusCancel&&An(_.cancelButton)?(_.cancelButton.focus(),!0):!(!I.focusConfirm||!An(_.confirmButton)||(_.confirmButton.focus(),0)),Q=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const _=new Date,I=localStorage.getItem("swal-initiation");I?(_.getTime()-Date.parse(I))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const B=document.createElement("audio");B.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",B.loop=!0,document.body.appendChild(B),setTimeout(()=>{B.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${_}`)}Ci.prototype.disableButtons=Mr,Ci.prototype.enableButtons=lr,Ci.prototype.getInput=Qr,Ci.prototype.disableInput=Fr,Ci.prototype.enableInput=gi,Ci.prototype.hideLoading=Jn,Ci.prototype.disableLoading=Jn,Ci.prototype.showValidationMessage=Gr,Ci.prototype.resetValidationMessage=Vr,Ci.prototype.close=Si,Ci.prototype.closePopup=Si,Ci.prototype.closeModal=Si,Ci.prototype.closeToast=Si,Ci.prototype.rejectPromise=hs,Ci.prototype.update=Nn,Ci.prototype._destroy=Ko,Object.assign(Ci,_a),Object.keys(oa).forEach(_=>{Ci[_]=function(){return Zi&&Zi[_]?Zi[_](...arguments):null}}),Ci.DismissReason=mr,Ci.version="11.7.10";const ye=Ci;return ye.default=ye,ye}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Xe,k){var p=Xe.createElement("style");if(Xe.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=k);else try{p.innerHTML=k}catch{p.innerText=k}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-container) div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-container) div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},6895:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Do:()=>mt,EM:()=>wn,HT:()=>Ie,JF:()=>Qr,K0:()=>te,Mx:()=>jr,O5:()=>Re,Ov:()=>ds,PM:()=>Ce,RF:()=>xn,S$:()=>Vt,V_:()=>ve,Ye:()=>wt,b0:()=>It,bD:()=>po,ez:()=>Ss,n9:()=>$n,q:()=>V,sg:()=>ji,w_:()=>L});var p=k(4650);let W=null;function V(){return W}function Ie(S){W||(W=S)}class L{}const te=new p.OlP("DocumentToken");let Oe=(()=>{class S{historyGo(N){throw new Error("Not implemented")}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275prov=p.Yz7({token:S,factory:function(){return function Ae(){return(0,p.LFG)(he)}()},providedIn:"platform"}),S})();const ve=new p.OlP("Location Initialized");let he=(()=>{class S extends Oe{constructor(N){super(),this._doc=N,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(N){const Q=V().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",N,!1),()=>Q.removeEventListener("popstate",N)}onHashChange(N){const Q=V().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",N,!1),()=>Q.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,Q,ye){se()?this._history.pushState(N,Q,ye):this._location.hash=ye}replaceState(N,Q,ye){se()?this._history.replaceState(N,Q,ye):this._location.hash=ye}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return S.\u0275fac=function(N){return new(N||S)(p.LFG(te))},S.\u0275prov=p.Yz7({token:S,factory:function(){return function _e(){return new he((0,p.LFG)(te))}()},providedIn:"platform"}),S})();function se(){return!!window.history.pushState}function Je(S,j){if(0==S.length)return j;if(0==j.length)return S;let N=0;return S.endsWith("/")&&N++,j.startsWith("/")&&N++,2==N?S+j.substring(1):1==N?S+j:S+"/"+j}function st(S){const j=S.match(/#|\?|$/),N=j&&j.index||S.length;return S.slice(0,N-("/"===S[N-1]?1:0))+S.slice(N)}function _t(S){return S&&"?"!==S[0]?"?"+S:S}let Vt=(()=>{class S{historyGo(N){throw new Error("Not implemented")}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275prov=p.Yz7({token:S,factory:function(){return(0,p.f3M)(It)},providedIn:"root"}),S})();const ot=new p.OlP("appBaseHref");let It=(()=>{class S extends Vt{constructor(N,Q){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return Je(this._baseHref,N)}path(N=!1){const Q=this._platformLocation.pathname+_t(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&N?`${Q}${ye}`:Q}pushState(N,Q,ye,_){const I=this.prepareExternalUrl(ye+_t(_));this._platformLocation.pushState(N,Q,I)}replaceState(N,Q,ye,_){const I=this.prepareExternalUrl(ye+_t(_));this._platformLocation.replaceState(N,Q,I)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return S.\u0275fac=function(N){return new(N||S)(p.LFG(Oe),p.LFG(ot,8))},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),mt=(()=>{class S extends Vt{constructor(N,Q){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(N){const Q=Je(this._baseHref,N);return Q.length>0?"#"+Q:Q}pushState(N,Q,ye,_){let I=this.prepareExternalUrl(ye+_t(_));0==I.length&&(I=this._platformLocation.pathname),this._platformLocation.pushState(N,Q,I)}replaceState(N,Q,ye,_){let I=this.prepareExternalUrl(ye+_t(_));0==I.length&&(I=this._platformLocation.pathname),this._platformLocation.replaceState(N,Q,I)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return S.\u0275fac=function(N){return new(N||S)(p.LFG(Oe),p.LFG(ot,8))},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac}),S})(),wt=(()=>{class S{constructor(N){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const Q=this._locationStrategy.getBaseHref();this._basePath=function Tt(S){if(new RegExp("^(https?:)?//").test(S)){const[,N]=S.split(/\/\/[^\/]+/);return N}return S}(st(tt(Q))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,Q=""){return this.path()==this.normalize(N+_t(Q))}normalize(N){return S.stripTrailingSlash(function et(S,j){if(!S||!j.startsWith(S))return j;const N=j.substring(S.length);return""===N||["/",";","?","#"].includes(N[0])?N:j}(this._basePath,tt(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,Q="",ye=null){this._locationStrategy.pushState(ye,"",N,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+_t(Q)),ye)}replaceState(N,Q="",ye=null){this._locationStrategy.replaceState(ye,"",N,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+_t(Q)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",Q){this._urlChangeListeners.forEach(ye=>ye(N,Q))}subscribe(N,Q,ye){return this._subject.subscribe({next:N,error:Q,complete:ye})}}return S.normalizeQueryParams=_t,S.joinWithSlash=Je,S.stripTrailingSlash=st,S.\u0275fac=function(N){return new(N||S)(p.LFG(Vt))},S.\u0275prov=p.Yz7({token:S,factory:function(){return function Qe(){return new wt((0,p.LFG)(Vt))}()},providedIn:"root"}),S})();function tt(S){return S.replace(/\/index.html$/,"")}function jr(S,j){j=encodeURIComponent(j);for(const N of S.split(";")){const Q=N.indexOf("="),[ye,_]=-1==Q?[N,""]:[N.slice(0,Q),N.slice(Q+1)];if(ye.trim()===j)return decodeURIComponent(_)}return null}class ci{constructor(j,N,Q,ye){this.$implicit=j,this.ngForOf=N,this.index=Q,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ji=(()=>{class S{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,Q,ye){this._viewContainer=N,this._template=Q,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const Q=this._viewContainer;N.forEachOperation((ye,_,I)=>{if(null==ye.previousIndex)Q.createEmbeddedView(this._template,new ci(ye.item,this._ngForOf,-1,-1),null===I?void 0:I);else if(null==I)Q.remove(null===_?void 0:_);else if(null!==_){const B=Q.get(_);Q.move(B,I),mr(B,ye)}});for(let ye=0,_=Q.length;ye<_;ye++){const B=Q.get(ye).context;B.index=ye,B.count=_,B.ngForOf=this._ngForOf}N.forEachIdentityChange(ye=>{mr(Q.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(N,Q){return!0}}return S.\u0275fac=function(N){return new(N||S)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},S.\u0275dir=p.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),S})();function mr(S,j){S.context.$implicit=j.item}let Re=(()=>{class S{constructor(N,Q){this._viewContainer=N,this._context=new Me,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Et("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Et("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,Q){return!0}}return S.\u0275fac=function(N){return new(N||S)(p.Y36(p.s_b),p.Y36(p.Rgc))},S.\u0275dir=p.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),S})();class Me{constructor(){this.$implicit=null,this.ngIf=null}}function Et(S,j){if(j&&!j.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,p.AaK)(j)}'.`)}class Ot{constructor(j,N){this._viewContainerRef=j,this._templateRef=N,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(j){j&&!this._created?this.create():!j&&this._created&&this.destroy()}}let xn=(()=>{class S{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(N){this._ngSwitch=N,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(N){this._defaultViews.push(N)}_matchCase(N){const Q=N==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Q}_updateDefaultCases(N){if(this._defaultViews.length>0&&N!==this._defaultUsed){this._defaultUsed=N;for(const Q of this._defaultViews)Q.enforceState(N)}}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275dir=p.lG2({type:S,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),S})(),$n=(()=>{class S{constructor(N,Q,ye){this.ngSwitch=ye,ye._addCase(),this._view=new Ot(N,Q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return S.\u0275fac=function(N){return new(N||S)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(xn,9))},S.\u0275dir=p.lG2({type:S,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),S})();class qs{createSubscription(j,N){return j.subscribe({next:N,error:Q=>{throw Q}})}dispose(j){j.unsubscribe()}}class rs{createSubscription(j,N){return j.then(N,Q=>{throw Q})}dispose(j){}}const Xi=new rs,is=new qs;let ds=(()=>{class S{constructor(N){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,Q=>this._updateLatestValue(N,Q))}_selectStrategy(N){if((0,p.QGY)(N))return Xi;if((0,p.F4k)(N))return is;throw function Ji(S,j){return new p.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,Q){N===this._obj&&(this._latestValue=Q,this._ref.markForCheck())}}return S.\u0275fac=function(N){return new(N||S)(p.Y36(p.sBO,16))},S.\u0275pipe=p.Yjl({name:"async",type:S,pure:!1,standalone:!0}),S})(),Ss=(()=>{class S{}return S.\u0275fac=function(N){return new(N||S)},S.\u0275mod=p.oAB({type:S}),S.\u0275inj=p.cJS({}),S})();const po="browser",Oi="server";function Ce(S){return S===Oi}let wn=(()=>{class S{}return S.\u0275prov=(0,p.Yz7)({token:S,providedIn:"root",factory:()=>new Dn((0,p.LFG)(te),window)}),S})();class Dn{constructor(j,N){this.document=j,this.window=N,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const N=function Jn(S,j){const N=S.getElementById(j)||S.getElementsByName(j)[0];if(N)return N;if("function"==typeof S.createTreeWalker&&S.body&&(S.body.createShadowRoot||S.body.attachShadow)){const Q=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let ye=Q.currentNode;for(;ye;){const _=ye.shadowRoot;if(_){const I=_.getElementById(j)||_.querySelector(`[name="${j}"]`);if(I)return I}ye=Q.nextNode()}}return null}(this.document,j);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=j)}}scrollToElement(j){const N=j.getBoundingClientRect(),Q=N.left+this.window.pageXOffset,ye=N.top+this.window.pageYOffset,_=this.offset();this.window.scrollTo(Q-_[0],ye-_[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=Hn(this.window.history)||Hn(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Hn(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class Qr{}},4650:(Qt,Xe,k)=>{"use strict";k.d(Xe,{$8M:()=>Is,$WT:()=>Kr,$Z:()=>zm,AFp:()=>U0,ALo:()=>bv,AaK:()=>Ae,CHM:()=>R,CRH:()=>m0,CZH:()=>Tv,CqO:()=>fy,D6c:()=>MI,EJc:()=>WE,EpF:()=>pf,F4k:()=>gf,FYo:()=>tl,FiY:()=>Pi,GfV:()=>Em,Gpc:()=>se,JOm:()=>vo,KtG:()=>X,LFG:()=>Wt,LSH:()=>Fh,Lbi:()=>HE,Lck:()=>lv,MAs:()=>dy,MMx:()=>Hf,NdJ:()=>fc,OlP:()=>si,P3R:()=>sp,PXZ:()=>aI,Q6J:()=>th,QGY:()=>ih,Qsj:()=>_m,R0b:()=>Hu,RDi:()=>kv,Rgc:()=>Ct,SBq:()=>el,Sil:()=>KE,Suo:()=>g0,TTD:()=>Bt,TgZ:()=>nh,VKq:()=>mv,W1O:()=>w0,X6Q:()=>hI,XFs:()=>Pe,Xpm:()=>pn,Xts:()=>op,Y36:()=>cc,YKP:()=>Bg,YNc:()=>cy,Yjl:()=>Kn,Yz7:()=>$t,Z0I:()=>Ir,ZZ4:()=>Uw,_Bn:()=>Ih,_UZ:()=>ff,_Vd:()=>Ld,_c5:()=>SI,_uU:()=>xy,aQg:()=>Bw,c2e:()=>zE,cJS:()=>Pn,cg1:()=>$y,dDg:()=>rI,dqk:()=>tn,eFA:()=>J0,eJc:()=>bw,ekj:()=>Xa,eoX:()=>K0,f3M:()=>gr,g9A:()=>$0,h0i:()=>pd,hGG:()=>xI,hij:()=>Ol,iGM:()=>p0,ifc:()=>ie,ip1:()=>V0,jDz:()=>md,kL8:()=>Rf,lG2:()=>vn,lcZ:()=>t,lqb:()=>Ma,lri:()=>W0,n5z:()=>fl,oAB:()=>qe,oxw:()=>sh,q4F:()=>jh,qLn:()=>$c,qOj:()=>Jd,qZA:()=>od,rWj:()=>q0,s9C:()=>dg,sBO:()=>fI,s_b:()=>ei,soG:()=>Av,tb:()=>Y0,tp0:()=>Hs,uIk:()=>eh,vHH:()=>ot,vpe:()=>ee,wAp:()=>fr,xp6:()=>yp,z2F:()=>Sv,zSh:()=>gu,zs3:()=>uc});var p=k(7579),W=k(727),V=k(9751),Ie=k(6451),L=k(3099);function te(n){for(let i in n)if(n[i]===te)return i;throw Error("Could not find renamed property on target object.")}function Oe(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Ae(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ae).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ve(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const he=te({__forward_ref__:te});function se(n){return n.__forward_ref__=se,n.toString=function(){return Ae(this())},n}function _e(n){return Je(n)?n():n}function Je(n){return"function"==typeof n&&n.hasOwnProperty(he)&&n.__forward_ref__===se}function st(n){return n&&!!n.\u0275providers}const Vt="https://g.co/ng/security#xss";class ot extends Error{constructor(i,o){super(It(i,o)),this.code=i}}function It(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function mt(n){return"string"==typeof n?n:null==n?"":String(n)}function Tt(n,i){throw new ot(-201,!1)}function ze(n,i){null==n&&function ft(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function $t(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pn(n){return{providers:n.providers||[],imports:n.imports||[]}}function kn(n){return Vn(n,yr)||Vn(n,Se)}function Ir(n){return null!==kn(n)}function Vn(n,i){return n.hasOwnProperty(i)?n[i]:null}function zt(n){return n&&(n.hasOwnProperty(De)||n.hasOwnProperty(Ne))?n[De]:null}const yr=te({\u0275prov:te}),De=te({\u0275inj:te}),Se=te({ngInjectableDef:te}),Ne=te({ngInjectorDef:te});var Pe=(()=>((Pe=Pe||{})[Pe.Default=0]="Default",Pe[Pe.Host=1]="Host",Pe[Pe.Self=2]="Self",Pe[Pe.SkipSelf=4]="SkipSelf",Pe[Pe.Optional=8]="Optional",Pe))();let it;function Gn(n){const i=it;return it=n,i}function yn(n,i,o){const u=kn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Pe.Optional?null:void 0!==i?i:void Tt(Ae(n))}const tn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),pr={},Xn="__NG_DI_FLAG__",or="ngTempTokenPath",Qn="ngTokenPath",Wn=/\n/gm,Sr="\u0275",Un="__source";let ir;function Sn(n){const i=ir;return ir=n,i}function bn(n,i=Pe.Default){if(void 0===ir)throw new ot(-203,!1);return null===ir?yn(n,void 0,i):ir.get(n,i&Pe.Optional?null:void 0,i)}function Wt(n,i=Pe.Default){return(function Mt(){return it}()||bn)(_e(n),i)}function gr(n,i=Pe.Default){return Wt(n,$e(i))}function $e(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function dt(n){const i=[];for(let o=0;o<n.length;o++){const u=_e(n[o]);if(Array.isArray(u)){if(0===u.length)throw new ot(900,!1);let c,f=Pe.Default;for(let y=0;y<u.length;y++){const T=u[y],P=jt(T);"number"==typeof P?-1===P?c=T.token:f|=P:c=T}i.push(Wt(c,f))}else i.push(Wt(u))}return i}function We(n,i){return n[Xn]=i,n.prototype[Xn]=i,n}function jt(n){return n[Xn]}function ce(n){return{toString:n}.toString()}var J=(()=>((J=J||{})[J.OnPush=0]="OnPush",J[J.Default=1]="Default",J))(),ie=(()=>{return(n=ie||(ie={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ie;var n})();const Z={},be=[],le=te({\u0275cmp:te}),fe=te({\u0275dir:te}),ae=te({\u0275pipe:te}),xe=te({\u0275mod:te}),nt=te({\u0275fac:te}),Dt=te({__NG_ELEMENT_ID__:te});let fn=0;function pn(n){return ce(()=>{const i=$i(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===J.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ie.Emulated,id:"c"+fn++,styles:n.styles||be,_:null,schemas:n.schemas||null,tView:null};ti(o);const u=n.dependencies;return o.directiveDefs=jr(u,!1),o.pipeDefs=jr(u,!0),o})}function vr(n){return Cn(n)||Yn(n)}function pt(n){return null!==n}function qe(n){return ce(()=>({type:n.type,bootstrap:n.bootstrap||be,declarations:n.declarations||be,imports:n.imports||be,exports:n.exports||be,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function gn(n,i){if(null==n)return Z;const o={};for(const u in n)if(n.hasOwnProperty(u)){let c=n[u],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),o[c]=u,i&&(i[c]=f)}return o}function vn(n){return ce(()=>{const i=$i(n);return ti(i),i})}function Kn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Cn(n){return n[le]||null}function Yn(n){return n[fe]||null}function ur(n){return n[ae]||null}function Kr(n){const i=Cn(n)||Yn(n)||ur(n);return null!==i&&i.standalone}function Zr(n,i){const o=n[xe]||null;if(!o&&!0===i)throw new Error(`Type ${Ae(n)} does not have '\u0275mod' property.`);return o}function $i(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||be,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gn(n.inputs,i),outputs:gn(n.outputs)}}function ti(n){n.features?.forEach(i=>i(n))}function jr(n,i){if(!n)return null;const o=i?ur:vr;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(pt)}const ai=0,Zt=1,Bn=2,Br=3,br=4,Yr=5,ci=6,ji=7,mr=8,Fe=9,Re=10,Me=11,Et=12,Ot=13,xn=14,$n=15,On=16,er=17,vi=18,Hr=19,di=20,Ai=21,xr=22,qs=1,rs=2,Xi=7,is=8,ds=9,_i=10;function wi(n){return Array.isArray(n)&&"object"==typeof n[qs]}function Hi(n){return Array.isArray(n)&&!0===n[qs]}function zi(n){return 0!=(4&n.flags)}function Gi(n){return n.componentOffset>-1}function Si(n){return 1==(1&n.flags)}function bi(n){return!!n.template}function hs(n){return 0!=(256&n[Bn])}function Le(n,i){return n.hasOwnProperty(nt)?n[nt]:null}class bt{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Bt(){return wn}function wn(n){return n.type.prototype.ngOnChanges&&(n.setInput=Hn),Dn}function Dn(){const n=$r(this),i=n?.current;if(i){const o=n.previous;if(o===Z)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Hn(n,i,o,u){const c=this.declaredInputs[o],f=$r(n)||function Qr(n,i){return n[Jn]=i}(n,{previous:Z,current:null}),y=f.current||(f.current={}),T=f.previous,P=T[c];y[c]=new bt(P&&P.currentValue,i,T===Z),n[u]=i}Bt.ngInherit=!0;const Jn="__ngSimpleChanges__";function $r(n){return n[Jn]||null}const lr=function(n,i,o){};function Fr(n){for(;Array.isArray(n);)n=n[ai];return n}function Vr(n,i){return Fr(i[n])}function Wr(n,i){return Fr(i[n.index])}function Vs(n,i){return n.data[i]}function hi(n,i){return n[i]}function ui(n,i){const o=i[n];return wi(o)?o:o[ai]}function Ei(n){return 64==(64&n[Bn])}function as(n,i){return null==i?null:n[i]}function Bs(n){n[vi]=0}function Ks(n,i){n[Yr]+=i;let o=n,u=n[Br];for(;null!==u&&(1===i&&1===o[Yr]||-1===i&&0===o[Yr]);)u[Yr]+=i,o=u,u=u[Br]}const Nn={lFrame:Fo(null),bindingsEnabled:!0};function oa(){return Nn.bindingsEnabled}function x(){return Nn.lFrame.lView}function O(){return Nn.lFrame.tView}function R(n){return Nn.lFrame.contextLView=n,n[mr]}function X(n){return Nn.lFrame.contextLView=null,n}function Ye(){let n=mn();for(;null!==n&&64===n.type;)n=n.parent;return n}function mn(){return Nn.lFrame.currentTNode}function ni(n,i){const o=Nn.lFrame;o.currentTNode=n,o.isParent=i}function ps(){return Nn.lFrame.isParent}function mi(){const n=Nn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function $s(){return Nn.lFrame.bindingIndex++}function _a(n,i){const o=Nn.lFrame;o.bindingIndex=o.bindingRootIndex=n,ri(i)}function ri(n){Nn.lFrame.currentDirectiveIndex=n}function ts(){return Nn.lFrame.currentQueryIndex}function ko(n){Nn.lFrame.currentQueryIndex=n}function Ar(n){const i=n[Zt];return 2===i.type?i.declTNode:1===i.type?n[ci]:null}function La(n,i,o){if(o&Pe.SkipSelf){let c=i,f=n;for(;!(c=c.parent,null!==c||o&Pe.Host||(c=Ar(f),null===c||(f=f[$n],10&c.type))););if(null===c)return!1;i=c,n=f}const u=Nn.lFrame=Rs();return u.currentTNode=i,u.lView=n,!0}function go(n){const i=Rs(),o=n[Zt];Nn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Rs(){const n=Nn.lFrame,i=null===n?null:n.child;return null===i?Fo(n):i}function Fo(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function mo(){const n=Nn.lFrame;return Nn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ns=mo;function Lo(){const n=mo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Jr(){return Nn.lFrame.selectedIndex}function qr(n){Nn.lFrame.selectedIndex=n}function Xr(){const n=Nn.lFrame;return Vs(n.tView,n.selectedIndex)}function aa(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const f=n.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:T,ngAfterViewInit:P,ngAfterViewChecked:H,ngOnDestroy:ne}=f;y&&(n.contentHooks??(n.contentHooks=[])).push(-o,y),T&&((n.contentHooks??(n.contentHooks=[])).push(o,T),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,T)),P&&(n.viewHooks??(n.viewHooks=[])).push(-o,P),H&&((n.viewHooks??(n.viewHooks=[])).push(o,H),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,H)),null!=ne&&(n.destroyHooks??(n.destroyHooks=[])).push(o,ne)}}function Yo(n,i,o){j(n,i,3,o)}function Va(n,i,o,u){(3&n[Bn])===o&&j(n,i,o,u)}function S(n,i){let o=n[Bn];(3&o)===i&&(o&=2047,o+=1,n[Bn]=o)}function j(n,i,o,u){const f=u??-1,y=i.length-1;let T=0;for(let P=void 0!==u?65535&n[vi]:0;P<y;P++)if("number"==typeof i[P+1]){if(T=i[P],null!=u&&T>=u)break}else i[P]<0&&(n[vi]+=65536),(T<f||-1==f)&&(N(n,o,i,P),n[vi]=(4294901760&n[vi])+P+2),P++}function N(n,i,o,u){const c=o[u]<0,f=o[u+1],T=n[c?-o[u]:o[u]];if(c){if(n[Bn]>>11<n[vi]>>16&&(3&n[Bn])===i){n[Bn]+=2048,lr(4,T,f);try{f.call(T)}finally{lr(5,T,f)}}}else{lr(4,T,f);try{f.call(T)}finally{lr(5,T,f)}}}const Q=-1;class ye{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function gt(n,i,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const f=o[u++],y=o[u++],T=o[u++];n.setAttribute(i,y,T,f)}else{const f=c,y=o[++u];fi(f)?n.setProperty(i,f,y):n.setAttribute(i,f,y),u++}}return u}function cr(n){return 3===n||4===n||6===n}function fi(n){return 64===n.charCodeAt(0)}function Es(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||un(n,o,c,null,-1===o||2===o?i[++u]:null)}}return n}function un(n,i,o,u,c){let f=0,y=n.length;if(-1===i)y=-1;else for(;f<n.length;){const T=n[f++];if("number"==typeof T){if(T===i){y=-1;break}if(T>i){y=f-1;break}}}for(;f<n.length;){const T=n[f];if("number"==typeof T)break;if(T===o){if(null===u)return void(null!==c&&(n[f+1]=c));if(u===n[f+1])return void(n[f+2]=c)}f++,null!==u&&f++,null!==c&&f++}-1!==y&&(n.splice(y,0,i),f=y+1),n.splice(f++,0,o),null!==u&&n.splice(f++,0,u),null!==c&&n.splice(f++,0,c)}function cn(n){return n!==Q}function Qs(n){return 32767&n}function at(n,i){let o=function Kt(n){return n>>16}(n),u=i;for(;o>0;)u=u[$n],o--;return u}let Nt=!0;function Fi(n){const i=Nt;return Nt=n,i}const Ua=255,bu=5;let zu=0;const yo={};function Cu(n,i){const o=Cc(n,i);if(-1!==o)return o;const u=i[Zt];u.firstCreatePass&&(n.injectorIndex=i.length,Qo(u.data,n),Qo(i,null),Qo(u.blueprint,null));const c=Mi(n,i),f=n.injectorIndex;if(cn(c)){const y=Qs(c),T=at(c,i),P=T[Zt].data;for(let H=0;H<8;H++)i[f+H]=T[y+H]|P[y+H]}return i[f+8]=c,f}function Qo(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Cc(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Mi(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){if(u=Do(c),null===u)return Q;if(o++,c=c[$n],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Q}function wa(n,i,o){!function bc(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Dt)&&(u=o[Dt]),null==u&&(u=o[Dt]=zu++);const c=u&Ua;i.data[n+(c>>bu)]|=1<<c}(n,i,o)}function Jo(n,i,o){if(o&Pe.Optional||void 0!==n)return n;Tt()}function ru(n,i,o,u){if(o&Pe.Optional&&void 0===u&&(u=null),!(o&(Pe.Self|Pe.Host))){const c=n[Fe],f=Gn(void 0);try{return c?c.get(i,u,o&Pe.Optional):yn(i,u,o&Pe.Optional)}finally{Gn(f)}}return Jo(u,0,o)}function Di(n,i,o,u=Pe.Default,c){if(null!==n){if(1024&i[Bn]){const y=function Gu(n,i,o,u,c){let f=n,y=i;for(;null!==f&&null!==y&&1024&y[Bn]&&!(256&y[Bn]);){const T=Fn(f,y,o,u|Pe.Self,yo);if(T!==yo)return T;let P=f.parent;if(!P){const H=y[Ai];if(H){const ne=H.get(o,yo,u);if(ne!==yo)return ne}P=Do(y),y=y[$n]}f=P}return c}(n,i,o,u,yo);if(y!==yo)return y}const f=Fn(n,i,o,u,yo);if(f!==yo)return f}return ru(i,o,u,c)}function Fn(n,i,o,u,c){const f=function Ii(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Dt)?n[Dt]:void 0;return"number"==typeof i?i>=0?i&Ua:la:i}(o);if("function"==typeof f){if(!La(i,n,u))return u&Pe.Host?Jo(c,0,u):ru(i,o,u,c);try{const y=f(u);if(null!=y||u&Pe.Optional)return y;Tt()}finally{ns()}}else if("number"==typeof f){let y=null,T=Cc(n,i),P=Q,H=u&Pe.Host?i[On][ci]:null;for((-1===T||u&Pe.SkipSelf)&&(P=-1===T?Mi(n,i):i[T+8],P!==Q&&ua(u,!1)?(y=i[Zt],T=Qs(P),i=at(P,i)):T=-1);-1!==T;){const ne=i[Zt];if(nn(f,T,ne.data)){const me=Li(T,i,o,y,u,H);if(me!==yo)return me}P=i[T+8],P!==Q&&ua(u,i[Zt].data[T+8]===H)&&nn(f,T,i)?(y=ne,T=Qs(P),i=at(P,i)):T=-1}}return c}function Li(n,i,o,u,c,f){const y=i[Zt],T=y.data[n+8],ne=tr(T,y,o,null==u?Gi(T)&&Nt:u!=y&&0!=(3&T.type),c&Pe.Host&&f===T);return null!==ne?Ri(i,y,ne,T):yo}function tr(n,i,o,u,c){const f=n.providerIndexes,y=i.data,T=1048575&f,P=n.directiveStart,ne=f>>20,ke=c?T+ne:n.directiveEnd;for(let lt=u?T:T+ne;lt<ke;lt++){const xt=y[lt];if(lt<P&&o===xt||lt>=P&&xt.type===o)return lt}if(c){const lt=y[P];if(lt&&bi(lt)&&lt.type===o)return P}return null}function Ri(n,i,o,u){let c=n[o];const f=i.data;if(function _(n){return n instanceof ye}(c)){const y=c;y.resolving&&function Qe(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new ot(-200,`Circular dependency in DI detected for ${n}${o}`)}(function wt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():mt(n)}(f[o]));const T=Fi(y.canSeeViewProviders);y.resolving=!0;const P=y.injectImpl?Gn(y.injectImpl):null;La(n,u,Pe.Default);try{c=n[o]=y.factory(void 0,f,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Ci(n,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:f}=i.type.prototype;if(u){const y=wn(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,y),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,y)}c&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,c),f&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,f),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,f))}(o,f[o],i)}finally{null!==P&&Gn(P),Fi(T),y.resolving=!1,ns()}}return c}function nn(n,i,o){return!!(o[i+(n>>bu)]&1<<n)}function ua(n,i){return!(n&Pe.Self||n&Pe.Host&&i)}class Xo{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Di(this._tNode,this._lView,i,$e(u),o)}}function la(){return new Xo(Ye(),x())}function fl(n){return ce(()=>{const i=n.prototype.constructor,o=i[nt]||Bo(i),u=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==u;){const f=c[nt]||Bo(c);if(f&&f!==o)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function Bo(n){return Je(n)?()=>{const i=Bo(_e(n));return i&&i()}:Le(n)}function Do(n){const i=n[Zt],o=i.type;return 2===o?i.declTNode:1===o?n[ci]:null}function Is(n){return function sr(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const f=o[c];if(cr(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(f===i)return o[c+1];c+=2}}}return null}(Ye(),n)}const Vi="__parameters__";function Ps(n,i,o){return ce(()=>{const u=function To(n){return function(...o){if(n){const u=n(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...f){if(this instanceof c)return u.apply(this,f),this;const y=new c(...f);return T.annotation=y,T;function T(P,H,ne){const me=P.hasOwnProperty(Vi)?P[Vi]:Object.defineProperty(P,Vi,{value:[]})[Vi];for(;me.length<=ne;)me.push(null);return(me[ne]=me[ne]||[]).push(y),P}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class si{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=$t({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function na(n,i){n.forEach(o=>Array.isArray(o)?na(o,i):i(o))}function ou(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function js(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function uo(n,i,o){let u=v(n,i);return u>=0?n[1|u]=o:(u=~u,function uu(n,i,o,u){let c=n.length;if(c==i)n.push(o,u);else if(1===c)n.push(u,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function Ha(n,i){const o=v(n,i);if(o>=0)return n[1|o]}function v(n,i){return function m(n,i,o){let u=0,c=n.length>>o;for(;c!==u;){const f=u+(c-u>>1),y=n[f<<o];if(i===y)return f<<o;y>i?c=f:u=f+1}return~(c<<o)}(n,i,1)}const Pi=We(Ps("Optional"),8),Hs=We(Ps("SkipSelf"),4);var vo=(()=>((vo=vo||{})[vo.Important=1]="Important",vo[vo.DashCase=2]="DashCase",vo))();const yl=new Map;let eo=0;const we="__ngContext__";function Te(n,i){wi(i)?(n[we]=i[di],function Bi(n){yl.set(n[di],n)}(i)):n[we]=i}let _o;function zo(n,i){return _o(n,i)}function xc(n){const i=n[Br];return Hi(i)?i[Br]:i}function Ru(n){return Ku(n[Ot])}function Ka(n){return Ku(n[br])}function Ku(n){for(;null!==n&&!Hi(n);)n=n[br];return n}function fu(n,i,o,u,c){if(null!=u){let f,y=!1;Hi(u)?f=u:wi(u)&&(y=!0,u=u[ai]);const T=Fr(u);0===n&&null!==o?null==c?wo(i,o,T):Tr(i,o,T,c||null,!0):1===n&&null!==o?Tr(i,o,T,c||null,!0):2===n?function Td(n,i,o){const u=zs(n,i);u&&function ya(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,T,y):3===n&&i.destroyNode(T),null!=f&&function Pv(n,i,o,u,c){const f=o[Xi];f!==Fr(o)&&fu(i,n,u,f,c);for(let T=_i;T<o.length;T++){const P=o[T];Rc(P[Zt],P,n,i,u,f)}}(i,n,f,o,c)}}function xa(n,i,o){return n.createElement(i,o)}function D(n,i){const o=n[ds],u=o.indexOf(i),c=i[Br];512&i[Bn]&&(i[Bn]&=-513,Ks(c,-1)),o.splice(u,1)}function z(n,i){if(n.length<=_i)return;const o=_i+i,u=n[o];if(u){const c=u[er];null!==c&&c!==n&&D(c,u),i>0&&(n[o-1][br]=u[br]);const f=js(n,_i+i);!function bd(n,i){Rc(n,i,i[Me],2,null,null),i[ai]=null,i[ci]=null}(u[Zt],u);const y=f[Hr];null!==y&&y.detachView(f[Zt]),u[Br]=null,u[br]=null,u[Bn]&=-65}return u}function oe(n,i){if(!(128&i[Bn])){const o=i[Me];o.destroyNode&&Rc(n,i,o,3,null,null),function E(n){let i=n[Ot];if(!i)return Ve(n[Zt],n);for(;i;){let o=null;if(wi(i))o=i[Ot];else{const u=i[_i];u&&(o=u)}if(!o){for(;i&&!i[br]&&i!==n;)wi(i)&&Ve(i[Zt],i),i=i[Br];null===i&&(i=n),wi(i)&&Ve(i[Zt],i),o=i&&i[br]}i=o}}(i)}}function Ve(n,i){if(!(128&i[Bn])){i[Bn]&=-65,i[Bn]|=128,function en(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof ye)){const f=o[u+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const T=c[f[y]],P=f[y+1];lr(4,T,P);try{P.call(T)}finally{lr(5,T,P)}}else{lr(4,c,f);try{f.call(c)}finally{lr(5,c,f)}}}}}(n,i),function vt(n,i){const o=n.cleanup,u=i[ji];let c=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const y=o[f+3];y>=0?u[c=y]():u[c=-y].unsubscribe(),f+=2}else{const y=u[c=o[f+1]];o[f].call(y)}if(null!==u){for(let f=c+1;f<u.length;f++)(0,u[f])();i[ji]=null}}(n,i),1===i[Zt].type&&i[Me].destroy();const o=i[er];if(null!==o&&Hi(i[Br])){o!==i[Br]&&D(o,i);const u=i[Hr];null!==u&&u.detachView(n)}!function vl(n){yl.delete(n[di])}(i)}}function In(n,i,o){return function zn(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[ai];{const{componentOffset:c}=u;if(c>-1){const{encapsulation:f}=n.data[u.directiveStart+c];if(f===ie.None||f===ie.Emulated)return null}return Wr(u,o)}}(n,i.parent,o)}function Tr(n,i,o,u,c){n.insertBefore(i,o,u,c)}function wo(n,i,o){n.appendChild(i,o)}function pu(n,i,o,u,c){null!==u?Tr(n,i,o,u,c):wo(n,i,o)}function zs(n,i){return n.parentNode(i)}let Ql,Yf,tc,va=function Yl(n,i,o){return 40&n.type?Wr(n,o):null};function Jl(n,i,o,u){const c=In(n,u,i),f=i[Me],T=function Zu(n,i,o){return va(n,i,o)}(u.parent||i[ci],u,i);if(null!=c)if(Array.isArray(o))for(let P=0;P<o.length;P++)pu(f,c,o[P],T,!1);else pu(f,c,o,T,!1);void 0!==Ql&&Ql(f,u,i,o,c)}function Mc(n,i){if(null!==i){const o=i.type;if(3&o)return Wr(i,n);if(4&o)return Dd(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Mc(n,u);{const c=n[i.index];return Hi(c)?Dd(-1,c):Fr(c)}}if(32&o)return zo(i,n)()||Fr(n[i.index]);{const u=Cr(n,i);return null!==u?Array.isArray(u)?u[0]:Mc(xc(n[On]),u):Mc(n,i.next)}}return null}function Cr(n,i){return null!==i?n[On][ci].projection[i.projection]:null}function Dd(n,i){const o=_i+n+1;if(o<i.length){const u=i[o],c=u[Zt].firstChild;if(null!==c)return Mc(u,c)}return i[Xi]}function xh(n,i,o,u,c,f,y){for(;null!=o;){const T=u[o.index],P=o.type;if(y&&0===i&&(T&&Te(Fr(T),u),o.flags|=2),32!=(32&o.flags))if(8&P)xh(n,i,o.child,u,c,f,!1),fu(i,n,c,T,f);else if(32&P){const H=zo(o,u);let ne;for(;ne=H();)fu(i,n,c,ne,f);fu(i,n,c,T,f)}else 16&P?Ad(n,i,u,o,c,f):fu(i,n,c,T,f);o=y?o.projectionNext:o.next}}function Rc(n,i,o,u,c,f){xh(o,u,n.firstChild,i,c,f,!1)}function Ad(n,i,o,u,c,f){const y=o[On],P=y[ci].projection[u.projection];if(Array.isArray(P))for(let H=0;H<P.length;H++)fu(i,n,c,P[H],f);else xh(n,i,P,y[Br],c,f,!0)}function Xl(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function El(n,i,o){const{mergedAttrs:u,classes:c,styles:f}=o;null!==u&&gt(n,i,u),null!==c&&Xl(n,i,c),null!==f&&function qg(n,i,o){n.setAttribute(i,"style",o)}(n,i,f)}function kv(n){Yf=n}function Nc(n){return function Oc(){if(void 0===tc&&(tc=null,tn.trustedTypes))try{tc=tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tc}()?.createScriptURL(n)||n}class Yg{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vt})`}}function Ju(n){return n instanceof Yg?n.changingThisBreaksApplicationSecurity:n}function Ou(n,i){const o=function Jf(n){return n instanceof Yg&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Vt})`)}return o===i}const Xf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var no=(()=>((no=no||{})[no.NONE=0]="NONE",no[no.HTML=1]="HTML",no[no.STYLE=2]="STYLE",no[no.SCRIPT=3]="SCRIPT",no[no.URL=4]="URL",no[no.RESOURCE_URL=5]="RESOURCE_URL",no))();function Fh(n){const i=Pd();return i?i.sanitize(no.URL,n)||"":Ou(n,"URL")?Ju(n):function Fc(n){return(n=String(n)).match(Xf)?n:"unsafe:"+n}(mt(n))}function Vc(n){const i=Pd();if(i)return Nc(i.sanitize(no.RESOURCE_URL,n)||"");if(Ou(n,"ResourceURL"))return Nc(Ju(n));throw new ot(904,!1)}function sp(n,i,o){return function Rd(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Vc:Fh}(i,o)(n)}function Pd(){const n=x();return n&&n[Et]}const op=new si("ENVIRONMENT_INITIALIZER"),Uc=new si("INJECTOR",-1),Lh=new si("INJECTOR_DEF_TYPES");class dm{get(i,o=pr){if(o===pr){const u=new Error(`NullInjectorError: No provider for ${Ae(i)}!`);throw u.name="NullInjectorError",u}return o}}function ap(...n){return{\u0275providers:up(0,n),\u0275fromNgModule:!0}}function up(n,...i){const o=[],u=new Set;let c;return na(i,f=>{const y=f;Vh(y,o,[],u)&&(c||(c=[]),c.push(y))}),void 0!==c&&hm(c,o),o}function hm(n,i){for(let o=0;o<n.length;o++){const{providers:c}=n[o];lp(c,f=>{i.push(f)})}}function Vh(n,i,o,u){if(!(n=_e(n)))return!1;let c=null,f=zt(n);const y=!f&&Cn(n);if(f||y){if(y&&!y.standalone)return!1;c=n}else{const P=n.ngModule;if(f=zt(P),!f)return!1;c=P}const T=u.has(c);if(y){if(T)return!1;if(u.add(c),y.dependencies){const P="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const H of P)Vh(H,i,o,u)}}else{if(!f)return!1;{if(null!=f.imports&&!T){let H;u.add(c);try{na(f.imports,ne=>{Vh(ne,i,o,u)&&(H||(H=[]),H.push(ne))})}finally{}void 0!==H&&hm(H,i)}if(!T){const H=Le(c)||(()=>new c);i.push({provide:c,useFactory:H,deps:be},{provide:Lh,useValue:c,multi:!0},{provide:op,useValue:()=>Wt(c),multi:!0})}const P=f.providers;null==P||T||lp(P,ne=>{i.push(ne)})}}return c!==n&&void 0!==n.providers}function lp(n,i){for(let o of n)st(o)&&(o=o.\u0275providers),Array.isArray(o)?lp(o,i):i(o)}const Hv=te({provide:String,useValue:te});function Fu(n){return null!==n&&"object"==typeof n&&Hv in n}function rc(n){return"function"==typeof n}const gu=new si("Set Injector scope."),Od={},zv={};let Uh;function ic(){return void 0===Uh&&(Uh=new dm),Uh}class Ma{}class bl extends Ma{get destroyed(){return this._destroyed}constructor(i,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$h(i,y=>this.processProvider(y)),this.records.set(Uc,Cl(void 0,this)),c.has("environment")&&this.records.set(Ma,Cl(void 0,this));const f=this.records.get(gu);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Lh.multi,be,Pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Sn(this),u=Gn(void 0);try{return i()}finally{Sn(o),Gn(u)}}get(i,o=pr,u=Pe.Default){this.assertNotDestroyed(),u=$e(u);const c=Sn(this),f=Gn(void 0);try{if(!(u&Pe.SkipSelf)){let T=this.records.get(i);if(void 0===T){const P=function Gv(n){return"function"==typeof n||"object"==typeof n&&n instanceof si}(i)&&kn(i);T=P&&this.injectableDefInScope(P)?Cl(Xu(i),Od):null,this.records.set(i,T)}if(null!=T)return this.hydrate(i,T)}return(u&Pe.Self?ic():this.parent).get(i,o=u&Pe.Optional&&o===pr?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[or]=y[or]||[]).unshift(Ae(i)),c)throw y;return function Jt(n,i,o,u){const c=n[or];throw i[Un]&&c.unshift(i[Un]),n.message=function pe(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Sr?n.slice(2):n;let c=Ae(i);if(Array.isArray(i))c=i.map(Ae).join(" -> ");else if("object"==typeof i){let f=[];for(let y in i)if(i.hasOwnProperty(y)){let T=i[y];f.push(y+":"+("string"==typeof T?JSON.stringify(T):Ae(T)))}c=`{${f.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${n.replace(Wn,"\n  ")}`}("\n"+n.message,c,o,u),n[Qn]=c,n[or]=null,n}(y,i,"R3InjectorError",this.source)}throw y}finally{Gn(f),Sn(c)}}resolveInjectorInitializers(){const i=Sn(this),o=Gn(void 0);try{const u=this.get(op.multi,be,Pe.Self);for(const c of u)c()}finally{Sn(i),Gn(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Ae(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ot(205,!1)}processProvider(i){let o=rc(i=_e(i))?i:_e(i&&i.provide);const u=function pm(n){return Fu(n)?Cl(void 0,n.useValue):Cl(Bh(n),Od)}(i);if(rc(i)||!0!==i.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Cl(void 0,Od,!0),c.factory=()=>dt(c.multi),this.records.set(o,c)),o=i,c.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===Od&&(o.value=zv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function mm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=_e(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Xu(n){const i=kn(n),o=null!==i?i.factory:Le(n);if(null!==o)return o;if(n instanceof si)throw new ot(204,!1);if(n instanceof Function)return function Nd(n){const i=n.length;if(i>0)throw function da(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new ot(204,!1);const o=function rr(n){return n&&(n[yr]||n[Se])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ot(204,!1)}function Bh(n,i,o){let u;if(rc(n)){const c=_e(n);return Le(c)||Xu(c)}if(Fu(n))u=()=>_e(n.useValue);else if(function cp(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...dt(n.deps||[]));else if(function nc(n){return!(!n||!n.useExisting)}(n))u=()=>Wt(_e(n.useExisting));else{const c=_e(n&&(n.useClass||n.provide));if(!function gm(n){return!!n.deps}(n))return Le(c)||Xu(c);u=()=>new c(...dt(n.deps))}return u}function Cl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function $h(n,i){for(const o of n)Array.isArray(o)?$h(o,i):o&&st(o)?$h(o.\u0275providers,i):i(o)}class ym{}class kd{}class vm{resolveComponentFactory(i){throw function Fd(n){const i=Error(`No component factory found for ${Ae(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Ld=(()=>{class n{}return n.NULL=new vm,n})();function Wv(){return Bc(Ye(),x())}function Bc(n,i){return new el(Wr(n,i))}let el=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Wv,n})();function sc(n){return n instanceof el?n.nativeElement:n}class tl{}let _m=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function qv(){const n=x(),o=ui(Ye().index,n);return(wi(o)?o:n)[Me]}(),n})(),wm=(()=>{class n{}return n.\u0275prov=$t({token:n,providedIn:"root",factory:()=>null}),n})();class Em{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const jh=new Em("15.2.9"),Vd={},Hh="ngOriginalError";function Ud(n){return n[Hh]}class $c{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Ud(i);for(;o&&Ud(o);)o=Ud(o);return o||null}}function Ra(n){return n instanceof Function?n():n}function pp(n,i,o){let u=n.length;for(;;){const c=n.indexOf(i,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const f=i.length;if(c+f===u||n.charCodeAt(c+f)<=32)return c}o=c+1}}const rl="ng-template";function jc(n,i,o){let u=0,c=!0;for(;u<n.length;){let f=n[u++];if("string"==typeof f&&c){const y=n[u++];if(o&&"class"===f&&-1!==pp(y.toLowerCase(),i,0))return!0}else{if(1===f){for(;u<n.length&&"string"==typeof(f=n[u++]);)if(f.toLowerCase()===i)return!0;return!1}"number"==typeof f&&(c=!1)}}return!1}function gp(n){return 4===n.type&&n.value!==rl}function oc(n,i,o){return i===(4!==n.type||o?n.value:rl)}function Qv(n,i,o){let u=4;const c=n.attrs||[],f=function Jv(n){for(let i=0;i<n.length;i++)if(cr(n[i]))return i;return n.length}(c);let y=!1;for(let T=0;T<i.length;T++){const P=i[T];if("number"!=typeof P){if(!y)if(4&u){if(u=2|1&u,""!==P&&!oc(n,P,o)||""===P&&1===i.length){if(Go(u))return!1;y=!0}}else{const H=8&u?P:i[++T];if(8&u&&null!==n.attrs){if(!jc(n.attrs,H,o)){if(Go(u))return!1;y=!0}continue}const me=Dm(8&u?"class":P,c,gp(n),o);if(-1===me){if(Go(u))return!1;y=!0;continue}if(""!==H){let ke;ke=me>f?"":c[me+1].toLowerCase();const lt=8&u?ke:null;if(lt&&-1!==pp(lt,H,0)||2&u&&H!==ke){if(Go(u))return!1;y=!0}}}}else{if(!y&&!Go(u)&&!Go(P))return!1;if(y&&Go(P))continue;y=!1,u=P|1&u}}return Go(u)||y}function Go(n){return 0==(1&n)}function Dm(n,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let f=!1;for(;c<i.length;){const y=i[c];if(y===n)return c;if(3===y||6===y)f=!0;else{if(1===y||2===y){let T=i[++c];for(;"string"==typeof T;)T=i[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=f?1:2}return-1}return function Am(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function il(n,i,o=!1){for(let u=0;u<i.length;u++)if(Qv(n,i[u],o))return!0;return!1}function mp(n,i){return n?":not("+i.trim()+")":i}function e_(n){let i=n[0],o=1,u=2,c="",f=!1;for(;o<n.length;){let y=n[o];if("string"==typeof y)if(2&u){const T=n[++o];c+="["+y+(T.length>0?'="'+T+'"':"")+"]"}else 8&u?c+="."+y:4&u&&(c+=" "+y);else""!==c&&!Go(y)&&(i+=mp(f,c),c=""),u=y,f=f||!Go(u);o++}return""!==c&&(i+=mp(f,c)),i}const Or={};function yp(n){xm(O(),x(),Jr()+n,!1)}function xm(n,i,o,u){if(!u)if(3==(3&i[Bn])){const f=n.preOrderCheckHooks;null!==f&&Yo(i,f,o)}else{const f=n.preOrderHooks;null!==f&&Va(i,f,0,o)}qr(o)}function qh(n,i=null,o=null,u){const c=co(n,i,o,u);return c.resolveInjectorInitializers(),c}function co(n,i=null,o=null,u,c=new Set){const f=[o||be,ap(n)];return u=u||("object"==typeof n?void 0:Ae(n)),new bl(f,i||ic(),u||null,c)}let uc=(()=>{class n{static create(o,u){if(Array.isArray(o))return qh({name:""},u,o,"");{const c=o.name??"";return qh({name:c},o.parent,o.providers,c)}}}return n.THROW_IF_NOT_FOUND=pr,n.NULL=new dm,n.\u0275prov=$t({token:n,providedIn:"any",factory:()=>Wt(Uc)}),n.__NG_ELEMENT_ID__=-1,n})();function cc(n,i=Pe.Default){const o=x();return null===o?Wt(n,i):Di(Ye(),o,_e(n),i)}function zm(){throw new Error("invalid")}function Gm(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const f=o[u+1];if(-1!==f){const y=n.data[f];ko(o[u]),y.contentQueries(2,i[f],f)}}}function Hd(n,i,o,u,c,f,y,T,P,H,ne){const me=i.blueprint.slice();return me[ai]=c,me[Bn]=76|u,(null!==ne||n&&1024&n[Bn])&&(me[Bn]|=1024),Bs(me),me[Br]=me[$n]=n,me[mr]=o,me[Re]=y||n&&n[Re],me[Me]=T||n&&n[Me],me[Et]=P||n&&n[Et]||null,me[Fe]=H||n&&n[Fe]||null,me[ci]=f,me[di]=function ql(){return eo++}(),me[Ai]=ne,me[On]=2==i.type?n[On]:me,me}function Al(n,i,o,u,c){let f=n.data[i];if(null===f)f=function Gc(n,i,o,u,c){const f=mn(),y=ps(),P=n.data[i]=function Wo(n,i,o,u,c,f){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,o,i,u,c);return null===n.firstChild&&(n.firstChild=P),null!==f&&(y?null==f.child&&null!==P.parent&&(f.child=P):null===f.next&&(f.next=P,P.prev=f)),P}(n,i,o,u,c),function Zo(){return Nn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=u,f.attrs=c;const y=function Pr(){const n=Nn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return ni(f,!0),f}function sl(n,i,o,u){if(0===o)return-1;const c=i.length;for(let f=0;f<o;f++)i.push(u),n.blueprint.push(u),n.data.push(null);return c}function Wc(n,i,o){go(i);try{const u=n.viewQuery;null!==u&&$p(1,u,o);const c=n.template;null!==c&&Yh(n,i,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Gm(n,i),n.staticViewQueries&&$p(2,n.viewQuery,o);const f=n.components;null!==f&&function Wm(n,i){for(let o=0;o<i.length;o++)tf(n,i[o])}(i,f)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[Bn]&=-5,Lo()}}function qc(n,i,o,u){const c=i[Bn];if(128!=(128&c)){go(i);try{Bs(i),function oo(n){return Nn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Yh(n,i,o,2,u);const y=3==(3&c);if(y){const H=n.preOrderCheckHooks;null!==H&&Yo(i,H,null)}else{const H=n.preOrderHooks;null!==H&&Va(i,H,0,null),S(i,0)}if(function Up(n){for(let i=Ru(n);null!==i;i=Ka(i)){if(!i[rs])continue;const o=i[ds];for(let u=0;u<o.length;u++){const c=o[u];512&c[Bn]||Ks(c[Br],1),c[Bn]|=512}}}(i),function d_(n){for(let i=Ru(n);null!==i;i=Ka(i))for(let o=_i;o<i.length;o++){const u=i[o],c=u[Zt];Ei(u)&&qc(c,u,c.template,u[mr])}}(i),null!==n.contentQueries&&Gm(n,i),y){const H=n.contentCheckHooks;null!==H&&Yo(i,H)}else{const H=n.contentHooks;null!==H&&Va(i,H,1),S(i,1)}!function Sp(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)qr(~c);else{const f=c,y=o[++u],T=o[++u];_a(y,f),T(2,i[f])}}}finally{qr(-1)}}(n,i);const T=n.components;null!==T&&function xp(n,i){for(let o=0;o<i.length;o++)h_(n,i[o])}(i,T);const P=n.viewQuery;if(null!==P&&$p(2,P,u),y){const H=n.viewCheckHooks;null!==H&&Yo(i,H)}else{const H=n.viewHooks;null!==H&&Va(i,H,2),S(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Bn]&=-41,512&i[Bn]&&(i[Bn]&=-513,Ks(i[Br],-1))}finally{Lo()}}}function Yh(n,i,o,u,c){const f=Jr(),y=2&u;try{qr(-1),y&&i.length>xr&&xm(n,i,xr,!1),lr(y?2:0,c),o(u,c)}finally{qr(f),lr(y?3:1,c)}}function zd(n,i,o){if(zi(i)){const c=i.directiveEnd;for(let f=i.directiveStart;f<c;f++){const y=n.data[f];y.contentQueries&&y.contentQueries(1,o[f],f)}}}function Qh(n,i,o){oa()&&(function l_(n,i,o,u){const c=o.directiveStart,f=o.directiveEnd;Gi(o)&&function Vp(n,i,o){const u=Wr(i,n),c=Rp(o),f=n[Re],y=Zd(n,Hd(n,c,null,o.onPush?32:16,u,i,f,f.createRenderer(u,o),null,null,null));n[i.index]=y}(i,o,n.data[c+o.componentOffset]),n.firstCreatePass||Cu(o,i),Te(u,i);const y=o.initialInputs;for(let T=c;T<f;T++){const P=n.data[T],H=Ri(i,n,T,o);Te(H,i),null!==y&&Jm(0,T-c,H,P,0,y),bi(P)&&(ui(o.index,i)[mr]=Ri(i,n,T,o))}}(n,i,o,Wr(o,i)),64==(64&o.flags)&&Zc(n,i,o))}function Mp(n,i,o=Wr){const u=i.localNames;if(null!==u){let c=i.index+1;for(let f=0;f<u.length;f+=2){const y=u[f+1],T=-1===y?o(i,n):n[y];n[c++]=T}}}function Rp(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Kc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Kc(n,i,o,u,c,f,y,T,P,H){const ne=xr+u,me=ne+c,ke=function Pp(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Or);return o}(ne,me),lt="function"==typeof H?H():H;return ke[Zt]={type:n,blueprint:ke,template:o,queries:null,viewQuery:T,declTNode:i,data:ke.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:P,consts:lt,incompleteFirstPass:!1}}function qm(n,i,o,u){const c=jp(i);null===o?c.push(u):(c.push(o),n.firstCreatePass&&Xm(n).push(u,c.length-1))}function Km(n,i,o,u){for(let c in n)if(n.hasOwnProperty(c)){o=null===o?{}:o;const f=n[c];null===u?Op(o,i,c,f):u.hasOwnProperty(c)&&Op(o,i,u[c],f)}return o}function Op(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function sa(n,i,o,u,c,f,y,T){const P=Wr(i,o);let ne,H=i.inputs;!T&&null!=H&&(ne=H[u])?(Yd(n,o,ne,u,c),Gi(i)&&function Zm(n,i){const o=ui(i,n);16&o[Bn]||(o[Bn]|=32)}(o,i.index)):3&i.type&&(u=function Gd(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),c=null!=y?y(c,i.value||"",u):c,f.setProperty(P,u,c))}function Np(n,i,o,u){if(oa()){const c=null===u?null:{"":-1},f=function Yc(n,i){const o=n.directiveRegistry;let u=null,c=null;if(o)for(let f=0;f<o.length;f++){const y=o[f];if(il(i,y.selectors,!1))if(u||(u=[]),bi(y))if(null!==y.findHostDirectiveDefs){const T=[];c=c||new Map,y.findHostDirectiveDefs(y,T,c),u.unshift(...T,y),Wd(n,i,T.length)}else u.unshift(y),Wd(n,i,0);else c=c||new Map,y.findHostDirectiveDefs?.(y,u,c),u.push(y)}return null===u?null:[u,c]}(n,o);let y,T;null===f?y=T=null:[y,T]=f,null!==y&&Ym(n,i,o,y,c,T),c&&function Xh(n,i,o){if(i){const u=n.localNames=[];for(let c=0;c<i.length;c+=2){const f=o[i[c+1]];if(null==f)throw new ot(-301,!1);u.push(i[c],f)}}}(o,u,c)}o.mergedAttrs=Es(o.mergedAttrs,o.attrs)}function Ym(n,i,o,u,c,f){for(let H=0;H<u.length;H++)wa(Cu(o,i),n,u[H].type);!function Lp(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let H=0;H<u.length;H++){const ne=u[H];ne.providersResolver&&ne.providersResolver(ne)}let y=!1,T=!1,P=sl(n,i,u.length,null);for(let H=0;H<u.length;H++){const ne=u[H];o.mergedAttrs=Es(o.mergedAttrs,ne.hostAttrs),Qm(n,o,i,P,ne),qd(P,ne,c),null!==ne.contentQueries&&(o.flags|=4),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(o.flags|=64);const me=ne.type.prototype;!y&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),y=!0),!T&&(me.ngOnChanges||me.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),T=!0),P++}!function Jh(n,i,o){const c=i.directiveEnd,f=n.data,y=i.attrs,T=[];let P=null,H=null;for(let ne=i.directiveStart;ne<c;ne++){const me=f[ne],ke=o?o.get(me):null,xt=ke?ke.outputs:null;P=Km(me.inputs,ne,P,ke?ke.inputs:null),H=Km(me.outputs,ne,H,xt);const sn=null===P||null===y||gp(i)?null:c_(P,ne,y);T.push(sn)}null!==P&&(P.hasOwnProperty("class")&&(i.flags|=8),P.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=T,i.inputs=P,i.outputs=H}(n,o,f)}function Zc(n,i,o){const u=o.directiveStart,c=o.directiveEnd,f=o.index,y=function Fa(){return Nn.lFrame.currentDirectiveIndex}();try{qr(f);for(let T=u;T<c;T++){const P=n.data[T],H=i[T];ri(T),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Fp(P,H)}}finally{qr(-1),ri(y)}}function Fp(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Wd(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function qd(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;bi(i)&&(o[""]=n)}}function Qm(n,i,o,u,c){n.data[u]=c;const f=c.factory||(c.factory=Le(c.type)),y=new ye(f,bi(c),cc);n.blueprint[u]=y,o[u]=y,function kp(n,i,o,u,c){const f=c.hostBindings;if(f){let y=n.hostBindingOpCodes;null===y&&(y=n.hostBindingOpCodes=[]);const T=~i.index;(function u_(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=T&&y.push(T),y.push(o,u,f)}}(n,i,u,sl(n,o,c.hostVars,Or),c)}function Za(n,i,o,u,c,f){const y=Wr(n,i);!function Vu(n,i,o,u,c,f,y){if(null==f)n.removeAttribute(i,c,o);else{const T=null==y?mt(f):y(f,u||"",c);n.setAttribute(i,c,T,o)}}(i[Me],y,f,n.value,o,u,c)}function Jm(n,i,o,u,c,f){const y=f[i];if(null!==y){const T=u.setInput;for(let P=0;P<y.length;){const H=y[P++],ne=y[P++],me=y[P++];null!==T?u.setInput(o,me,H,ne):o[ne]=me}}}function c_(n,i,o){let u=null,c=0;for(;c<o.length;){const f=o[c];if(0!==f)if(5!==f){if("number"==typeof f)break;if(n.hasOwnProperty(f)){null===u&&(u=[]);const y=n[f];for(let T=0;T<y.length;T+=2)if(y[T]===i){u.push(f,y[T+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return u}function ef(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function h_(n,i){const o=ui(i,n);if(Ei(o)){const u=o[Zt];48&o[Bn]?qc(u,o,u.template,o[mr]):o[Yr]>0&&Kd(o)}}function Kd(n){for(let u=Ru(n);null!==u;u=Ka(u))for(let c=_i;c<u.length;c++){const f=u[c];if(Ei(f))if(512&f[Bn]){const y=f[Zt];qc(y,f,y.template,f[mr])}else f[Yr]>0&&Kd(f)}const o=n[Zt].components;if(null!==o)for(let u=0;u<o.length;u++){const c=ui(o[u],n);Ei(c)&&c[Yr]>0&&Kd(c)}}function tf(n,i){const o=ui(i,n),u=o[Zt];(function Bp(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Wc(u,o,o[mr])}function Zd(n,i){return n[Ot]?n[xn][br]=i:n[Ot]=i,n[xn]=i,i}function ol(n){for(;n;){n[Bn]|=32;const i=xc(n);if(hs(n)&&!i)return n;n=i}return null}function Qc(n,i,o,u=!0){const c=i[Re];c.begin&&c.begin();try{qc(n,i,n.template,o)}catch(y){throw u&&ey(i,y),y}finally{c.end&&c.end()}}function $p(n,i,o){ko(0),i(n,o)}function jp(n){return n[ji]||(n[ji]=[])}function Xm(n){return n.cleanup||(n.cleanup=[])}function ey(n,i){const o=n[Fe],u=o?o.get($c,null):null;u&&u.handleError(i)}function Yd(n,i,o,u,c){for(let f=0;f<o.length;){const y=o[f++],T=o[f++],P=i[y],H=n.data[y];null!==H.setInput?H.setInput(P,c,u,T):P[T]=c}}function Jc(n,i,o){let u=o?n.styles:null,c=o?n.classes:null,f=0;if(null!==i)for(let y=0;y<i.length;y++){const T=i[y];"number"==typeof T?f=T:1==f?c=ve(c,T):2==f&&(u=ve(u,T+": "+i[++y]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=c:n.classesWithoutHost=c}function rf(n,i,o,u,c=!1){for(;null!==o;){const f=i[o.index];if(null!==f&&u.push(Fr(f)),Hi(f))for(let T=_i;T<f.length;T++){const P=f[T],H=P[Zt].firstChild;null!==H&&rf(P[Zt],P,H,u)}const y=o.type;if(8&y)rf(n,i,o.child,u);else if(32&y){const T=zo(o,i);let P;for(;P=T();)u.push(P)}else if(16&y){const T=Cr(i,o);if(Array.isArray(T))u.push(...T);else{const P=xc(i[On]);rf(P[Zt],P,T,u,!0)}}o=c?o.projectionNext:o.next}return u}class dc{get rootNodes(){const i=this._lView,o=i[Zt];return rf(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mr]}set context(i){this._lView[mr]=i}get destroyed(){return 128==(128&this._lView[Bn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Br];if(Hi(i)){const o=i[is],u=o?o.indexOf(this):-1;u>-1&&(z(i,u),js(o,u))}this._attachedToViewContainer=!1}oe(this._lView[Zt],this._lView)}onDestroy(i){qm(this._lView[Zt],this._lView,null,i)}markForCheck(){ol(this._cdRefInjectingView||this._lView)}detach(){this._lView[Bn]&=-65}reattach(){this._lView[Bn]|=64}detectChanges(){Qc(this._lView[Zt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ot(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sh(n,i){Rc(n,i,i[Me],2,null,null)}(this._lView[Zt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ot(902,!1);this._appRef=i}}class ty extends dc{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Qc(i[Zt],i,i[mr],!1)}checkNoChanges(){}get context(){return null}}class sf extends Ld{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Cn(i);return new Ya(o,this.ngModule)}}function af(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Xc{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=$e(u);const c=this.injector.get(i,Vd,u);return c!==Vd||o===Vd?c:this.parentInjector.get(i,o,u)}}class Ya extends kd{get inputs(){return af(this.componentDef.inputs)}get outputs(){return af(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Wh(n){return n.map(e_).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,c){let f=(c=c||this.ngModule)instanceof Ma?c:c?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new Xc(i,f):i,T=y.get(tl,null);if(null===T)throw new ot(407,!1);const P=y.get(wm,null),H=T.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",me=u?function o_(n,i,o){return n.selectRootElement(i,o===ie.ShadowDom)}(H,u,this.componentDef.encapsulation):xa(H,ne,function Hp(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(ne)),ke=this.componentDef.onPush?288:272,lt=Kc(0,null,null,1,0,null,null,null,null,null),xt=Hd(null,lt,null,ke,null,null,T,H,P,y,null);let sn,Mn;go(xt);try{const qn=this.componentDef;let wr,Ht=null;qn.findHostDirectiveDefs?(wr=[],Ht=new Map,qn.findHostDirectiveDefs(qn,wr,Ht),wr.push(qn)):wr=[qn];const Lr=function ed(n,i){const o=n[Zt],u=xr;return n[u]=i,Al(o,u,2,"#host",null)}(xt,me),Ns=function ny(n,i,o,u,c,f,y,T){const P=c[Zt];!function td(n,i,o,u){for(const c of n)i.mergedAttrs=Es(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(Jc(i,i.mergedAttrs,!0),null!==o&&El(u,o,i))}(u,n,i,y);const H=f.createRenderer(i,o),ne=Hd(c,Rp(o),null,o.onPush?32:16,c[n.index],n,f,H,T||null,null,null);return P.firstCreatePass&&Wd(P,n,u.length-1),Zd(c,ne),c[n.index]=ne}(Lr,me,qn,wr,xt,T,H);Mn=Vs(lt,xr),me&&function g_(n,i,o,u){if(u)gt(n,o,["ng-version",jh.full]);else{const{attrs:c,classes:f}=function Sm(n){const i=[],o=[];let u=1,c=2;for(;u<n.length;){let f=n[u];if("string"==typeof f)2===c?""!==f&&i.push(f,n[++u]):8===c&&o.push(f);else{if(!Go(c))break;c=f}u++}return{attrs:i,classes:o}}(i.selectors[0]);c&&gt(n,o,c),f&&f.length>0&&Xl(n,o,f.join(" "))}}(H,qn,me,u),void 0!==o&&function Gp(n,i,o){const u=n.projection=[];for(let c=0;c<i.length;c++){const f=o[c];u.push(null!=f?Array.from(f):null)}}(Mn,this.ngContentSelectors,o),sn=function p_(n,i,o,u,c,f){const y=Ye(),T=c[Zt],P=Wr(y,c);Ym(T,c,y,o,null,u);for(let ne=0;ne<o.length;ne++)Te(Ri(c,T,y.directiveStart+ne,y),c);Zc(T,c,y),P&&Te(P,c);const H=Ri(c,T,y.directiveStart+y.componentOffset,y);if(n[mr]=c[mr]=H,null!==f)for(const ne of f)ne(H,i);return zd(T,y,n),H}(Ns,qn,wr,Ht,xt,[Wp]),Wc(lt,xt,null)}finally{Lo()}return new zp(this.componentType,sn,Bc(Mn,xt),xt,Mn)}}class zp extends ym{constructor(i,o,u,c,f){super(),this.location=u,this._rootLView=c,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new ty(c),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[i])){const f=this._rootLView;Yd(f[Zt],f,c,i,o),ol(ui(this._tNode.index,f))}}get injector(){return new Xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Wp(){const n=Ye();aa(x()[Zt],n)}function Jd(n){let i=function uf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let c;if(bi(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ot(903,!1);c=i.\u0275dir}if(c){if(o){u.push(c);const y=n;y.inputs=qp(n.inputs),y.declaredInputs=qp(n.declaredInputs),y.outputs=qp(n.outputs);const T=c.hostBindings;T&&y_(n,T);const P=c.viewQuery,H=c.contentQueries;if(P&&Kp(n,P),H&&Zp(n,H),Oe(n.inputs,c.inputs),Oe(n.declaredInputs,c.declaredInputs),Oe(n.outputs,c.outputs),bi(c)&&c.data.animation){const ne=n.data;ne.animation=(ne.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let y=0;y<f.length;y++){const T=f[y];T&&T.ngInherit&&T(n),T===Jd&&(o=!1)}}i=Object.getPrototypeOf(i)}!function m_(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const c=n[u];c.hostVars=i+=c.hostVars,c.hostAttrs=Es(c.hostAttrs,o=Es(o,c.hostAttrs))}}(u)}function qp(n){return n===Z?{}:n===be?[]:n}function Kp(n,i){const o=n.viewQuery;n.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function Zp(n,i){const o=n.contentQueries;n.contentQueries=o?(u,c,f)=>{i(u,c,f),o(u,c,f)}:i}function y_(n,i){const o=n.hostBindings;n.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}function nd(n){return!!eg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function eg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function So(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function eh(n,i,o,u){const c=x();return So(c,$s(),i)&&(O(),Za(Xr(),c,n,i,o,u)),eh}function Sl(n,i,o,u){return So(n,$s(),o)?i+mt(o)+u:Or}function cy(n,i,o,u,c,f,y,T){const P=x(),H=O(),ne=n+xr,me=H.firstCreatePass?function rg(n,i,o,u,c,f,y,T,P){const H=i.consts,ne=Al(i,n,4,y||null,as(H,T));Np(i,o,ne,as(H,P)),aa(i,ne);const me=ne.tView=Kc(2,ne,u,c,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,H);return null!==i.queries&&(i.queries.template(i,ne),me.queries=i.queries.embeddedTView(ne)),ne}(ne,H,P,i,o,u,c,f,y):H.data[ne];ni(me,!1);const ke=P[Me].createComment("");Jl(H,P,ke,me),Te(ke,P),Zd(P,P[ne]=ef(ke,P,ke,me)),Si(me)&&Qh(H,P,me),null!=y&&Mp(P,me,T)}function dy(n){return hi(function _s(){return Nn.lFrame.contextLView}(),xr+n)}function th(n,i,o){const u=x();return So(u,$s(),i)&&sa(O(),Xr(),u,n,i,u[Me],o,!1),th}function sg(n,i,o,u,c){const y=c?"class":"style";Yd(n,o,i.inputs[y],y,u)}function nh(n,i,o,u){const c=x(),f=O(),y=xr+n,T=c[Me],P=f.firstCreatePass?function og(n,i,o,u,c,f){const y=i.consts,P=Al(i,n,2,u,as(y,c));return Np(i,o,P,as(y,f)),null!==P.attrs&&Jc(P,P.attrs,!1),null!==P.mergedAttrs&&Jc(P,P.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,P),P}(y,f,c,i,o,u):f.data[y],H=c[y]=xa(T,i,function Zi(){return Nn.lFrame.currentNamespace}()),ne=Si(P);return ni(P,!0),El(T,H,P),32!=(32&P.flags)&&Jl(f,c,H,P),0===function Po(){return Nn.lFrame.elementDepthCount}()&&Te(H,c),function xs(){Nn.lFrame.elementDepthCount++}(),ne&&(Qh(f,c,P),zd(f,P,c)),null!==u&&Mp(c,P),nh}function od(){let n=Ye();ps()?function Ms(){Nn.lFrame.isParent=!1}():(n=n.parent,ni(n,!1));const i=n;!function fs(){Nn.lFrame.elementDepthCount--}();const o=O();return o.firstCreatePass&&(aa(o,n),zi(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Ge(n){return 0!=(8&n.flags)}(i)&&sg(o,i,x(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function qt(n){return 0!=(16&n.flags)}(i)&&sg(o,i,x(),i.stylesWithoutHost,!1),od}function ff(n,i,o,u){return nh(n,i,o,u),od(),ff}function pf(){return x()}function ih(n){return!!n&&"function"==typeof n.then}function gf(n){return!!n&&"function"==typeof n.subscribe}const fy=gf;function fc(n,i,o,u){const c=x(),f=O(),y=Ye();return function lg(n,i,o,u,c,f,y){const T=Si(u),H=n.firstCreatePass&&Xm(n),ne=i[mr],me=jp(i);let ke=!0;if(3&u.type||y){const sn=Wr(u,i),Mn=y?y(sn):sn,qn=me.length,wr=y?Lr=>y(Fr(Lr[u.index])):u.index;let Ht=null;if(!y&&T&&(Ht=function ug(n,i,o,u){const c=n.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const y=c[f];if(y===o&&c[f+1]===u){const T=i[ji],P=c[f+2];return T.length>P?T[P]:null}"string"==typeof y&&(f+=2)}return null}(n,i,c,u.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=f,Ht.__ngLastListenerFn__=f,ke=!1;else{f=cg(u,i,ne,f,!1);const Lr=o.listen(Mn,c,f);me.push(f,Lr),H&&H.push(c,wr,qn,qn+1)}}else f=cg(u,i,ne,f,!1);const lt=u.outputs;let xt;if(ke&&null!==lt&&(xt=lt[c])){const sn=xt.length;if(sn)for(let Mn=0;Mn<sn;Mn+=2){const Ns=i[xt[Mn]][xt[Mn+1]].subscribe(f),fo=me.length;me.push(f,Ns),H&&H.push(c,u.index,fo,-(fo+1))}}}(f,c,c[Me],y,n,i,u),fc}function pc(n,i,o,u){try{return lr(6,i,o),!1!==o(u)}catch(c){return ey(n,c),!1}finally{lr(7,i,o)}}function cg(n,i,o,u,c){return function f(y){if(y===Function)return u;ol(n.componentOffset>-1?ui(n.index,i):i);let P=pc(i,o,u,y),H=f.__ngNextListenerFn__;for(;H;)P=pc(i,o,H,y)&&P,H=H.__ngNextListenerFn__;return c&&!1===P&&(y.preventDefault(),y.returnValue=!1),P}}function sh(n=1){return function Co(n){return(Nn.lFrame.contextLView=function gs(n,i){for(;n>0;)i=i[$n],n--;return i}(n,Nn.lFrame.contextLView))[mr]}(n)}function dg(n,i,o){return ad(n,"",i,"",o),dg}function ad(n,i,o,u,c){const f=x(),y=Sl(f,i,o,u);return y!==Or&&sa(O(),Xr(),f,n,y,f[Me],c,!1),ad}function ah(n,i){return n<<17|i<<2}function yu(n){return n>>17&32767}function If(n){return 2|n}function Ja(n){return(131068&n)>>2}function uh(n,i){return-131069&n|i<<2}function pg(n){return 1|n}function yy(n,i,o,u,c){const f=n[o+1],y=null===i;let T=u?yu(f):Ja(f),P=!1;for(;0!==T&&(!1===P||y);){const ne=n[T+1];S_(n[T],i)&&(P=!0,n[T+1]=u?pg(ne):If(ne)),T=u?yu(ne):Ja(ne)}P&&(n[o+1]=u?If(f):pg(f))}function S_(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&v(n,i)>=0}function Xa(n,i){return function Pa(n,i,o,u){const c=x(),f=O(),y=function ws(n){const i=Nn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}(2);f.firstUpdatePass&&function by(n,i,o,u){const c=n.data;if(null===c[o+1]){const f=c[Jr()],y=function Df(n,i){return i>=n.expandoStartIndex}(n,o);(function Sy(n,i){return 0!=(n.flags&(i?8:16))})(f,u)&&null===i&&!y&&(i=!1),i=function M_(n,i,o,u){const c=function No(n){const i=Nn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let f=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=ud(o=Cs(null,n,i,o,u),i.attrs,u),f=null);else{const y=i.directiveStylingLast;if(-1===y||n[y]!==c)if(o=Cs(c,n,i,o,u),null===f){let P=function cs(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Ja(u))return n[yu(u)]}(n,i,u);void 0!==P&&Array.isArray(P)&&(P=Cs(null,n,i,P[1],u),P=ud(P,i.attrs,u),function Jw(n,i,o,u){n[yu(o?i.classBindings:i.styleBindings)]=u}(n,i,u,P))}else f=function Xw(n,i,o){let u;const c=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<c;f++)u=ud(u,n[f].hostAttrs,o);return ud(u,i.attrs,o)}(n,i,u)}return void 0!==f&&(u?i.residualClasses=f:i.residualStyles=f),o}(c,f,i,u),function A_(n,i,o,u,c,f){let y=f?i.classBindings:i.styleBindings,T=yu(y),P=Ja(y);n[u]=o;let ne,H=!1;if(Array.isArray(o)?(ne=o[1],(null===ne||v(o,ne)>0)&&(H=!0)):ne=o,c)if(0!==P){const ke=yu(n[T+1]);n[u+1]=ah(ke,T),0!==ke&&(n[ke+1]=uh(n[ke+1],u)),n[T+1]=function fg(n,i){return 131071&n|i<<17}(n[T+1],u)}else n[u+1]=ah(T,0),0!==T&&(n[T+1]=uh(n[T+1],u)),T=u;else n[u+1]=ah(P,0),0===T?T=u:n[P+1]=uh(n[P+1],u),P=u;H&&(n[u+1]=If(n[u+1])),yy(n,ne,u,!0),yy(n,ne,u,!1),function my(n,i,o,u,c){const f=c?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof i&&v(f,i)>=0&&(o[u+1]=pg(o[u+1]))}(i,ne,n,u,f),y=ah(T,P),f?i.classBindings=y:i.styleBindings=y}(c,f,i,o,y,u)}}(f,n,y,u),i!==Or&&So(c,y,i)&&function Ty(n,i,o,u,c,f,y,T){if(!(3&i.type))return;const P=n.data,H=P[T+1],ne=function D_(n){return 1==(1&n)}(H)?Ay(P,i,o,c,Ja(H),y):void 0;Tf(ne)||(Tf(f)||function gy(n){return 2==(2&n)}(H)&&(f=Ay(P,null,o,c,T,y)),function Ov(n,i,o,u,c){if(i)c?n.addClass(o,u):n.removeClass(o,u);else{let f=-1===u.indexOf("-")?void 0:vo.DashCase;null==c?n.removeStyle(o,u,f):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=vo.Important),n.setStyle(o,u,c,f))}}(u,y,Vr(Jr(),o),c,f))}(f,f.data[Jr()],c,c[Me],n,c[y+1]=function e0(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ae(Ju(n)))),n}(i,o),u,y)}(n,i,null,!0),Xa}function Cs(n,i,o,u,c){let f=null;const y=o.directiveEnd;let T=o.directiveStylingLast;for(-1===T?T=o.directiveStart:T++;T<y&&(f=i[T],u=ud(u,f.hostAttrs,c),f!==n);)T++;return null!==n&&(o.directiveStylingLast=T),u}function ud(n,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let f=0;f<i.length;f++){const y=i[f];"number"==typeof y?c=y:c===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),uo(n,y,!!o||i[++f]))}return void 0===n?null:n}function Ay(n,i,o,u,c,f){const y=null===i;let T;for(;c>0;){const P=n[c],H=Array.isArray(P),ne=H?P[1]:P,me=null===ne;let ke=o[c+1];ke===Or&&(ke=me?be:void 0);let lt=me?Ha(ke,u):ne===u?ke:void 0;if(H&&!Tf(lt)&&(lt=Ha(P,u)),Tf(lt)&&(T=lt,y))return T;const xt=n[c+1];c=y?yu(xt):Ja(xt)}if(null!==i){let P=f?i.residualClasses:i.residualStyles;null!=P&&(T=Ha(P,u))}return T}function Tf(n){return void 0!==n}function xy(n,i=""){const o=x(),u=O(),c=n+xr,f=u.firstCreatePass?Al(u,c,1,i,null):u.data[c],y=o[c]=function _l(n,i){return n.createText(i)}(o[Me],i);Jl(u,o,y,f),ni(f,!1)}function Ol(n,i,o){const u=x(),c=Sl(u,n,i,o);return c!==Or&&function al(n,i,o){const u=Vr(i,n);!function Id(n,i,o){n.setValue(i,o)}(n[Me],u,o)}(u,Jr(),c),Ol}const Iu=void 0;var gh=["en",[["a","p"],["AM","PM"],Iu],[["AM","PM"],Iu,Iu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Iu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Iu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Iu,"{1} 'at' {0}",Iu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kl(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let dd={};function $y(n){const i=function V_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=jy(i);if(o)return o;const u=i.split("-")[0];if(o=jy(u),o)return o;if("en"===u)return gh;throw new ot(701,!1)}function Rf(n){return $y(n)[fr.PluralCase]}function jy(n){return n in dd||(dd[n]=tn.ng&&tn.ng.common&&tn.ng.common.locales&&tn.ng.common.locales[n]),dd[n]}var fr=(()=>((fr=fr||{})[fr.LocaleId=0]="LocaleId",fr[fr.DayPeriodsFormat=1]="DayPeriodsFormat",fr[fr.DayPeriodsStandalone=2]="DayPeriodsStandalone",fr[fr.DaysFormat=3]="DaysFormat",fr[fr.DaysStandalone=4]="DaysStandalone",fr[fr.MonthsFormat=5]="MonthsFormat",fr[fr.MonthsStandalone=6]="MonthsStandalone",fr[fr.Eras=7]="Eras",fr[fr.FirstDayOfWeek=8]="FirstDayOfWeek",fr[fr.WeekendRange=9]="WeekendRange",fr[fr.DateFormat=10]="DateFormat",fr[fr.TimeFormat=11]="TimeFormat",fr[fr.DateTimeFormat=12]="DateTimeFormat",fr[fr.NumberSymbols=13]="NumberSymbols",fr[fr.NumberFormats=14]="NumberFormats",fr[fr.CurrencyCode=15]="CurrencyCode",fr[fr.CurrencySymbol=16]="CurrencySymbol",fr[fr.CurrencyName=17]="CurrencyName",fr[fr.Currencies=18]="Currencies",fr[fr.Directionality=19]="Directionality",fr[fr.PluralCase=20]="PluralCase",fr[fr.ExtraData=21]="ExtraData",fr))();const hd="en-US";let Tg=hd;function Eh(n,i,o,u,c){if(n=_e(n),Array.isArray(n))for(let f=0;f<n.length;f++)Eh(n[f],i,o,u,c);else{const f=O(),y=x();let T=rc(n)?n:_e(n.provide),P=Bh(n);const H=Ye(),ne=1048575&H.providerIndexes,me=H.directiveStart,ke=H.providerIndexes>>20;if(rc(n)||!n.multi){const lt=new ye(P,c,cc),xt=vc(T,i,c?ne:ne+ke,me);-1===xt?(wa(Cu(H,y),f,T),jf(f,n,i.length),i.push(T),H.directiveStart++,H.directiveEnd++,c&&(H.providerIndexes+=1048576),o.push(lt),y.push(lt)):(o[xt]=lt,y[xt]=lt)}else{const lt=vc(T,i,ne+ke,me),xt=vc(T,i,ne,ne+ke),Mn=xt>=0&&o[xt];if(c&&!Mn||!c&&!(lt>=0&&o[lt])){wa(Cu(H,y),f,T);const qn=function uv(n,i,o,u,c){const f=new ye(n,o,cc);return f.multi=[],f.index=i,f.componentProviders=0,Lg(f,c,u&&!o),f}(c?cw:Vg,o.length,c,u,P);!c&&Mn&&(o[xt].providerFactory=qn),jf(f,n,i.length,0),i.push(T),H.directiveStart++,H.directiveEnd++,c&&(H.providerIndexes+=1048576),o.push(qn),y.push(qn)}else jf(f,n,lt>-1?lt:xt,Lg(o[c?xt:lt],P,!c&&u));!c&&u&&Mn&&o[xt].componentProviders++}}}function jf(n,i,o,u){const c=rc(i),f=function fm(n){return!!n.useClass}(i);if(c||f){const P=(f?_e(i.useClass):i).prototype.ngOnDestroy;if(P){const H=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const ne=H.indexOf(o);-1===ne?H.push(o,[u,P]):H[ne+1].push(u,P)}else H.push(o,P)}}}function Lg(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function vc(n,i,o,u){for(let c=o;c<u;c++)if(i[c]===n)return c;return-1}function Vg(n,i,o,u){return Ug(this.multi,[])}function cw(n,i,o,u){const c=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,T=Ri(o,o[Zt],this.providerFactory.index,u);f=T.slice(0,y),Ug(c,f);for(let P=y;P<T.length;P++)f.push(T[P])}else f=[],Ug(c,f);return f}function Ug(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Ih(n,i=[]){return o=>{o.providersResolver=(u,c)=>function lw(n,i,o){const u=O();if(u.firstCreatePass){const c=bi(n);Eh(o,u.data,u.blueprint,c,!0),Eh(i,u.data,u.blueprint,c,!1)}}(u,c?c(n):n,i)}}class pd{}class Bg{}function lv(n,i){return new Na(n,i??null)}class Na extends pd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sf(this);const u=Zr(i);this._bootstrapComponents=Ra(u.bootstrap),this._r3Injector=co(i,o,[{provide:pd,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],Ae(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class xo extends Bg{constructor(i){super(),this.moduleType=i}create(i){return new Na(this.moduleType,i)}}class cv extends pd{constructor(i,o,u){super(),this.componentFactoryResolver=new sf(this),this.instance=null;const c=new bl([...i,{provide:pd,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],o||ic(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Hf(n,i,o=null){return new cv(n,i,o).injector}let bh=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=up(0,o.type),c=u.length>0?Hf([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=$t({token:n,providedIn:"environment",factory:()=>new n(Wt(Ma))}),n})();function md(n){n.getStandaloneInjector=i=>i.get(bh).getOrCreateStandaloneInjector(n)}function mv(n,i,o,u){return wv(x(),mi(),n,i,o,u)}function wv(n,i,o,u,c,f){const y=i+o;return So(n,y,c)?function Uu(n,i,o){return n[i]=o}(n,y+1,f?u.call(f,c):u(c)):function Ch(n,i){const o=n[i];return o===Or?void 0:o}(n,y+1)}function bv(n,i){const o=O();let u;const c=n+xr;o.firstCreatePass?(u=function r(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const f=u.factory||(u.factory=Le(u.type)),y=Gn(cc);try{const T=Fi(!1),P=f();return Fi(T),function ig(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,x(),c,P),P}finally{Gn(y)}}function t(n,i,o){const u=n+xr,c=x(),f=hi(c,u);return function C(n,i){return n[Zt].data[i].pure}(c,u)?wv(c,mi(),i,f.transform,o,f):f.transform(o)}function $(n){return i=>{setTimeout(n,void 0,i)}}const ee=class F extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let c=i,f=o||(()=>null),y=u;if(i&&"object"==typeof i){const P=i;c=P.next?.bind(P),f=P.error?.bind(P),y=P.complete?.bind(P)}this.__isAsync&&(f=$(f),c&&(c=$(c)),y&&(y=$(y)));const T=super.subscribe({next:c,error:f,complete:y});return i instanceof W.w0&&i.add(T),T}};function Ee(){return this._results[Symbol.iterator]()}class rt{get changes(){return this._changes||(this._changes=new ee)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=rt.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Ee)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=function li(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function su(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let c=n[u],f=i[u];if(o&&(c=o(c),f=o(f)),f!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ct=(()=>{class n{}return n.__NG_ELEMENT_ID__=Rn,n})();const Yt=Ct,Tn=class extends Yt{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,c=Hd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);c[er]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Hr];return null!==y&&(c[Hr]=y.createEmbeddedView(u)),Wc(u,c,i),new dc(c)}};function Rn(){return Dr(Ye(),x())}function Dr(n,i){return 4&n.type?new Tn(i,n,Bc(n,i)):null}let ei=(()=>{class n{}return n.__NG_ELEMENT_ID__=Nr,n})();function Nr(){return Bl(Ye(),x())}const Ts=ei,Qi=class extends Ts{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Bc(this._hostTNode,this._hostLView)}get injector(){return new Xo(this._hostTNode,this._hostLView)}get parentInjector(){const i=Mi(this._hostTNode,this._hostLView);if(cn(i)){const o=at(i,this._hostLView),u=Qs(i);return new Xo(o[Zt].data[u+8],o)}return new Xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=qi(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-_i}createEmbeddedView(i,o,u){let c,f;"number"==typeof u?c=u:null!=u&&(c=u.index,f=u.injector);const y=i.createEmbeddedView(o||{},f);return this.insert(y,c),y}createComponent(i,o,u,c,f){const y=i&&!function ca(n){return"function"==typeof n}(i);let T;if(y)T=o;else{const me=o||{};T=me.index,u=me.injector,c=me.projectableNodes,f=me.environmentInjector||me.ngModuleRef}const P=y?i:new Ya(Cn(i)),H=u||this.parentInjector;if(!f&&null==P.ngModule){const ke=(y?H:this.parentInjector).get(Ma,null);ke&&(f=ke)}const ne=P.create(H,c,void 0,f);return this.insert(ne.hostView,T),ne}insert(i,o){const u=i._lView,c=u[Zt];if(function qo(n){return Hi(n[Br])}(u)){const ne=this.indexOf(i);if(-1!==ne)this.detach(ne);else{const me=u[Br],ke=new Qi(me,me[ci],me[Br]);ke.detach(ke.indexOf(i))}}const f=this._adjustIndex(o),y=this._lContainer;!function d(n,i,o,u){const c=_i+u,f=o.length;u>0&&(o[c-1][br]=i),u<f-_i?(i[br]=o[c],ou(o,_i+u,i)):(o.push(i),i[br]=null),i[Br]=o;const y=i[er];null!==y&&o!==y&&function g(n,i){const o=n[ds];i[On]!==i[Br][Br][On]&&(n[rs]=!0),null===o?n[ds]=[i]:o.push(i)}(y,i);const T=i[Hr];null!==T&&T.insertView(n),i[Bn]|=64}(c,u,y,f);const T=Dd(f,y),P=u[Me],H=zs(P,y[Xi]);return null!==H&&function wl(n,i,o,u,c,f){u[ai]=c,u[ci]=i,Rc(n,u,o,1,c,f)}(c,y[ci],P,u,H,T),i.attachToViewContainerRef(),ou(Io(y),f,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=qi(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=z(this._lContainer,o);u&&(js(Io(this._lContainer),o),oe(u[Zt],u))}detach(i){const o=this._adjustIndex(i,-1),u=z(this._lContainer,o);return u&&null!=js(Io(this._lContainer),o)?new dc(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function qi(n){return n[is]}function Io(n){return n[is]||(n[is]=[])}function Bl(n,i){let o;const u=i[n.index];if(Hi(u))o=u;else{let c;if(8&n.type)c=Fr(u);else{const f=i[Me];c=f.createComment("");const y=Wr(n,i);Tr(f,zs(f,y),c,function Cd(n,i){return n.nextSibling(i)}(f,y),!1)}i[n.index]=o=ef(u,i,c,n),Zd(i,o)}return new Qi(o,n,i)}class Wf{constructor(i){this.queryList=i,this.matches=null}clone(){return new Wf(this.queryList)}setDirty(){this.queryList.setDirty()}}class _w{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let f=0;f<u;f++){const y=o.getByIndex(f);c.push(this.queries[y.indexInDeclarationView].clone())}return new _w(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==_0(i,o).matches&&this.queries[o].setDirty()}}class h0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class ww{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,f=this.getByIndex(u).embeddedTView(i,c);f&&(f.indexInDeclarationView=u,null!==o?o.push(f):o=[f])}return null!==o?new ww(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Ew{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Ew(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const f=u[c];this.matchTNodeWithReadOption(i,o,yE(o,f)),this.matchTNodeWithReadOption(i,o,tr(o,i,f,!1,!1))}else u===Ct?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,tr(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===el||c===ei||c===Ct&&4&o.type)this.addMatch(o.index,-2);else{const f=tr(o,i,c,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function yE(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function _E(n,i,o,u){return-1===o?function vE(n,i){return 11&n.type?Bc(n,i):4&n.type?Dr(n,i):null}(i,n):-2===o?function wE(n,i,o){return o===el?Bc(i,n):o===Ct?Dr(i,n):o===ei?Bl(i,n):void 0}(n,i,u):Ri(n,n[Zt],o,i)}function f0(n,i,o,u){const c=i[Hr].queries[u];if(null===c.matches){const f=n.data,y=o.matches,T=[];for(let P=0;P<y.length;P+=2){const H=y[P];T.push(H<0?null:_E(i,f[H],y[P+1],o.metadata.read))}c.matches=T}return c.matches}function Iw(n,i,o,u){const c=n.queries.getByIndex(o),f=c.matches;if(null!==f){const y=f0(n,i,c,o);for(let T=0;T<f.length;T+=2){const P=f[T];if(P>0)u.push(y[T/2]);else{const H=f[T+1],ne=i[-P];for(let me=_i;me<ne.length;me++){const ke=ne[me];ke[er]===ke[Br]&&Iw(ke[Zt],ke,H,u)}if(null!==ne[ds]){const me=ne[ds];for(let ke=0;ke<me.length;ke++){const lt=me[ke];Iw(lt[Zt],lt,H,u)}}}}}return u}function p0(n){const i=x(),o=O(),u=ts();ko(u+1);const c=_0(o,u);if(n.dirty&&function Us(n){return 4==(4&n[Bn])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const f=c.crossesNgTemplate?Iw(o,i,u,[]):f0(o,i,c,u);n.reset(f,sc),n.notifyOnChanges()}return!0}return!1}function g0(n,i,o,u){const c=O();if(c.firstCreatePass){const f=Ye();(function v0(n,i,o){null===n.queries&&(n.queries=new ww),n.queries.track(new Ew(i,o))})(c,new h0(i,o,u),f.index),function bE(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}!function y0(n,i,o){const u=new rt(4==(4&o));qm(n,i,u,u.destroy),null===i[Hr]&&(i[Hr]=new _w),i[Hr].queries.push(new Wf(u))}(c,x(),o)}function m0(){return function IE(n,i){return n[Hr].queries[i].queryList}(x(),ts())}function _0(n,i){return n.queries.getByIndex(i)}function w0(n,i){return Dr(n,i)}function bw(n){return!!Zr(n)}function Dv(...n){}const V0=new si("Application Initializer");let Tv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Dv,this.reject=Dv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(ih(f))o.push(f);else if(fy(f)){const y=new Promise((T,P)=>{f.subscribe({complete:T,error:P})});o.push(y)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Wt(V0,8))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U0=new si("AppId",{providedIn:"root",factory:function B0(){return`${Sw()}${Sw()}${Sw()}`}});function Sw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $0=new si("Platform Initializer"),HE=new si("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let zE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Av=new si("LocaleId",{providedIn:"root",factory:()=>gr(Av,Pe.Optional|Pe.SkipSelf)||function GE(){return typeof $localize<"u"&&$localize.locale||hd}()}),WE=new si("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let KE=(()=>{class n{compileModuleSync(o){return new xo(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),f=Ra(Zr(o).declarations).reduce((y,T)=>{const P=Cn(T);return P&&y.push(new Ya(P)),y},[]);return new qE(u,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QE=(()=>Promise.resolve(0))();function xw(n){typeof Zone>"u"?QE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Hu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ee(!1),this.onMicrotaskEmpty=new ee(!1),this.onStable=new ee(!1),this.onError=new ee(!1),typeof Zone>"u")throw new ot(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function JE(){let n=tn.requestAnimationFrame,i=tn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function tI(n){const i=()=>{!function eI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Rw(n),n.isCheckStableRunning=!0,Mw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Rw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,f,y,T)=>{try{return z0(n),o.invokeTask(c,f,y,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&i(),G0(n)}},onInvoke:(o,u,c,f,y,T,P)=>{try{return z0(n),o.invoke(c,f,y,T,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),G0(n)}},onHasTask:(o,u,c,f)=>{o.hasTask(c,f),u===c&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,Rw(n),Mw(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,u,c,f)=>(o.handleError(c,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hu.isInAngularZone())throw new ot(909,!1)}static assertNotInAngularZone(){if(Hu.isInAngularZone())throw new ot(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+c,i,XE,Dv,Dv);try{return f.runTask(y,o,u)}finally{f.cancelTask(y)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const XE={};function Mw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Rw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function z0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function G0(n){n._nesting--,Mw(n)}class nI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ee,this.onMicrotaskEmpty=new ee,this.onStable=new ee,this.onError=new ee}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}const W0=new si(""),q0=new si("");let Pw,rI=(()=>{class n{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Pw||(function iI(n){Pw=n}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hu.assertNotInAngularZone(),xw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xw(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(Wt(Hu),Wt(K0),Wt(q0))},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})(),K0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Pw?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ic=!1;let yd=null;const Z0=new si("AllowMultipleToken"),Ow=new si("PlatformDestroyListeners"),Y0=new si("appBootstrapListener");class aI{constructor(i,o){this.name=i,this.token=o}}function J0(n,i,o=[]){const u=`Platform: ${i}`,c=new si(u);return(f=[])=>{let y=Nw();if(!y||y.injector.get(Z0,!1)){const T=[...o,...f,{provide:c,useValue:!0}];n?n(T):function uI(n){if(yd&&!yd.get(Z0,!1))throw new ot(400,!1);yd=n;const i=n.get(eE);(function Q0(n){const i=n.get($0,null);i&&i.forEach(o=>o())})(n)}(function X0(n=[],i){return uc.create({name:i,providers:[{provide:gu,useValue:"platform"},{provide:Ow,useValue:new Set([()=>yd=null])},...n]})}(T,u))}return function cI(n){const i=Nw();if(!i)throw new ot(401,!1);return i}()}}function Nw(){return yd?.get(eE)??null}let eE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function nE(n,i){let o;return o="noop"===n?new nI:("zone.js"===n?void 0:n)||new Hu(i),o}(u?.ngZone,function tE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),f=[{provide:Hu,useValue:c}];return c.run(()=>{const y=uc.create({providers:f,parent:this.injector,name:o.moduleType.name}),T=o.create(y),P=T.injector.get($c,null);if(!P)throw new ot(402,!1);return c.runOutsideAngular(()=>{const H=c.onError.subscribe({next:ne=>{P.handleError(ne)}});T.onDestroy(()=>{xv(this._modules,T),H.unsubscribe()})}),function rE(n,i,o){try{const u=o();return ih(u)?u.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(P,c,()=>{const H=T.injector.get(Tv);return H.runInitializers(),H.donePromise.then(()=>(function Ag(n){ze(n,"Expected localeId to be defined"),"string"==typeof n&&(Tg=n.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Av,hd)||hd),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,u=[]){const c=iE({},u);return function sI(n,i,o){const u=new xo(o);return Promise.resolve(u)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(o){const u=o.injector.get(Sv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new ot(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ot(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Ow,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Wt(uc))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function iE(n,i){return Array.isArray(i)?i.reduce(iE,n):{...n,...i}}let Sv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,c){this._zone=o,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new V.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),y=new V.y(T=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{Hu.assertNotInAngularZone(),xw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{Hu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{P.unsubscribe(),H.unsubscribe()}});this.isStable=(0,Ie.T)(f,y.pipe((0,L.B)()))}bootstrap(o,u){const c=o instanceof kd;if(!this._injector.get(Tv).done){!c&&Kr(o);throw new ot(405,Ic)}let y;y=c?o:this._injector.get(Ld).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const T=function oI(n){return n.isBoundToModule}(y)?void 0:this._injector.get(pd),H=y.create(uc.NULL,[],u||y.selector,T),ne=H.location.nativeElement,me=H.injector.get(W0,null);return me?.registerApplication(ne),H.onDestroy(()=>{this.detachView(H.hostView),xv(this.components,H),me?.unregisterApplication(ne)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new ot(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;xv(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Y0,[]);u.push(...this._bootstrapListeners),u.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>xv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ot(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Wt(Hu),Wt(Ma),Wt($c))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xv(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function hI(){return!1}let fI=(()=>{class n{}return n.__NG_ELEMENT_ID__=pI,n})();function pI(n){return function gI(n,i,o){if(Gi(n)&&!o){const u=ui(n.index,i);return new dc(u,u)}return 47&n.type?new dc(i[On],i):null}(Ye(),x(),16==(16&n))}class lE{constructor(){}supports(i){return nd(i)}create(i){return new EI(i)}}const wI=(n,i)=>i;class EI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||wI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,f=null;for(;o||u;){const y=!u||o&&o.currentIndex<dE(u,c,f)?o:u,T=dE(y,c,f),P=y.currentIndex;if(y===u)c--,u=u._nextRemoved;else if(o=o._next,null==y.previousIndex)c++;else{f||(f=[]);const H=T-c,ne=P-c;if(H!=ne){for(let ke=0;ke<H;ke++){const lt=ke<f.length?f[ke]:f[ke]=0,xt=lt+ke;ne<=xt&&xt<H&&(f[ke]=lt+1)}f[y.previousIndex]=ne-H}}T!==P&&i(y,T,P)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!nd(i))throw new ot(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,f,y,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let T=0;T<this.length;T++)f=i[T],y=this._trackByFn(T,f),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,f,y,T)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,y,T),u=!0),o=o._next}else c=0,function Xp(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,T=>{y=this._trackByFn(c,T),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,T,y,c)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,y,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,f,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,f,c)):i=this._addAfter(new II(o,u),f,c),i}_verifyReinsertion(i,o,u,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?i=this._reinsertAfter(f,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,f=i._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new cE),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class II{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class cE{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new bI,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dE(n,i,o){const u=n.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class hE{constructor(){}supports(i){return i instanceof Map||eg(i)}create(){return new CI}}class CI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||eg(i)))throw new ot(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const f=c._prev,y=c._next;return f&&(f._next=y),y&&(y._prev=f),c._next=null,c._prev=null,c}const u=new DI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class DI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fE(){return new Uw([new lE])}let Uw=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||fE()),deps:[[n,new Hs,new Pi]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new ot(901,!1)}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:fE}),n})();function pE(){return new Bw([new hE])}let Bw=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||pE()),deps:[[n,new Hs,new Pi]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new ot(901,!1)}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:pE}),n})();const SI=J0(null,"core",[]);let xI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Wt(Sv))},n.\u0275mod=qe({type:n}),n.\u0275inj=Pn({}),n})();function MI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Fj:()=>Qe,qu:()=>Po,u:()=>os,sg:()=>ss,u5:()=>Oo,JJ:()=>tn,JL:()=>ln,YN:()=>q,wV:()=>wi,UX:()=>so,Q7:()=>gi,EJ:()=>K,kI:()=>on,_Y:()=>_i,Kr:()=>wn});var p=k(4650),W=k(6895),V=k(8996),Ie=k(9751),L=k(4742),te=k(8421),Oe=k(7669),Ae=k(5403),ve=k(3268),he=k(1810),_e=k(4004);let Je=(()=>{class x{constructor(R,X){this._renderer=R,this._elementRef=X,this.onChange=Ye=>{},this.onTouched=()=>{}}setProperty(R,X){this._renderer.setProperty(this._elementRef.nativeElement,R,X)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(p.Qsj),p.Y36(p.SBq))},x.\u0275dir=p.lG2({type:x}),x})(),st=(()=>{class x extends Je{}return x.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(x)))(X||x)}}(),x.\u0275dir=p.lG2({type:x,features:[p.qOj]}),x})();const _t=new p.OlP("NgValueAccessor"),It={provide:_t,useExisting:(0,p.Gpc)(()=>Qe),multi:!0},wt=new p.OlP("CompositionEventMode");let Qe=(()=>{class x extends Je{constructor(R,X,Ye){super(R,X),this._compositionMode=Ye,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mt(){const x=(0,W.q)()?(0,W.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(wt,8))},x.\u0275dir=p.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,X){1&R&&p.NdJ("input",function(mn){return X._handleInput(mn.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(mn){return X._compositionEnd(mn.target.value)})},features:[p._Bn([It]),p.qOj]}),x})();const et=!1;function tt(x){return null==x||("string"==typeof x||Array.isArray(x))&&0===x.length}function Tt(x){return null!=x&&"number"==typeof x.length}const ct=new p.OlP("NgValidators"),Ue=new p.OlP("NgAsyncValidators"),Pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class on{static min(O){return function kt(x){return O=>{if(tt(O.value)||tt(x))return null;const R=parseFloat(O.value);return!isNaN(R)&&R<x?{min:{min:x,actual:O.value}}:null}}(O)}static max(O){return function Lt(x){return O=>{if(tt(O.value)||tt(x))return null;const R=parseFloat(O.value);return!isNaN(R)&&R>x?{max:{max:x,actual:O.value}}:null}}(O)}static required(O){return At(O)}static requiredTrue(O){return function nr(x){return!0===x.value?null:{required:!0}}(O)}static email(O){return function He(x){return tt(x.value)||Pt.test(x.value)?null:{email:!0}}(O)}static minLength(O){return function Ke(x){return O=>tt(O.value)||!Tt(O.value)?null:O.value.length<x?{minlength:{requiredLength:x,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function je(x){return O=>Tt(O.value)&&O.value.length>x?{maxlength:{requiredLength:x,actualLength:O.value.length}}:null}(O)}static pattern(O){return function Ze(x){if(!x)return ht;let O,R;return"string"==typeof x?(R="","^"!==x.charAt(0)&&(R+="^"),R+=x,"$"!==x.charAt(x.length-1)&&(R+="$"),O=new RegExp(R)):(R=x.toString(),O=x),X=>{if(tt(X.value))return null;const Ye=X.value;return O.test(Ye)?null:{pattern:{requiredPattern:R,actualValue:Ye}}}}(O)}static nullValidator(O){return null}static compose(O){return _n(O)}static composeAsync(O){return kn(O)}}function At(x){return tt(x.value)?{required:!0}:null}function ht(x){return null}function ze(x){return null!=x}function ft(x){const O=(0,p.QGY)(x)?(0,V.D)(x):x;if(et&&!(0,p.CqO)(O)){let R="Expected async validator to return Promise or Observable.";throw"object"==typeof x&&(R+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,R)}return O}function Ft(x){let O={};return x.forEach(R=>{O=null!=R?{...O,...R}:O}),0===Object.keys(O).length?null:O}function Ln(x,O){return O.map(R=>R(x))}function $t(x){return x.map(O=>function Ut(x){return!x.validate}(O)?O:R=>O.validate(R))}function _n(x){if(!x)return null;const O=x.filter(ze);return 0==O.length?null:function(R){return Ft(Ln(R,O))}}function Pn(x){return null!=x?_n($t(x)):null}function kn(x){if(!x)return null;const O=x.filter(ze);return 0==O.length?null:function(R){return function se(...x){const O=(0,Oe.jO)(x),{args:R,keys:X}=(0,L.D)(x),Ye=new Ie.y(mn=>{const{length:Pr}=R;if(!Pr)return void mn.complete();const ni=new Array(Pr);let ps=Pr,Ms=Pr;for(let _s=0;_s<Pr;_s++){let Ni=!1;(0,te.Xf)(R[_s]).subscribe((0,Ae.x)(mn,Zs=>{Ni||(Ni=!0,Ms--),ni[_s]=Zs},()=>ps--,void 0,()=>{(!ps||!Ni)&&(Ms||mn.next(X?(0,he.n)(X,ni):ni),mn.complete())}))}});return O?Ye.pipe((0,ve.Z)(O)):Ye}(Ln(R,O).map(ft)).pipe((0,_e.U)(Ft))}}function Ir(x){return null!=x?kn($t(x)):null}function Vn(x,O){return null===x?[O]:Array.isArray(x)?[...x,O]:[x,O]}function rr(x){return x._rawValidators}function zt(x){return x._rawAsyncValidators}function yr(x){return x?Array.isArray(x)?x:[x]:[]}function De(x,O){return Array.isArray(x)?x.includes(O):x===O}function Se(x,O){const R=yr(O);return yr(x).forEach(Ye=>{De(R,Ye)||R.push(Ye)}),R}function Ne(x,O){return yr(O).filter(R=>!De(x,R))}class Pe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Pn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=Ir(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,R){return!!this.control&&this.control.hasError(O,R)}getError(O,R){return this.control?this.control.getError(O,R):null}}class it extends Pe{get formDirective(){return null}get path(){return null}}class Mt extends Pe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gn{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tn=(()=>{class x extends Gn{constructor(R){super(R)}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(Mt,2))},x.\u0275dir=p.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,X){2&R&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},features:[p.qOj]}),x})(),ln=(()=>{class x extends Gn{constructor(R){super(R)}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(it,10))},x.\u0275dir=p.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,X){2&R&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)("ng-submitted",X.isSubmitted)},features:[p.qOj]}),x})();function Zn(x,O){return x?`with name: '${O}'`:`at index: ${O}`}const We=!1,jt="VALID",Jt="INVALID",pe="PENDING",ce="DISABLED";function J(x){return(le(x)?x.validators:x)||null}function Z(x,O){return(le(O)?O.asyncValidators:x)||null}function le(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}function fe(x,O,R){const X=x.controls;if(!(O?Object.keys(X):X).length)throw new p.vHH(1e3,We?function gr(x){return`\n    There are no form controls registered with this ${x?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(O):"");if(!X[R])throw new p.vHH(1001,We?function $e(x,O){return`Cannot find form control ${Zn(x,O)}`}(O,R):"")}function ae(x,O,R){x._forEachChild((X,Ye)=>{if(void 0===R[Ye])throw new p.vHH(1002,We?function dt(x,O){return`Must supply a value for form control ${Zn(x,O)}`}(O,Ye):"")})}class xe{constructor(O,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(O),this._assignAsyncValidators(R)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===jt}get invalid(){return this.status===Jt}get pending(){return this.status==pe}get disabled(){return this.status===ce}get enabled(){return this.status!==ce}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._assignValidators(O)}setAsyncValidators(O){this._assignAsyncValidators(O)}addValidators(O){this.setValidators(Se(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(Se(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(Ne(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(Ne(O,this._rawAsyncValidators))}hasValidator(O){return De(this._rawValidators,O)}hasAsyncValidator(O){return De(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=pe,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const R=this._parentMarkedDirty(O.onlySelf);this.status=ce,this.errors=null,this._forEachChild(X=>{X.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:R}),this._onDisabledChange.forEach(X=>X(!0))}enable(O={}){const R=this._parentMarkedDirty(O.onlySelf);this.status=jt,this._forEachChild(X=>{X.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:R}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jt||this.status===pe)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ce:jt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=pe,this._hasOwnPendingAsyncValidator=!0;const R=ft(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,R={}){this.errors=O,this._updateControlsErrors(!1!==R.emitEvent)}get(O){let R=O;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((X,Ye)=>X&&X._find(Ye),this)}getError(O,R){const X=R?this.get(R):this;return X&&X.errors?X.errors[O]:null}hasError(O,R){return!!this.getError(O,R)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?ce:this.errors?Jt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pe)?pe:this._anyControlsHaveStatus(Jt)?Jt:jt}_anyControlsHaveStatus(O){return this._anyControls(R=>R.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){le(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}_assignValidators(O){this._rawValidators=Array.isArray(O)?O.slice():O,this._composedValidatorFn=function ie(x){return Array.isArray(x)?Pn(x):x||null}(this._rawValidators)}_assignAsyncValidators(O){this._rawAsyncValidators=Array.isArray(O)?O.slice():O,this._composedAsyncValidatorFn=function be(x){return Array.isArray(x)?Ir(x):x||null}(this._rawAsyncValidators)}}class nt extends xe{constructor(O,R,X){super(J(R),Z(X,R)),this.controls=O,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,R){return this.controls[O]?this.controls[O]:(this.controls[O]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(O,R,X={}){this.registerControl(O,R),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(O,R={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(O,R,X={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],R&&this.registerControl(O,R),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,R={}){ae(this,!0,O),Object.keys(O).forEach(X=>{fe(this,!0,X),this.controls[X].setValue(O[X],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(O,R={}){null!=O&&(Object.keys(O).forEach(X=>{const Ye=this.controls[X];Ye&&Ye.patchValue(O[X],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(O={},R={}){this._forEachChild((X,Ye)=>{X.reset(O[Ye],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(O,R,X)=>(O[X]=R.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(R,X)=>!!X._syncPendingControls()||R);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(R=>{const X=this.controls[R];X&&O(X,R)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[R,X]of Object.entries(this.controls))if(this.contains(R)&&O(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,X,Ye)=>((X.enabled||this.disabled)&&(R[Ye]=X.value),R))}_reduceChildren(O,R){let X=O;return this._forEachChild((Ye,mn)=>{X=R(X,Ye,mn)}),X}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}class pn extends nt{}const vr=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>pt}),pt="always";function Rt(x,O,R=pt){Cn(x,O),O.valueAccessor.writeValue(x.value),(x.disabled||"always"===R)&&O.valueAccessor.setDisabledState?.(x.disabled),function ur(x,O){O.valueAccessor.registerOnChange(R=>{x._pendingValue=R,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&Zr(x,O)})}(x,O),function $i(x,O){const R=(X,Ye)=>{O.valueAccessor.writeValue(X),Ye&&O.viewToModelUpdate(X)};x.registerOnChange(R),O._registerOnDestroy(()=>{x._unregisterOnChange(R)})}(x,O),function Kr(x,O){O.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&Zr(x,O),"submit"!==x.updateOn&&x.markAsTouched()})}(x,O),function Kn(x,O){if(O.valueAccessor.setDisabledState){const R=X=>{O.valueAccessor.setDisabledState(X)};x.registerOnDisabledChange(R),O._registerOnDestroy(()=>{x._unregisterOnDisabledChange(R)})}}(x,O)}function gn(x,O,R=!0){const X=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(X),O.valueAccessor.registerOnTouched(X)),Yn(x,O),x&&(O._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function vn(x,O){x.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(O)})}function Cn(x,O){const R=rr(x);null!==O.validator?x.setValidators(Vn(R,O.validator)):"function"==typeof R&&x.setValidators([R]);const X=zt(x);null!==O.asyncValidator?x.setAsyncValidators(Vn(X,O.asyncValidator)):"function"==typeof X&&x.setAsyncValidators([X]);const Ye=()=>x.updateValueAndValidity();vn(O._rawValidators,Ye),vn(O._rawAsyncValidators,Ye)}function Yn(x,O){let R=!1;if(null!==x){if(null!==O.validator){const Ye=rr(x);if(Array.isArray(Ye)&&Ye.length>0){const mn=Ye.filter(Pr=>Pr!==O.validator);mn.length!==Ye.length&&(R=!0,x.setValidators(mn))}}if(null!==O.asyncValidator){const Ye=zt(x);if(Array.isArray(Ye)&&Ye.length>0){const mn=Ye.filter(Pr=>Pr!==O.asyncValidator);mn.length!==Ye.length&&(R=!0,x.setAsyncValidators(mn))}}}const X=()=>{};return vn(O._rawValidators,X),vn(O._rawAsyncValidators,X),R}function Zr(x,O){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function xn(x,O){const R=x.indexOf(O);R>-1&&x.splice(R,1)}function $n(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const On=class extends xe{constructor(O=null,R,X){super(J(R),Z(X,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),le(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=$n(O)?O.value:O)}setValue(O,R={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(O,R={}){this.setValue(O,R)}reset(O=this.defaultValue,R={}){this._applyFormState(O),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){xn(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){xn(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){$n(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}};let _i=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275dir=p.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})();const vs={provide:_t,useExisting:(0,p.Gpc)(()=>wi),multi:!0};let wi=(()=>{class x extends st{writeValue(R){this.setProperty("value",R??"")}registerOnChange(R){this.onChange=X=>{R(""==X?null:parseFloat(X))}}}return x.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(x)))(X||x)}}(),x.\u0275dir=p.lG2({type:x,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(R,X){1&R&&p.NdJ("input",function(mn){return X.onChange(mn.target.value)})("blur",function(){return X.onTouched()})},features:[p._Bn([vs]),p.qOj]}),x})(),Gi=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({}),x})();const ks=new p.OlP("NgModelWithFormControlWarning"),As={provide:it,useExisting:(0,p.Gpc)(()=>ss)};let ss=(()=>{class x extends it{constructor(R,X,Ye){super(),this.callSetDisabledState=Ye,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(R),this._setAsyncValidators(X)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const X=this.form.get(R.path);return Rt(X,R,this.callSetDisabledState),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),X}getControl(R){return this.form.get(R.path)}removeControl(R){gn(R.control||null,R,!1),function Fe(x,O){const R=x.indexOf(O);R>-1&&x.splice(R,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,X){this.form.get(R.path).setValue(X)}onSubmit(R){return this.submitted=!0,function ji(x,O){x._syncPendingControls(),O.forEach(R=>{const X=R.control;"submit"===X.updateOn&&X._pendingChange&&(R.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const X=R.control,Ye=this.form.get(R.path);X!==Ye&&(gn(X||null,R),(x=>x instanceof On)(Ye)&&(Rt(Ye,R,this.callSetDisabledState),R.control=Ye))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const X=this.form.get(R.path);(function ti(x,O){Cn(x,O)})(X,R),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const X=this.form.get(R.path);X&&function jr(x,O){return Yn(x,O)}(X,R)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cn(this.form,this),this._oldForm&&Yn(this._oldForm,this)}_checkFormPresent(){}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(ct,10),p.Y36(Ue,10),p.Y36(vr,8))},x.\u0275dir=p.lG2({type:x,selectors:[["","formGroup",""]],hostBindings:function(R,X){1&R&&p.NdJ("submit",function(mn){return X.onSubmit(mn)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([As]),p.qOj,p.TTD]}),x})();const es={provide:Mt,useExisting:(0,p.Gpc)(()=>os)};let os=(()=>{class x extends Mt{set isDisabled(R){}constructor(R,X,Ye,mn,Pr){super(),this._ngModelWarningConfig=Pr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(X),this._setAsyncValidators(Ye),this.valueAccessor=function mr(x,O){if(!O)return null;let R,X,Ye;return Array.isArray(O),O.forEach(mn=>{mn.constructor===Qe?R=mn:function ci(x){return Object.getPrototypeOf(x.constructor)===st}(mn)?X=mn:Ye=mn}),Ye||X||R||null}(0,mn)}ngOnChanges(R){this._added||this._setUpControl(),function Yr(x,O){if(!x.hasOwnProperty("model"))return!1;const R=x.model;return!!R.isFirstChange()||!Object.is(O,R.currentValue)}(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return function qe(x,O){return[...O.path,x]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return x._ngModelWarningSentOnce=!1,x.\u0275fac=function(R){return new(R||x)(p.Y36(it,13),p.Y36(ct,10),p.Y36(Ue,10),p.Y36(_t,10),p.Y36(ks,8))},x.\u0275dir=p.lG2({type:x,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([es]),p.qOj,p.TTD]}),x})();const Ss={provide:_t,useExisting:(0,p.Gpc)(()=>K),multi:!0};function po(x,O){return null==x?`${O}`:(O&&"object"==typeof O&&(O="Object"),`${x}: ${O}`.slice(0,50))}let K=(()=>{class x extends st{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){this.value=R;const Ye=po(this._getOptionId(R),R);this.setProperty("value",Ye)}registerOnChange(R){this.onChange=X=>{this.value=this._getOptionValue(X),R(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(R){for(const X of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(X),R))return X;return null}_getOptionValue(R){const X=function Oi(x){return x.split(":")[0]}(R);return this._optionMap.has(X)?this._optionMap.get(X):R}}return x.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(x)))(X||x)}}(),x.\u0275dir=p.lG2({type:x,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(R,X){1&R&&p.NdJ("change",function(mn){return X.onChange(mn.target.value)})("blur",function(){return X.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Ss]),p.qOj]}),x})(),q=(()=>{class x{constructor(R,X,Ye){this._element=R,this._renderer=X,this._select=Ye,this._select&&(this.id=this._select._registerOption())}set ngValue(R){null!=this._select&&(this._select._optionMap.set(this.id,R),this._setElementValue(po(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._setElementValue(R),this._select&&this._select.writeValue(this._select.value)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(K,9))},x.\u0275dir=p.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})();const ge={provide:_t,useExisting:(0,p.Gpc)(()=>Bt),multi:!0};function Ce(x,O){return null==x?`${O}`:("string"==typeof O&&(O=`'${O}'`),O&&"object"==typeof O&&(O="Object"),`${x}: ${O}`.slice(0,50))}let Bt=(()=>{class x extends st{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){let X;if(this.value=R,Array.isArray(R)){const Ye=R.map(mn=>this._getOptionId(mn));X=(mn,Pr)=>{mn._setSelected(Ye.indexOf(Pr.toString())>-1)}}else X=(Ye,mn)=>{Ye._setSelected(!1)};this._optionMap.forEach(X)}registerOnChange(R){this.onChange=X=>{const Ye=[],mn=X.selectedOptions;if(void 0!==mn){const Pr=mn;for(let ni=0;ni<Pr.length;ni++){const Ms=this._getOptionValue(Pr[ni].value);Ye.push(Ms)}}else{const Pr=X.options;for(let ni=0;ni<Pr.length;ni++){const ps=Pr[ni];if(ps.selected){const Ms=this._getOptionValue(ps.value);Ye.push(Ms)}}}this.value=Ye,R(Ye)}}_registerOption(R){const X=(this._idCounter++).toString();return this._optionMap.set(X,R),X}_getOptionId(R){for(const X of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(X)._value,R))return X;return null}_getOptionValue(R){const X=function Le(x){return x.split(":")[0]}(R);return this._optionMap.has(X)?this._optionMap.get(X)._value:R}}return x.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(x)))(X||x)}}(),x.\u0275dir=p.lG2({type:x,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(R,X){1&R&&p.NdJ("change",function(mn){return X.onChange(mn.target)})("blur",function(){return X.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([ge]),p.qOj]}),x})(),wn=(()=>{class x{constructor(R,X,Ye){this._element=R,this._renderer=X,this._select=Ye,this._select&&(this.id=this._select._registerOption(this))}set ngValue(R){null!=this._select&&(this._value=R,this._setElementValue(Ce(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._select?(this._value=R,this._setElementValue(Ce(this.id,R)),this._select.writeValue(this._select.value)):this._setElementValue(R)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}_setSelected(R){this._renderer.setProperty(this._element.nativeElement,"selected",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Bt,9))},x.\u0275dir=p.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})(),Jn=(()=>{class x{constructor(){this._validator=ht}ngOnChanges(R){if(this.inputName in R){const X=this.normalizeInput(R[this.inputName].currentValue);this._enabled=this.enabled(X),this._validator=this._enabled?this.createValidator(X):ht,this._onChange&&this._onChange()}}validate(R){return this._validator(R)}registerOnValidatorChange(R){this._onChange=R}enabled(R){return null!=R}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275dir=p.lG2({type:x,features:[p.TTD]}),x})();const lr={provide:ct,useExisting:(0,p.Gpc)(()=>gi),multi:!0};let gi=(()=>{class x extends Jn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.D6c,this.createValidator=R=>At}enabled(R){return R}}return x.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(x)))(X||x)}}(),x.\u0275dir=p.lG2({type:x,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(R,X){2&R&&p.uIk("required",X._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([lr]),p.qOj]}),x})(),Bs=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[Gi]}),x})();class Ks extends xe{constructor(O,R,X){super(J(R),Z(X,R)),this.controls=O,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[this._adjustIndex(O)]}push(O,R={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(O,R,X={}){this.controls.splice(O,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:X.emitEvent})}removeAt(O,R={}){let X=this._adjustIndex(O);X<0&&(X=0),this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),this.controls.splice(X,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(O,R,X={}){let Ye=this._adjustIndex(O);Ye<0&&(Ye=0),this.controls[Ye]&&this.controls[Ye]._registerOnCollectionChange(()=>{}),this.controls.splice(Ye,1),R&&(this.controls.splice(Ye,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,R={}){ae(this,!1,O),O.forEach((X,Ye)=>{fe(this,!1,Ye),this.at(Ye).setValue(X,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(O,R={}){null!=O&&(O.forEach((X,Ye)=>{this.at(Ye)&&this.at(Ye).patchValue(X,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(O=[],R={}){this._forEachChild((X,Ye)=>{X.reset(O[Ye],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(O=>O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_adjustIndex(O){return O<0?O+this.length:O}_syncPendingControls(){let O=this.controls.reduce((R,X)=>!!X._syncPendingControls()||R,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){this.controls.forEach((R,X)=>{O(R,X)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(R=>R.enabled&&O(R))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}_find(O){return this.at(O)??null}}function Ko(x){return!!x&&(void 0!==x.asyncValidators||void 0!==x.validators||void 0!==x.updateOn)}let Po=(()=>{class x{constructor(){this.useNonNullable=!1}get nonNullable(){const R=new x;return R.useNonNullable=!0,R}group(R,X=null){const Ye=this._reduceControls(R);let mn={};return Ko(X)?mn=X:null!==X&&(mn.validators=X.validator,mn.asyncValidators=X.asyncValidator),new nt(Ye,mn)}record(R,X=null){const Ye=this._reduceControls(R);return new pn(Ye,X)}control(R,X,Ye){let mn={};return this.useNonNullable?(Ko(X)?mn=X:(mn.validators=X,mn.asyncValidators=Ye),new On(R,{...mn,nonNullable:!0})):new On(R,X,Ye)}array(R,X,Ye){const mn=R.map(Pr=>this._createControl(Pr));return new Ks(mn,X,Ye)}_reduceControls(R){const X={};return Object.keys(R).forEach(Ye=>{X[Ye]=this._createControl(R[Ye])}),X}_createControl(R){return R instanceof On||R instanceof xe?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Oo=(()=>{class x{static withConfig(R){return{ngModule:x,providers:[{provide:vr,useValue:R.callSetDisabledState??pt}]}}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[Bs]}),x})(),so=(()=>{class x{static withConfig(R){return{ngModule:x,providers:[{provide:ks,useValue:R.warnOnNgModelWithFormControl??"always"},{provide:vr,useValue:R.callSetDisabledState??pt}]}}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[Bs]}),x})()},1321:()=>{"use strict";const Qt=":";class ze extends Error{constructor(Se){super(`No translation found for ${_n(Se)}.`),this.parsedMessage=Se,this.type="MissingTranslationError"}}const rr=function(De,...Se){if(rr.translate){const Pe=rr.translate(De,Se);De=Pe[0],Se=Pe[1]}let Ne=yr(De[0],De.raw[0]);for(let Pe=1;Pe<De.length;Pe++)Ne+=Se[Pe-1]+yr(De[Pe],De.raw[Pe]);return Ne},zt=":";function yr(De,Se){return Se.charAt(0)===zt?De.substring(function ht(De,Se){for(let Ne=1,Pe=1;Ne<De.length;Ne++,Pe++)if("\\"===Se[Pe])Pe++;else if(De[Ne]===Qt)return Ne;throw new Error(`Unterminated $localize metadata block in "${Se}".`)}(De,Se)+1):De}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=rr},1481:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Dx:()=>ln,b2:()=>Mt,q6:()=>Se});var p=k(6895),W=k(4650);class V extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends V{static makeCurrent(){(0,p.HT)(new Ie)}onAndCancel(fe,ae,xe){return fe.addEventListener(ae,xe,!1),()=>{fe.removeEventListener(ae,xe,!1)}}dispatchEvent(fe,ae){fe.dispatchEvent(ae)}remove(fe){fe.parentNode&&fe.parentNode.removeChild(fe)}createElement(fe,ae){return(ae=ae||this.getDefaultDocument()).createElement(fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(fe){return fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(fe){return fe instanceof DocumentFragment}getGlobalEventTarget(fe,ae){return"window"===ae?window:"document"===ae?fe:"body"===ae?fe.body:null}getBaseHref(fe){const ae=function te(){return L=L||document.querySelector("base"),L?L.getAttribute("href"):null}();return null==ae?null:function Ae(le){Oe=Oe||document.createElement("a"),Oe.setAttribute("href",le);const fe=Oe.pathname;return"/"===fe.charAt(0)?fe:`/${fe}`}(ae)}resetBaseElement(){L=null}getUserAgent(){return window.navigator.userAgent}getCookie(fe){return(0,p.Mx)(document.cookie,fe)}}let Oe,L=null;const ve=new W.OlP("TRANSITION_ID"),se=[{provide:W.ip1,useFactory:function he(le,fe,ae){return()=>{ae.get(W.CZH).donePromise.then(()=>{const xe=(0,p.q)(),nt=fe.querySelectorAll(`style[ng-transition="${le}"]`);for(let Dt=0;Dt<nt.length;Dt++)xe.remove(nt[Dt])})}},deps:[ve,p.K0,W.zs3],multi:!0}];let Je=(()=>{class le{build(){return new XMLHttpRequest}}return le.\u0275fac=function(ae){return new(ae||le)},le.\u0275prov=W.Yz7({token:le,factory:le.\u0275fac}),le})();const st=new W.OlP("EventManagerPlugins");let _t=(()=>{class le{constructor(ae,xe){this._zone=xe,this._eventNameToPlugin=new Map,ae.forEach(nt=>{nt.manager=this}),this._plugins=ae.slice().reverse()}addEventListener(ae,xe,nt){return this._findPluginFor(xe).addEventListener(ae,xe,nt)}addGlobalEventListener(ae,xe,nt){return this._findPluginFor(xe).addGlobalEventListener(ae,xe,nt)}getZone(){return this._zone}_findPluginFor(ae){const xe=this._eventNameToPlugin.get(ae);if(xe)return xe;const nt=this._plugins;for(let Dt=0;Dt<nt.length;Dt++){const fn=nt[Dt];if(fn.supports(ae))return this._eventNameToPlugin.set(ae,fn),fn}throw new Error(`No event manager plugin found for event ${ae}`)}}return le.\u0275fac=function(ae){return new(ae||le)(W.LFG(st),W.LFG(W.R0b))},le.\u0275prov=W.Yz7({token:le,factory:le.\u0275fac}),le})();class Vt{constructor(fe){this._doc=fe}addGlobalEventListener(fe,ae,xe){const nt=(0,p.q)().getGlobalEventTarget(this._doc,fe);if(!nt)throw new Error(`Unsupported event target ${nt} for event ${ae}`);return this.addEventListener(nt,ae,xe)}}let ot=(()=>{class le{constructor(){this.usageCount=new Map}addStyles(ae){for(const xe of ae)1===this.changeUsageCount(xe,1)&&this.onStyleAdded(xe)}removeStyles(ae){for(const xe of ae)0===this.changeUsageCount(xe,-1)&&this.onStyleRemoved(xe)}onStyleRemoved(ae){}onStyleAdded(ae){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ae,xe){const nt=this.usageCount;let Dt=nt.get(ae)??0;return Dt+=xe,Dt>0?nt.set(ae,Dt):nt.delete(ae),Dt}ngOnDestroy(){for(const ae of this.getAllStyles())this.onStyleRemoved(ae);this.usageCount.clear()}}return le.\u0275fac=function(ae){return new(ae||le)},le.\u0275prov=W.Yz7({token:le,factory:le.\u0275fac}),le})(),It=(()=>{class le extends ot{constructor(ae){super(),this.doc=ae,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ae){for(const xe of this.hostNodes)this.addStyleToHost(xe,ae)}onStyleRemoved(ae){const xe=this.styleRef;xe.get(ae)?.forEach(Dt=>Dt.remove()),xe.delete(ae)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ae){this.hostNodes.add(ae);for(const xe of this.getAllStyles())this.addStyleToHost(ae,xe)}removeHost(ae){this.hostNodes.delete(ae)}addStyleToHost(ae,xe){const nt=this.doc.createElement("style");nt.textContent=xe,ae.appendChild(nt);const Dt=this.styleRef.get(xe);Dt?Dt.push(nt):this.styleRef.set(xe,[nt])}resetHostNodes(){const ae=this.hostNodes;ae.clear(),ae.add(this.doc.head)}}return le.\u0275fac=function(ae){return new(ae||le)(W.LFG(p.K0))},le.\u0275prov=W.Yz7({token:le,factory:le.\u0275fac}),le})();const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wt=/%COMP%/g,Ue=new W.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function kt(le,fe){return fe.flat(100).map(ae=>ae.replace(wt,le))}function Lt(le){return fe=>{if("__ngUnwrap__"===fe)return le;!1===le(fe)&&(fe.preventDefault(),fe.returnValue=!1)}}let At=(()=>{class le{constructor(ae,xe,nt,Dt){this.eventManager=ae,this.sharedStylesHost=xe,this.appId=nt,this.removeStylesOnCompDestory=Dt,this.rendererByCompId=new Map,this.defaultRenderer=new nr(ae)}createRenderer(ae,xe){if(!ae||!xe)return this.defaultRenderer;const nt=this.getOrCreateRenderer(ae,xe);return nt instanceof ze?nt.applyToHost(ae):nt instanceof ht&&nt.applyStyles(),nt}getOrCreateRenderer(ae,xe){const nt=this.rendererByCompId;let Dt=nt.get(xe.id);if(!Dt){const fn=this.eventManager,pn=this.sharedStylesHost,ar=this.removeStylesOnCompDestory;switch(xe.encapsulation){case W.ifc.Emulated:Dt=new ze(fn,pn,xe,this.appId,ar);break;case W.ifc.ShadowDom:return new Ze(fn,pn,ae,xe);default:Dt=new ht(fn,pn,xe,ar)}Dt.onDestroy=()=>nt.delete(xe.id),nt.set(xe.id,Dt)}return Dt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return le.\u0275fac=function(ae){return new(ae||le)(W.LFG(_t),W.LFG(It),W.LFG(W.AFp),W.LFG(Ue))},le.\u0275prov=W.Yz7({token:le,factory:le.\u0275fac}),le})();class nr{constructor(fe){this.eventManager=fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(fe,ae){return ae?document.createElementNS(mt[ae]||ae,fe):document.createElement(fe)}createComment(fe){return document.createComment(fe)}createText(fe){return document.createTextNode(fe)}appendChild(fe,ae){(je(fe)?fe.content:fe).appendChild(ae)}insertBefore(fe,ae,xe){fe&&(je(fe)?fe.content:fe).insertBefore(ae,xe)}removeChild(fe,ae){fe&&fe.removeChild(ae)}selectRootElement(fe,ae){let xe="string"==typeof fe?document.querySelector(fe):fe;if(!xe)throw new Error(`The selector "${fe}" did not match any elements`);return ae||(xe.textContent=""),xe}parentNode(fe){return fe.parentNode}nextSibling(fe){return fe.nextSibling}setAttribute(fe,ae,xe,nt){if(nt){ae=nt+":"+ae;const Dt=mt[nt];Dt?fe.setAttributeNS(Dt,ae,xe):fe.setAttribute(ae,xe)}else fe.setAttribute(ae,xe)}removeAttribute(fe,ae,xe){if(xe){const nt=mt[xe];nt?fe.removeAttributeNS(nt,ae):fe.removeAttribute(`${xe}:${ae}`)}else fe.removeAttribute(ae)}addClass(fe,ae){fe.classList.add(ae)}removeClass(fe,ae){fe.classList.remove(ae)}setStyle(fe,ae,xe,nt){nt&(W.JOm.DashCase|W.JOm.Important)?fe.style.setProperty(ae,xe,nt&W.JOm.Important?"important":""):fe.style[ae]=xe}removeStyle(fe,ae,xe){xe&W.JOm.DashCase?fe.style.removeProperty(ae):fe.style[ae]=""}setProperty(fe,ae,xe){fe[ae]=xe}setValue(fe,ae){fe.nodeValue=ae}listen(fe,ae,xe){return"string"==typeof fe?this.eventManager.addGlobalEventListener(fe,ae,Lt(xe)):this.eventManager.addEventListener(fe,ae,Lt(xe))}}function je(le){return"TEMPLATE"===le.tagName&&void 0!==le.content}class Ze extends nr{constructor(fe,ae,xe,nt){super(fe),this.sharedStylesHost=ae,this.hostEl=xe,this.shadowRoot=xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Dt=kt(nt.id,nt.styles);for(const fn of Dt){const pn=document.createElement("style");pn.textContent=fn,this.shadowRoot.appendChild(pn)}}nodeOrShadowRoot(fe){return fe===this.hostEl?this.shadowRoot:fe}appendChild(fe,ae){return super.appendChild(this.nodeOrShadowRoot(fe),ae)}insertBefore(fe,ae,xe){return super.insertBefore(this.nodeOrShadowRoot(fe),ae,xe)}removeChild(fe,ae){return super.removeChild(this.nodeOrShadowRoot(fe),ae)}parentNode(fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(fe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ht extends nr{constructor(fe,ae,xe,nt,Dt=xe.id){super(fe),this.sharedStylesHost=ae,this.removeStylesOnCompDestory=nt,this.rendererUsageCount=0,this.styles=kt(Dt,xe.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ze extends ht{constructor(fe,ae,xe,nt,Dt){const fn=nt+"-"+xe.id;super(fe,ae,xe,Dt,fn),this.contentAttr=function Pt(le){return"_ngcontent-%COMP%".replace(wt,le)}(fn),this.hostAttr=function on(le){return"_nghost-%COMP%".replace(wt,le)}(fn)}applyToHost(fe){this.applyStyles(),this.setAttribute(fe,this.hostAttr,"")}createElement(fe,ae){const xe=super.createElement(fe,ae);return super.setAttribute(xe,this.contentAttr,""),xe}}let ft=(()=>{class le extends Vt{constructor(ae){super(ae)}supports(ae){return!0}addEventListener(ae,xe,nt){return ae.addEventListener(xe,nt,!1),()=>this.removeEventListener(ae,xe,nt)}removeEventListener(ae,xe,nt){return ae.removeEventListener(xe,nt)}}return le.\u0275fac=function(ae){return new(ae||le)(W.LFG(p.K0))},le.\u0275prov=W.Yz7({token:le,factory:le.\u0275fac}),le})();const Ft=["alt","control","meta","shift"],Ln={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ut={alt:le=>le.altKey,control:le=>le.ctrlKey,meta:le=>le.metaKey,shift:le=>le.shiftKey};let $t=(()=>{class le extends Vt{constructor(ae){super(ae)}supports(ae){return null!=le.parseEventName(ae)}addEventListener(ae,xe,nt){const Dt=le.parseEventName(xe),fn=le.eventCallback(Dt.fullKey,nt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(ae,Dt.domEventName,fn))}static parseEventName(ae){const xe=ae.toLowerCase().split("."),nt=xe.shift();if(0===xe.length||"keydown"!==nt&&"keyup"!==nt)return null;const Dt=le._normalizeKey(xe.pop());let fn="",pn=xe.indexOf("code");if(pn>-1&&(xe.splice(pn,1),fn="code."),Ft.forEach(vr=>{const pt=xe.indexOf(vr);pt>-1&&(xe.splice(pt,1),fn+=vr+".")}),fn+=Dt,0!=xe.length||0===Dt.length)return null;const ar={};return ar.domEventName=nt,ar.fullKey=fn,ar}static matchEventFullKeyCode(ae,xe){let nt=Ln[ae.key]||ae.key,Dt="";return xe.indexOf("code.")>-1&&(nt=ae.code,Dt="code."),!(null==nt||!nt)&&(nt=nt.toLowerCase()," "===nt?nt="space":"."===nt&&(nt="dot"),Ft.forEach(fn=>{fn!==nt&&(0,Ut[fn])(ae)&&(Dt+=fn+".")}),Dt+=nt,Dt===xe)}static eventCallback(ae,xe,nt){return Dt=>{le.matchEventFullKeyCode(Dt,ae)&&nt.runGuarded(()=>xe(Dt))}}static _normalizeKey(ae){return"esc"===ae?"escape":ae}}return le.\u0275fac=function(ae){return new(ae||le)(W.LFG(p.K0))},le.\u0275prov=W.Yz7({token:le,factory:le.\u0275fac}),le})();const Se=(0,W.eFA)(W._c5,"browser",[{provide:W.Lbi,useValue:p.bD},{provide:W.g9A,useValue:function rr(){Ie.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function yr(){return(0,W.RDi)(document),document},deps:[]}]),Ne=new W.OlP(""),Pe=[{provide:W.rWj,useClass:class _e{addToWindow(fe){W.dqk.getAngularTestability=(xe,nt=!0)=>{const Dt=fe.findTestabilityInTree(xe,nt);if(null==Dt)throw new Error("Could not find testability for element.");return Dt},W.dqk.getAllAngularTestabilities=()=>fe.getAllTestabilities(),W.dqk.getAllAngularRootElements=()=>fe.getAllRootElements(),W.dqk.frameworkStabilizers||(W.dqk.frameworkStabilizers=[]),W.dqk.frameworkStabilizers.push(xe=>{const nt=W.dqk.getAllAngularTestabilities();let Dt=nt.length,fn=!1;const pn=function(ar){fn=fn||ar,Dt--,0==Dt&&xe(fn)};nt.forEach(function(ar){ar.whenStable(pn)})})}findTestabilityInTree(fe,ae,xe){return null==ae?null:fe.getTestability(ae)??(xe?(0,p.q)().isShadowRoot(ae)?this.findTestabilityInTree(fe,ae.host,!0):this.findTestabilityInTree(fe,ae.parentElement,!0):null)}},deps:[]},{provide:W.lri,useClass:W.dDg,deps:[W.R0b,W.eoX,W.rWj]},{provide:W.dDg,useClass:W.dDg,deps:[W.R0b,W.eoX,W.rWj]}],it=[{provide:W.zSh,useValue:"root"},{provide:W.qLn,useFactory:function zt(){return new W.qLn},deps:[]},{provide:st,useClass:ft,multi:!0,deps:[p.K0,W.R0b,W.Lbi]},{provide:st,useClass:$t,multi:!0,deps:[p.K0]},{provide:At,useClass:At,deps:[_t,It,W.AFp,Ue]},{provide:W.FYo,useExisting:At},{provide:ot,useExisting:It},{provide:It,useClass:It,deps:[p.K0]},{provide:_t,useClass:_t,deps:[st,W.R0b]},{provide:p.JF,useClass:Je,deps:[]},[]];let Mt=(()=>{class le{constructor(ae){}static withServerTransition(ae){return{ngModule:le,providers:[{provide:W.AFp,useValue:ae.appId},{provide:ve,useExisting:W.AFp},se]}}}return le.\u0275fac=function(ae){return new(ae||le)(W.LFG(Ne,12))},le.\u0275mod=W.oAB({type:le}),le.\u0275inj=W.cJS({providers:[...it,...Pe],imports:[p.ez,W.hGG]}),le})(),ln=(()=>{class le{constructor(ae){this._doc=ae}getTitle(){return this._doc.title}setTitle(ae){this._doc.title=ae||""}}return le.\u0275fac=function(ae){return new(ae||le)(W.LFG(p.K0))},le.\u0275prov=W.Yz7({token:le,factory:function(ae){let xe=null;return xe=ae?new ae:function tn(){return new ln((0,W.LFG)(p.K0))}(),xe},providedIn:"root"}),le})();typeof window<"u"&&window},9051:(Qt,Xe,k)=>{"use strict";k.d(Xe,{F0:()=>tr,rH:()=>Ii,Bz:()=>ou,lC:()=>zr});var p=k(4650),W=k(8996),V=k(9646),Ie=k(7579);class L extends Ie.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const m=super._subscribe(w);return!m.closed&&w.next(this._value),m}getValue(){const{hasError:w,thrownError:m,_value:A}=this;if(w)throw m;return this._throwIfClosed(),A}next(w){super.next(this._value=w)}}var te=k(6805),Oe=k(9751),Ae=k(4742),ve=k(4671),he=k(3268),se=k(7669),_e=k(1810),Je=k(5403),st=k(9672);function _t(...v){const w=(0,se.yG)(v),m=(0,se.jO)(v),{args:A,keys:U}=(0,Ae.D)(v);if(0===A.length)return(0,W.D)([],w);const Y=new Oe.y(function Vt(v,w,m=ve.y){return A=>{ot(w,()=>{const{length:U}=v,Y=new Array(U);let re=U,Be=U;for(let St=0;St<U;St++)ot(w,()=>{const Xt=(0,W.D)(v[St],w);let dn=!1;Xt.subscribe((0,Je.x)(A,Ur=>{Y[St]=Ur,dn||(dn=!0,Be--),Be||A.next(m(Y.slice()))},()=>{--re||A.complete()}))},A)},A)}}(A,w,U?re=>(0,_e.n)(U,re):ve.y));return m?Y.pipe((0,he.Z)(m)):Y}function ot(v,w,m){v?(0,st.f)(m,v,w):w()}var It=k(7272),mt=k(8421);function wt(v){return new Oe.y(w=>{(0,mt.Xf)(v()).subscribe(w)})}var Qe=k(9635),et=k(576);function tt(v,w){const m=(0,et.m)(v)?v:()=>v,A=U=>U.error(m());return new Oe.y(w?U=>w.schedule(A,0,U):A)}var Tt=k(515),ct=k(727),Ue=k(4482);function Pt(){return(0,Ue.e)((v,w)=>{let m=null;v._refCount++;const A=(0,Je.x)(w,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(m=null);const U=v._connection,Y=m;m=null,U&&(!Y||U===Y)&&U.unsubscribe(),w.unsubscribe()});v.subscribe(A),A.closed||(m=v.connect())})}class on extends Oe.y{constructor(w,m){super(),this.source=w,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Ue.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new ct.w0;const m=this.getSubject();w.add(this.source.subscribe((0,Je.x)(m,void 0,()=>{this._teardown(),m.complete()},A=>{this._teardown(),m.error(A)},()=>this._teardown()))),w.closed&&(this._connection=null,w=ct.w0.EMPTY)}return w}refCount(){return Pt()(this)}}var kt=k(6895),Lt=k(4004),At=k(3900),nr=k(5698),He=k(8675),Ke=k(9300),je=k(5577),Ze=k(590);function ht(v,w){return(0,et.m)(w)?(0,je.z)(v,w,1):(0,je.z)(v,1)}var ze=k(8505);function ft(v){return(0,Ue.e)((w,m)=>{let Y,A=null,U=!1;A=w.subscribe((0,Je.x)(m,void 0,void 0,re=>{Y=(0,mt.Xf)(v(re,ft(v)(w))),A?(A.unsubscribe(),A=null,Y.subscribe(m)):U=!0})),U&&(A.unsubscribe(),A=null,Y.subscribe(m))})}var Ft=k(5026);function Ln(v){return v<=0?()=>Tt.E:(0,Ue.e)((w,m)=>{let A=[];w.subscribe((0,Je.x)(m,U=>{A.push(U),v<A.length&&A.shift()},()=>{for(const U of A)m.next(U);m.complete()},void 0,()=>{A=null}))})}var Ut=k(8068),$t=k(6590);function _n(v,w){const m=arguments.length>=2;return A=>A.pipe(v?(0,Ke.h)((U,Y)=>v(U,Y,A)):ve.y,Ln(1),m?(0,$t.d)(w):(0,Ut.T)(()=>new te.K))}function Ir(v){return(0,Ue.e)((w,m)=>{try{w.subscribe(m)}finally{m.add(v)}})}var Vn=k(8189),rr=k(1481);const zt="primary",yr=Symbol("RouteTitle");class De{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const m=this.params[w];return Array.isArray(m)?m[0]:m}return null}getAll(w){if(this.has(w)){const m=this.params[w];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Se(v){return new De(v)}function Ne(v,w,m){const A=m.path.split("/");if(A.length>v.length||"full"===m.pathMatch&&(w.hasChildren()||A.length<v.length))return null;const U={};for(let Y=0;Y<A.length;Y++){const re=A[Y],Be=v[Y];if(re.startsWith(":"))U[re.substring(1)]=Be;else if(re!==Be.path)return null}return{consumed:v.slice(0,A.length),posParams:U}}function it(v,w){const m=v?Object.keys(v):void 0,A=w?Object.keys(w):void 0;if(!m||!A||m.length!=A.length)return!1;let U;for(let Y=0;Y<m.length;Y++)if(U=m[Y],!Mt(v[U],w[U]))return!1;return!0}function Mt(v,w){if(Array.isArray(v)&&Array.isArray(w)){if(v.length!==w.length)return!1;const m=[...v].sort(),A=[...w].sort();return m.every((U,Y)=>A[Y]===U)}return v===w}function Gn(v){return Array.prototype.concat.apply([],v)}function yn(v){return v.length>0?v[v.length-1]:null}function tn(v,w){for(const m in v)v.hasOwnProperty(m)&&w(v[m],m)}function ln(v){return(0,p.CqO)(v)?v:(0,p.QGY)(v)?(0,W.D)(Promise.resolve(v)):(0,V.of)(v)}const Gt=!1,an={exact:function Qn(v,w,m){if(!gr(v.segments,w.segments)||!ir(v.segments,w.segments,m)||v.numberOfChildren!==w.numberOfChildren)return!1;for(const A in w.children)if(!v.children[A]||!Qn(v.children[A],w.children[A],m))return!1;return!0},subset:Sr},pr={exact:function or(v,w){return it(v,w)},subset:function Wn(v,w){return Object.keys(w).length<=Object.keys(v).length&&Object.keys(w).every(m=>Mt(v[m],w[m]))},ignored:()=>!0};function Xn(v,w,m){return an[m.paths](v.root,w.root,m.matrixParams)&&pr[m.queryParams](v.queryParams,w.queryParams)&&!("exact"===m.fragment&&v.fragment!==w.fragment)}function Sr(v,w,m){return Un(v,w,w.segments,m)}function Un(v,w,m,A){if(v.segments.length>m.length){const U=v.segments.slice(0,m.length);return!(!gr(U,m)||w.hasChildren()||!ir(U,m,A))}if(v.segments.length===m.length){if(!gr(v.segments,m)||!ir(v.segments,m,A))return!1;for(const U in w.children)if(!v.children[U]||!Sr(v.children[U],w.children[U],A))return!1;return!0}{const U=m.slice(0,v.segments.length),Y=m.slice(v.segments.length);return!!(gr(v.segments,U)&&ir(v.segments,U,A)&&v.children[zt])&&Un(v.children[zt],w,Y,A)}}function ir(v,w,m){return w.every((A,U)=>pr[m](v[U].parameters,A.parameters))}class Sn{constructor(w=new bn([],{}),m={},A=null){this.root=w,this.queryParams=m,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Se(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class bn{constructor(w,m){this.segments=w,this.children=m,this.parent=null,tn(m,(A,U)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jt(this)}}class Wt{constructor(w,m){this.path=w,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Se(this.parameters)),this._parameterMap}toString(){return fe(this)}}function gr(v,w){return v.length===w.length&&v.every((m,A)=>m.path===w[A].path)}let dt=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return new We},providedIn:"root"}),v})();class We{parse(w){const m=new pt(w);return new Sn(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(w){const m=`/${pe(w.root,!0)}`,A=function xe(v){const w=Object.keys(v).map(m=>{const A=v[m];return Array.isArray(A)?A.map(U=>`${J(m)}=${J(U)}`).join("&"):`${J(m)}=${J(A)}`}).filter(m=>!!m);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${m}${A}${"string"==typeof w.fragment?`#${function ie(v){return encodeURI(v)}(w.fragment)}`:""}`}}const jt=new We;function Jt(v){return v.segments.map(w=>fe(w)).join("/")}function pe(v,w){if(!v.hasChildren())return Jt(v);if(w){const m=v.children[zt]?pe(v.children[zt],!1):"",A=[];return tn(v.children,(U,Y)=>{Y!==zt&&A.push(`${Y}:${pe(U,!1)}`)}),A.length>0?`${m}(${A.join("//")})`:m}{const m=function $e(v,w){let m=[];return tn(v.children,(A,U)=>{U===zt&&(m=m.concat(w(A,U)))}),tn(v.children,(A,U)=>{U!==zt&&(m=m.concat(w(A,U)))}),m}(v,(A,U)=>U===zt?[pe(v.children[zt],!1)]:[`${U}:${pe(A,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[zt]?`${Jt(v)}/${m[0]}`:`${Jt(v)}/(${m.join("//")})`}}function ce(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function J(v){return ce(v).replace(/%3B/gi,";")}function Z(v){return ce(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function be(v){return decodeURIComponent(v)}function le(v){return be(v.replace(/\+/g,"%20"))}function fe(v){return`${Z(v.path)}${function ae(v){return Object.keys(v).map(w=>`;${Z(w)}=${Z(v[w])}`).join("")}(v.parameters)}`}const nt=/^[^\/()?;=#]+/;function Dt(v){const w=v.match(nt);return w?w[0]:""}const fn=/^[^=?&#]+/,ar=/^[^&#]+/;class pt{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(w.length>0||Object.keys(m).length>0)&&(A[zt]=new bn(w,m)),A}parseSegment(){const w=Dt(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new p.vHH(4009,Gt);return this.capture(w),new Wt(be(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const m=Dt(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const U=Dt(this.remaining);U&&(A=U,this.capture(A))}w[be(m)]=be(A)}parseQueryParam(w){const m=function pn(v){const w=v.match(fn);return w?w[0]:""}(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const re=function vr(v){const w=v.match(ar);return w?w[0]:""}(this.remaining);re&&(A=re,this.capture(A))}const U=le(m),Y=le(A);if(w.hasOwnProperty(U)){let re=w[U];Array.isArray(re)||(re=[re],w[U]=re),re.push(Y)}else w[U]=Y}parseParens(w){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Dt(this.remaining),U=this.remaining[A.length];if("/"!==U&&")"!==U&&";"!==U)throw new p.vHH(4010,Gt);let Y;A.indexOf(":")>-1?(Y=A.slice(0,A.indexOf(":")),this.capture(Y),this.capture(":")):w&&(Y=zt);const re=this.parseChildren();m[Y]=1===Object.keys(re).length?re[zt]:new bn([],re),this.consumeOptional("//")}return m}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new p.vHH(4011,Gt)}}function qe(v){return v.segments.length>0?new bn([],{[zt]:v}):v}function Rt(v){const w={};for(const A of Object.keys(v.children)){const Y=Rt(v.children[A]);(Y.segments.length>0||Y.hasChildren())&&(w[A]=Y)}return function gn(v){if(1===v.numberOfChildren&&v.children[zt]){const w=v.children[zt];return new bn(v.segments.concat(w.segments),w.children)}return v}(new bn(v.segments,w))}function vn(v){return v instanceof Sn}const Kn=!1;function Kr(v,w,m,A,U){if(0===m.length)return ti(w.root,w.root,w.root,A,U);const Y=function Zt(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new ai(!0,0,v);let w=0,m=!1;const A=v.reduce((U,Y,re)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Be={};return tn(Y.outlets,(St,Xt)=>{Be[Xt]="string"==typeof St?St.split("/"):St}),[...U,{outlets:Be}]}if(Y.segmentPath)return[...U,Y.segmentPath]}return"string"!=typeof Y?[...U,Y]:0===re?(Y.split("/").forEach((Be,St)=>{0==St&&"."===Be||(0==St&&""===Be?m=!0:".."===Be?w++:""!=Be&&U.push(Be))}),U):[...U,Y]},[]);return new ai(m,w,A)}(m);return Y.toRoot()?ti(w.root,w.root,new bn([],{}),A,U):function re(St){const Xt=function br(v,w,m,A){if(v.isAbsolute)return new Bn(w.root,!0,0);if(-1===A)return new Bn(m,m===w.root,0);return function Yr(v,w,m){let A=v,U=w,Y=m;for(;Y>U;){if(Y-=U,A=A.parent,!A)throw new p.vHH(4005,Kn&&"Invalid number of '../'");U=A.segments.length}return new Bn(A,!1,U-Y)}(m,A+(Zr(v.commands[0])?0:1),v.numberOfDoubleDots)}(Y,w,v.snapshot?._urlSegment,St),dn=Xt.processChildren?mr(Xt.segmentGroup,Xt.index,Y.commands):ji(Xt.segmentGroup,Xt.index,Y.commands);return ti(w.root,Xt.segmentGroup,dn,A,U)}(v.snapshot?._lastPathIndex)}function Zr(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function $i(v){return"object"==typeof v&&null!=v&&v.outlets}function ti(v,w,m,A,U){let re,Y={};A&&tn(A,(St,Xt)=>{Y[Xt]=Array.isArray(St)?St.map(dn=>`${dn}`):`${St}`}),re=v===w?m:jr(v,w,m);const Be=qe(Rt(re));return new Sn(Be,Y,U)}function jr(v,w,m){const A={};return tn(v.children,(U,Y)=>{A[Y]=U===w?m:jr(U,w,m)}),new bn(v.segments,A)}class ai{constructor(w,m,A){if(this.isAbsolute=w,this.numberOfDoubleDots=m,this.commands=A,w&&A.length>0&&Zr(A[0]))throw new p.vHH(4003,Kn&&"Root segment cannot have matrix parameters");const U=A.find($i);if(U&&U!==yn(A))throw new p.vHH(4004,Kn&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bn{constructor(w,m,A){this.segmentGroup=w,this.processChildren=m,this.index=A}}function ji(v,w,m){if(v||(v=new bn([],{})),0===v.segments.length&&v.hasChildren())return mr(v,w,m);const A=function Fe(v,w,m){let A=0,U=w;const Y={match:!1,pathIndex:0,commandIndex:0};for(;U<v.segments.length;){if(A>=m.length)return Y;const re=v.segments[U],Be=m[A];if($i(Be))break;const St=`${Be}`,Xt=A<m.length-1?m[A+1]:null;if(U>0&&void 0===St)break;if(St&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!Ot(St,Xt,re))return Y;A+=2}else{if(!Ot(St,{},re))return Y;A++}U++}return{match:!0,pathIndex:U,commandIndex:A}}(v,w,m),U=m.slice(A.commandIndex);if(A.match&&A.pathIndex<v.segments.length){const Y=new bn(v.segments.slice(0,A.pathIndex),{});return Y.children[zt]=new bn(v.segments.slice(A.pathIndex),v.children),mr(Y,0,U)}return A.match&&0===U.length?new bn(v.segments,{}):A.match&&!v.hasChildren()?Re(v,w,m):A.match?mr(v,0,U):Re(v,w,m)}function mr(v,w,m){if(0===m.length)return new bn(v.segments,{});{const A=function ci(v){return $i(v[0])?v[0].outlets:{[zt]:v}}(m),U={};if(!A[zt]&&v.children[zt]&&1===v.numberOfChildren&&0===v.children[zt].segments.length){const Y=mr(v.children[zt],w,m);return new bn(v.segments,Y.children)}return tn(A,(Y,re)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(U[re]=ji(v.children[re],w,Y))}),tn(v.children,(Y,re)=>{void 0===A[re]&&(U[re]=Y)}),new bn(v.segments,U)}}function Re(v,w,m){const A=v.segments.slice(0,w);let U=0;for(;U<m.length;){const Y=m[U];if($i(Y)){const St=Me(Y.outlets);return new bn(A,St)}if(0===U&&Zr(m[0])){A.push(new Wt(v.segments[w].path,Et(m[0]))),U++;continue}const re=$i(Y)?Y.outlets[zt]:`${Y}`,Be=U<m.length-1?m[U+1]:null;re&&Be&&Zr(Be)?(A.push(new Wt(re,Et(Be))),U+=2):(A.push(new Wt(re,{})),U++)}return new bn(A,{})}function Me(v){const w={};return tn(v,(m,A)=>{"string"==typeof m&&(m=[m]),null!==m&&(w[A]=Re(new bn([],{}),0,m))}),w}function Et(v){const w={};return tn(v,(m,A)=>w[A]=`${m}`),w}function Ot(v,w,m){return v==m.path&&it(w,m.parameters)}const xn="imperative";class $n{constructor(w,m){this.id=w,this.url=m}}class On extends $n{constructor(w,m,A="imperative",U=null){super(w,m),this.type=0,this.navigationTrigger=A,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class er extends $n{constructor(w,m,A){super(w,m),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vi extends $n{constructor(w,m,A,U){super(w,m),this.reason=A,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hr extends $n{constructor(w,m,A,U){super(w,m),this.reason=A,this.code=U,this.type=16}}class di extends $n{constructor(w,m,A,U){super(w,m),this.error=A,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ai extends $n{constructor(w,m,A,U){super(w,m),this.urlAfterRedirects=A,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends $n{constructor(w,m,A,U){super(w,m),this.urlAfterRedirects=A,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji extends $n{constructor(w,m,A,U,Y){super(w,m),this.urlAfterRedirects=A,this.state=U,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qs extends $n{constructor(w,m,A,U){super(w,m),this.urlAfterRedirects=A,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs extends $n{constructor(w,m,A,U){super(w,m),this.urlAfterRedirects=A,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xi{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class is{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ds{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _i{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wi{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{constructor(w,m,A){this.routerEvent=w,this.position=m,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Si=(()=>{class v{createUrlTree(m,A,U,Y,re,Be){return Kr(m||A.root,U,Y,re,Be)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})(),hs=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(w){return Si.\u0275fac(w)},providedIn:"root"}),v})();class Er{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const m=this.pathFromRoot(w);return m.length>1?m[m.length-2]:null}children(w){const m=ks(w,this._root);return m?m.children.map(A=>A.value):[]}firstChild(w){const m=ks(w,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(w){const m=xi(w,this._root);return m.length<2?[]:m[m.length-2].children.map(U=>U.value).filter(U=>U!==w)}pathFromRoot(w){return xi(w,this._root).map(m=>m.value)}}function ks(v,w){if(v===w.value)return w;for(const m of w.children){const A=ks(v,m);if(A)return A}return null}function xi(v,w){if(v===w.value)return[w];for(const m of w.children){const A=xi(v,m);if(A.length)return A.unshift(w),A}return[]}class Ki{constructor(w,m){this.value=w,this.children=m}toString(){return`TreeNode(${this.value})`}}function As(v){const w={};return v&&v.children.forEach(m=>w[m.value.outlet]=m),w}class ss extends Er{constructor(w,m){super(w),this.snapshot=m,Ss(this,w)}toString(){return this.snapshot.toString()}}function bo(v,w){const m=function Ro(v,w){const re=new es([],{},{},"",{},zt,w,null,v.root,-1,{});return new os("",new Ki(re,[]))}(v,w),A=new L([new Wt("",{})]),U=new L({}),Y=new L({}),re=new L({}),Be=new L(""),St=new Fs(A,U,re,Be,Y,zt,w,m.root);return St.snapshot=m.root,new ss(new Ki(St,[]),m)}class Fs{constructor(w,m,A,U,Y,re,Be,St){this.url=w,this.params=m,this.queryParams=A,this.fragment=U,this.data=Y,this.outlet=re,this.component=Be,this.title=this.data?.pipe((0,Lt.U)(Xt=>Xt[yr]))??(0,V.of)(void 0),this._futureSnapshot=St}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Lt.U)(w=>Se(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Lt.U)(w=>Se(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ro(v,w="emptyOnly"){const m=v.pathFromRoot;let A=0;if("always"!==w)for(A=m.length-1;A>=1;){const U=m[A],Y=m[A-1];if(U.routeConfig&&""===U.routeConfig.path)A--;else{if(Y.component)break;A--}}return function Ls(v){return v.reduce((w,m)=>({params:{...w.params,...m.params},data:{...w.data,...m.data},resolve:{...m.data,...w.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(A))}class es{get title(){return this.data?.[yr]}constructor(w,m,A,U,Y,re,Be,St,Xt,dn,Ur){this.url=w,this.params=m,this.queryParams=A,this.fragment=U,this.data=Y,this.outlet=re,this.component=Be,this.routeConfig=St,this._urlSegment=Xt,this._lastPathIndex=dn,this._resolve=Ur}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Se(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Se(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class os extends Er{constructor(w,m){super(m),this.url=w,Ss(this,m)}toString(){return po(this._root)}}function Ss(v,w){w.value._routerState=v,w.children.forEach(m=>Ss(v,m))}function po(v){const w=v.children.length>0?` { ${v.children.map(po).join(", ")} } `:"";return`${v.value}${w}`}function Oi(v){if(v.snapshot){const w=v.snapshot,m=v._futureSnapshot;v.snapshot=m,it(w.queryParams,m.queryParams)||v.queryParams.next(m.queryParams),w.fragment!==m.fragment&&v.fragment.next(m.fragment),it(w.params,m.params)||v.params.next(m.params),function Pe(v,w){if(v.length!==w.length)return!1;for(let m=0;m<v.length;++m)if(!it(v[m],w[m]))return!1;return!0}(w.url,m.url)||v.url.next(m.url),it(w.data,m.data)||v.data.next(m.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function K(v,w){const m=it(v.params,w.params)&&function Zn(v,w){return gr(v,w)&&v.every((m,A)=>it(m.parameters,w[A].parameters))}(v.url,w.url);return m&&!(!v.parent!=!w.parent)&&(!v.parent||K(v.parent,w.parent))}function ge(v,w,m){if(m&&v.shouldReuseRoute(w.value,m.value.snapshot)){const A=m.value;A._futureSnapshot=w.value;const U=function Ce(v,w,m){return w.children.map(A=>{for(const U of m.children)if(v.shouldReuseRoute(A.value,U.value.snapshot))return ge(v,A,U);return ge(v,A)})}(v,w,m);return new Ki(A,U)}{if(v.shouldAttach(w.value)){const Y=v.retrieve(w.value);if(null!==Y){const re=Y.route;return re.value._futureSnapshot=w.value,re.children=w.children.map(Be=>ge(v,Be)),re}}const A=function Le(v){return new Fs(new L(v.url),new L(v.params),new L(v.queryParams),new L(v.fragment),new L(v.data),v.outlet,v.component,v)}(w.value),U=w.children.map(Y=>ge(v,Y));return new Ki(A,U)}}const bt="ngNavigationCancelingError";function Bt(v,w){const{redirectTo:m,navigationBehaviorOptions:A}=vn(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,U=wn(!1,0,w);return U.url=m,U.navigationBehaviorOptions=A,U}function wn(v,w,m){const A=new Error("NavigationCancelingError: "+(v||""));return A[bt]=!0,A.cancellationCode=w,m&&(A.url=m),A}function Dn(v){return Hn(v)&&vn(v.url)}function Hn(v){return v&&v[bt]}class Jn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new $r,this.attachRef=null}}let $r=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(m,A){const U=this.getOrCreateContext(m);U.outlet=A,this.contexts.set(m,U)}onChildOutletDestroyed(m){const A=this.getContext(m);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let A=this.getContext(m);return A||(A=new Jn,this.contexts.set(m,A)),A}getContext(m){return this.contexts.get(m)||null}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Qr=!1;let zr=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)($r),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(m){if(m.name){const{firstChange:A,previousValue:U}=m.name;if(A)return;this.isTrackedInParentContexts(U)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(U)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Qr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Qr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Qr);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,A){this.activated=m,this._activatedRoute=A,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,A){if(this.isActivated)throw new p.vHH(4013,Qr);this._activatedRoute=m;const U=this.location,re=m.snapshot.component,Be=this.parentContexts.getOrCreateContext(this.name).children,St=new kr(m,Be,U.injector);if(A&&function lr(v){return!!v.resolveComponentFactory}(A)){const Xt=A.resolveComponentFactory(re);this.activated=U.createComponent(Xt,U.length,St)}else this.activated=U.createComponent(re,{index:U.length,injector:St,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275dir=p.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),v})();class kr{constructor(w,m,A){this.route=w,this.childContexts=m,this.parent=A}get(w,m){return w===Fs?this.route:w===$r?this.childContexts:this.parent.get(w,m)}}let Mr=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275cmp=p.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(m,A){1&m&&p._UZ(0,"router-outlet")},dependencies:[zr],encapsulation:2}),v})();function gi(v,w){return v.providers&&!v._injector&&(v._injector=(0,p.MMx)(v.providers,w,`Route: ${v.path}`)),v._injector??w}function Us(v){const w=v.children&&v.children.map(Us),m=w?{...v,children:w}:{...v};return!m.component&&!m.loadComponent&&(w||m.loadChildren)&&m.outlet&&m.outlet!==zt&&(m.component=Mr),m}function Ei(v){return v.outlet||zt}function qo(v,w){const m=v.filter(A=>Ei(A)===w);return m.push(...v.filter(A=>Ei(A)!==w)),m}function as(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let w=v.parent;w;w=w.parent){const m=w.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Ks{constructor(w,m,A,U){this.routeReuseStrategy=w,this.futureState=m,this.currState=A,this.forwardEvent=U}activate(w){const m=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,A,w),Oi(this.futureState.root),this.activateChildRoutes(m,A,w)}deactivateChildRoutes(w,m,A){const U=As(m);w.children.forEach(Y=>{const re=Y.value.outlet;this.deactivateRoutes(Y,U[re],A),delete U[re]}),tn(U,(Y,re)=>{this.deactivateRouteAndItsChildren(Y,A)})}deactivateRoutes(w,m,A){const U=w.value,Y=m?m.value:null;if(U===Y)if(U.component){const re=A.getContext(U.outlet);re&&this.deactivateChildRoutes(w,m,re.children)}else this.deactivateChildRoutes(w,m,A);else Y&&this.deactivateRouteAndItsChildren(m,A)}deactivateRouteAndItsChildren(w,m){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,m):this.deactivateRouteAndOutlet(w,m)}detachAndStoreRouteSubtree(w,m){const A=m.getContext(w.value.outlet),U=A&&w.value.component?A.children:m,Y=As(w);for(const re of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[re],U);if(A&&A.outlet){const re=A.outlet.detach(),Be=A.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:re,route:w,contexts:Be})}}deactivateRouteAndOutlet(w,m){const A=m.getContext(w.value.outlet),U=A&&w.value.component?A.children:m,Y=As(w);for(const re of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[re],U);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(w,m,A){const U=As(m);w.children.forEach(Y=>{this.activateRoutes(Y,U[Y.value.outlet],A),this.forwardEvent(new wi(Y.value.snapshot))}),w.children.length&&this.forwardEvent(new _i(w.value.snapshot))}activateRoutes(w,m,A){const U=w.value,Y=m?m.value:null;if(Oi(U),U===Y)if(U.component){const re=A.getOrCreateContext(U.outlet);this.activateChildRoutes(w,m,re.children)}else this.activateChildRoutes(w,m,A);else if(U.component){const re=A.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Be=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),re.children.onOutletReAttached(Be.contexts),re.attachRef=Be.componentRef,re.route=Be.route.value,re.outlet&&re.outlet.attach(Be.componentRef,Be.route.value),Oi(Be.route.value),this.activateChildRoutes(w,null,re.children)}else{const Be=as(U.snapshot),St=Be?.get(p._Vd)??null;re.attachRef=null,re.route=U,re.resolver=St,re.injector=Be,re.outlet&&re.outlet.activateWith(U,re.injector),this.activateChildRoutes(w,null,re.children)}}else this.activateChildRoutes(w,null,A)}}class Nn{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class io{constructor(w,m){this.component=w,this.route=m}}function Ko(v,w,m){const A=v._root;return fs(A,w?w._root:null,m,[A.value])}function xs(v,w){const m=Symbol(),A=w.get(v,m);return A===m?"function"!=typeof v||(0,p.Z0I)(v)?w.get(v):v:A}function fs(v,w,m,A,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=As(w);return v.children.forEach(re=>{(function oa(v,w,m,A,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=v.value,re=w?w.value:null,Be=m?m.getContext(v.value.outlet):null;if(re&&Y.routeConfig===re.routeConfig){const St=function Oo(v,w,m){if("function"==typeof m)return m(v,w);switch(m){case"pathParamsChange":return!gr(v.url,w.url);case"pathParamsOrQueryParamsChange":return!gr(v.url,w.url)||!it(v.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!K(v,w)||!it(v.queryParams,w.queryParams);default:return!K(v,w)}}(re,Y,Y.routeConfig.runGuardsAndResolvers);St?U.canActivateChecks.push(new Nn(A)):(Y.data=re.data,Y._resolvedData=re._resolvedData),fs(v,w,Y.component?Be?Be.children:null:m,A,U),St&&Be&&Be.outlet&&Be.outlet.isActivated&&U.canDeactivateChecks.push(new io(Be.outlet.component,re))}else re&&so(w,Be,U),U.canActivateChecks.push(new Nn(A)),fs(v,null,Y.component?Be?Be.children:null:m,A,U)})(re,Y[re.value.outlet],m,A.concat([re.value]),U),delete Y[re.value.outlet]}),tn(Y,(re,Be)=>so(re,m.getContext(Be),U)),U}function so(v,w,m){const A=As(v),U=v.value;tn(A,(Y,re)=>{so(Y,U.component?w?w.children.getContext(re):null:w,m)}),m.canDeactivateChecks.push(new io(U.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,U))}function x(v){return"function"==typeof v}function Ms(v){return v instanceof te.K||"EmptyError"===v?.name}const _s=Symbol("INITIAL_VALUE");function Ni(){return(0,At.w)(v=>_t(v.map(w=>w.pipe((0,nr.q)(1),(0,He.O)(_s)))).pipe((0,Lt.U)(w=>{for(const m of w)if(!0!==m){if(m===_s)return _s;if(!1===m||m instanceof Sn)return m}return!0}),(0,Ke.h)(w=>w!==_s),(0,nr.q)(1)))}function Fa(v){return(0,Qe.z)((0,ze.b)(w=>{if(vn(w))throw Bt(0,w)}),(0,Lt.U)(w=>!0===w))}const No={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ts(v,w,m,A,U){const Y=ko(v,w,m);return Y.matched?function ri(v,w,m,A){const U=w.canMatch;if(!U||0===U.length)return(0,V.of)(!0);const Y=U.map(re=>{const Be=xs(re,v);return ln(function Pr(v){return v&&x(v.canMatch)}(Be)?Be.canMatch(w,m):v.runInContext(()=>Be(w,m)))});return(0,V.of)(Y).pipe(Ni(),Fa())}(A=gi(w,A),w,m).pipe((0,Lt.U)(re=>!0===re?Y:{...No})):(0,V.of)(Y)}function ko(v,w,m){if(""===w.path)return"full"===w.pathMatch&&(v.hasChildren()||m.length>0)?{...No}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const U=(w.matcher||Ne)(m,v,w);if(!U)return{...No};const Y={};tn(U.posParams,(Be,St)=>{Y[St]=Be.path});const re=U.consumed.length>0?{...Y,...U.consumed[U.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:U.consumed,remainingSegments:m.slice(U.consumed.length),parameters:re,positionalParamSegments:U.posParams??{}}}function Ar(v,w,m,A){if(m.length>0&&function Rs(v,w,m){return m.some(A=>mo(v,w,A)&&Ei(A)!==zt)}(v,m,A)){const Y=new bn(w,function go(v,w,m,A){const U={};U[zt]=A,A._sourceSegment=v,A._segmentIndexShift=w.length;for(const Y of m)if(""===Y.path&&Ei(Y)!==zt){const re=new bn([],{});re._sourceSegment=v,re._segmentIndexShift=w.length,U[Ei(Y)]=re}return U}(v,w,A,new bn(m,v.children)));return Y._sourceSegment=v,Y._segmentIndexShift=w.length,{segmentGroup:Y,slicedSegments:[]}}if(0===m.length&&function Fo(v,w,m){return m.some(A=>mo(v,w,A))}(v,m,A)){const Y=new bn(v.segments,function La(v,w,m,A,U){const Y={};for(const re of A)if(mo(v,m,re)&&!U[Ei(re)]){const Be=new bn([],{});Be._sourceSegment=v,Be._segmentIndexShift=w.length,Y[Ei(re)]=Be}return{...U,...Y}}(v,w,m,A,v.children));return Y._sourceSegment=v,Y._segmentIndexShift=w.length,{segmentGroup:Y,slicedSegments:m}}const U=new bn(v.segments,v.children);return U._sourceSegment=v,U._segmentIndexShift=w.length,{segmentGroup:U,slicedSegments:m}}function mo(v,w,m){return(!(v.hasChildren()||w.length>0)||"full"!==m.pathMatch)&&""===m.path}function ns(v,w,m,A){return!!(Ei(v)===A||A!==zt&&mo(w,m,v))&&("**"===v.path||ko(w,v,m).matched)}function Lo(v,w,m){return 0===w.length&&!v.children[m]}const Co=!1;class gs{constructor(w){this.segmentGroup=w||null}}class Jr{constructor(w){this.urlTree=w}}function qr(v){return tt(new gs(v))}function Xr(v){return tt(new Jr(v))}class tu{constructor(w,m,A,U,Y){this.injector=w,this.configLoader=m,this.urlSerializer=A,this.urlTree=U,this.config=Y,this.allowRedirects=!0}apply(){const w=Ar(this.urlTree.root,[],[],this.config).segmentGroup,m=new bn(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,m,zt).pipe((0,Lt.U)(Y=>this.createUrlTree(Rt(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ft(Y=>{if(Y instanceof Jr)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof gs?this.noMatchError(Y):Y}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,zt).pipe((0,Lt.U)(U=>this.createUrlTree(Rt(U),w.queryParams,w.fragment))).pipe(ft(U=>{throw U instanceof gs?this.noMatchError(U):U}))}noMatchError(w){return new p.vHH(4002,Co)}createUrlTree(w,m,A){const U=qe(w);return new Sn(U,m,A)}expandSegmentGroup(w,m,A,U){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(w,m,A).pipe((0,Lt.U)(Y=>new bn([],Y))):this.expandSegment(w,A,m,A.segments,U,!0)}expandChildren(w,m,A){const U=[];for(const Y of Object.keys(A.children))"primary"===Y?U.unshift(Y):U.push(Y);return(0,W.D)(U).pipe(ht(Y=>{const re=A.children[Y],Be=qo(m,Y);return this.expandSegmentGroup(w,Be,re,Y).pipe((0,Lt.U)(St=>({segment:St,outlet:Y})))}),(0,Ft.R)((Y,re)=>(Y[re.outlet]=re.segment,Y),{}),_n())}expandSegment(w,m,A,U,Y,re){return(0,W.D)(A).pipe(ht(Be=>this.expandSegmentAgainstRoute(w,m,A,Be,U,Y,re).pipe(ft(Xt=>{if(Xt instanceof gs)return(0,V.of)(null);throw Xt}))),(0,Ze.P)(Be=>!!Be),ft((Be,St)=>{if(Ms(Be))return Lo(m,U,Y)?(0,V.of)(new bn([],{})):qr(m);throw Be}))}expandSegmentAgainstRoute(w,m,A,U,Y,re,Be){return ns(U,m,Y,re)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(w,m,U,Y,re):Be&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,m,A,U,Y,re):qr(m):qr(m)}expandSegmentAgainstRouteUsingRedirect(w,m,A,U,Y,re){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,A,U,re):this.expandRegularSegmentAgainstRouteUsingRedirect(w,m,A,U,Y,re)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,m,A,U){const Y=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?Xr(Y):this.lineralizeSegments(A,Y).pipe((0,je.z)(re=>{const Be=new bn(re,{});return this.expandSegment(w,Be,m,re,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,m,A,U,Y,re){const{matched:Be,consumedSegments:St,remainingSegments:Xt,positionalParamSegments:dn}=ko(m,U,Y);if(!Be)return qr(m);const Ur=this.applyRedirectCommands(St,U.redirectTo,dn);return U.redirectTo.startsWith("/")?Xr(Ur):this.lineralizeSegments(U,Ur).pipe((0,je.z)(Pi=>this.expandSegment(w,m,A,Pi.concat(Xt),re,!1)))}matchSegmentAgainstRoute(w,m,A,U,Y){return"**"===A.path?(w=gi(A,w),A.loadChildren?(A._loadedRoutes?(0,V.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(w,A)).pipe((0,Lt.U)(Be=>(A._loadedRoutes=Be.routes,A._loadedInjector=Be.injector,new bn(U,{})))):(0,V.of)(new bn(U,{}))):ts(m,A,U,w).pipe((0,At.w)(({matched:re,consumedSegments:Be,remainingSegments:St})=>re?this.getChildConfig(w=A._injector??w,A,U).pipe((0,je.z)(dn=>{const Ur=dn.injector??w,Pi=dn.routes,{segmentGroup:$o,slicedSegments:Hs}=Ar(m,Be,St,Pi),ra=new bn($o.segments,$o.children);if(0===Hs.length&&ra.hasChildren())return this.expandChildren(Ur,Pi,ra).pipe((0,Lt.U)(ha=>new bn(Be,ha)));if(0===Pi.length&&0===Hs.length)return(0,V.of)(new bn(Be,{}));const Xs=Ei(A)===Y;return this.expandSegment(Ur,ra,Pi,Hs,Xs?zt:Y,!0).pipe((0,Lt.U)(za=>new bn(Be.concat(za.segments),za.children)))})):qr(m)))}getChildConfig(w,m,A){return m.children?(0,V.of)({routes:m.children,injector:w}):m.loadChildren?void 0!==m._loadedRoutes?(0,V.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function _a(v,w,m,A){const U=w.canLoad;if(void 0===U||0===U.length)return(0,V.of)(!0);const Y=U.map(re=>{const Be=xs(re,v);return ln(function R(v){return v&&x(v.canLoad)}(Be)?Be.canLoad(w,m):v.runInContext(()=>Be(w,m)))});return(0,V.of)(Y).pipe(Ni(),Fa())}(w,m,A).pipe((0,je.z)(U=>U?this.configLoader.loadChildren(w,m).pipe((0,ze.b)(Y=>{m._loadedRoutes=Y.routes,m._loadedInjector=Y.injector})):function Ys(v){return tt(wn(Co,3))}())):(0,V.of)({routes:[],injector:w})}lineralizeSegments(w,m){let A=[],U=m.root;for(;;){if(A=A.concat(U.segments),0===U.numberOfChildren)return(0,V.of)(A);if(U.numberOfChildren>1||!U.children[zt])return w.redirectTo,tt(new p.vHH(4e3,Co));U=U.children[zt]}}applyRedirectCommands(w,m,A){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),w,A)}applyRedirectCreateUrlTree(w,m,A,U){const Y=this.createSegmentGroup(w,m.root,A,U);return new Sn(Y,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(w,m){const A={};return tn(w,(U,Y)=>{if("string"==typeof U&&U.startsWith(":")){const Be=U.substring(1);A[Y]=m[Be]}else A[Y]=U}),A}createSegmentGroup(w,m,A,U){const Y=this.createSegments(w,m.segments,A,U);let re={};return tn(m.children,(Be,St)=>{re[St]=this.createSegmentGroup(w,Be,A,U)}),new bn(Y,re)}createSegments(w,m,A,U){return m.map(Y=>Y.path.startsWith(":")?this.findPosParam(w,Y,U):this.findOrReturn(Y,A))}findPosParam(w,m,A){const U=A[m.path.substring(1)];if(!U)throw new p.vHH(4001,Co);return U}findOrReturn(w,m){let A=0;for(const U of m){if(U.path===w.path)return m.splice(A),U;A++}return w}}class aa{}class S{constructor(w,m,A,U,Y,re,Be){this.injector=w,this.rootComponentType=m,this.config=A,this.urlTree=U,this.url=Y,this.paramsInheritanceStrategy=re,this.urlSerializer=Be}recognize(){const w=Ar(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,zt).pipe((0,Lt.U)(m=>{if(null===m)return null;const A=new es([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Ki(A,m),Y=new os(this.url,U);return this.inheritParamsAndData(Y._root),Y}))}inheritParamsAndData(w){const m=w.value,A=ro(m,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data),w.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(w,m,A,U){return 0===A.segments.length&&A.hasChildren()?this.processChildren(w,m,A):this.processSegment(w,m,A,A.segments,U)}processChildren(w,m,A){return(0,W.D)(Object.keys(A.children)).pipe(ht(U=>{const Y=A.children[U],re=qo(m,U);return this.processSegmentGroup(w,re,Y,U)}),(0,Ft.R)((U,Y)=>U&&Y?(U.push(...Y),U):null),function Pn(v,w=!1){return(0,Ue.e)((m,A)=>{let U=0;m.subscribe((0,Je.x)(A,Y=>{const re=v(Y,U++);(re||w)&&A.next(Y),!re&&A.complete()}))})}(U=>null!==U),(0,$t.d)(null),_n(),(0,Lt.U)(U=>{if(null===U)return null;const Y=ye(U);return function j(v){v.sort((w,m)=>w.value.outlet===zt?-1:m.value.outlet===zt?1:w.value.outlet.localeCompare(m.value.outlet))}(Y),Y}))}processSegment(w,m,A,U,Y){return(0,W.D)(m).pipe(ht(re=>this.processSegmentAgainstRoute(re._injector??w,re,A,U,Y)),(0,Ze.P)(re=>!!re),ft(re=>{if(Ms(re))return Lo(A,U,Y)?(0,V.of)([]):(0,V.of)(null);throw re}))}processSegmentAgainstRoute(w,m,A,U,Y){if(m.redirectTo||!ns(m,A,U,Y))return(0,V.of)(null);let re;if("**"===m.path){const Be=U.length>0?yn(U).parameters:{},St=B(A)+U.length,Xt=new es(U,Be,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ge(m),Ei(m),m.component??m._loadedComponent??null,m,I(A),St,qt(m));re=(0,V.of)({snapshot:Xt,consumedSegments:[],remainingSegments:[]})}else re=ts(A,m,U,w).pipe((0,Lt.U)(({matched:Be,consumedSegments:St,remainingSegments:Xt,parameters:dn})=>{if(!Be)return null;const Ur=B(A)+St.length;return{snapshot:new es(St,dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ge(m),Ei(m),m.component??m._loadedComponent??null,m,I(A),Ur,qt(m)),consumedSegments:St,remainingSegments:Xt}}));return re.pipe((0,At.w)(Be=>{if(null===Be)return(0,V.of)(null);const{snapshot:St,consumedSegments:Xt,remainingSegments:dn}=Be;w=m._injector??w;const Ur=m._loadedInjector??w,Pi=function N(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(m),{segmentGroup:$o,slicedSegments:Hs}=Ar(A,Xt,dn,Pi.filter(Xs=>void 0===Xs.redirectTo));if(0===Hs.length&&$o.hasChildren())return this.processChildren(Ur,Pi,$o).pipe((0,Lt.U)(Xs=>null===Xs?null:[new Ki(St,Xs)]));if(0===Pi.length&&0===Hs.length)return(0,V.of)([new Ki(St,[])]);const ra=Ei(m)===Y;return this.processSegment(Ur,Pi,$o,Hs,ra?zt:Y).pipe((0,Lt.U)(Xs=>null===Xs?null:[new Ki(St,Xs)]))}))}}function Q(v){const w=v.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function ye(v){const w=[],m=new Set;for(const A of v){if(!Q(A)){w.push(A);continue}const U=w.find(Y=>A.value.routeConfig===Y.value.routeConfig);void 0!==U?(U.children.push(...A.children),m.add(U)):w.push(A)}for(const A of m){const U=ye(A.children);w.push(new Ki(A.value,U))}return w.filter(A=>!m.has(A))}function I(v){let w=v;for(;w._sourceSegment;)w=w._sourceSegment;return w}function B(v){let w=v,m=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,m+=w._segmentIndexShift??0;return m-1}function Ge(v){return v.data||{}}function qt(v){return v.resolve||{}}function un(v){return"string"==typeof v.title||null===v.title}function cn(v){return(0,At.w)(w=>{const m=v(w);return m?(0,W.D)(m).pipe((0,Lt.U)(()=>w)):(0,V.of)(w)})}const Kt=new p.OlP("ROUTES");let at=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,V.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const A=ln(m.loadComponent()).pipe((0,Lt.U)(Fi),(0,ze.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=Y}),Ir(()=>{this.componentLoaders.delete(m)})),U=new on(A,()=>new Ie.x).pipe(Pt());return this.componentLoaders.set(m,U),U}loadChildren(m,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,V.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const Y=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,Lt.U)(Be=>{this.onLoadEndListener&&this.onLoadEndListener(A);let St,Xt,dn=!1;Array.isArray(Be)?Xt=Be:(St=Be.create(m).injector,Xt=Gn(St.get(Kt,[],p.XFs.Self|p.XFs.Optional)));return{routes:Xt.map(Us),injector:St}}),Ir(()=>{this.childrenLoaders.delete(A)})),re=new on(Y,()=>new Ie.x).pipe(Pt());return this.childrenLoaders.set(A,re),re}loadModuleFactoryOrRoutes(m){return ln(m()).pipe((0,Lt.U)(Fi),(0,je.z)(A=>A instanceof p.YKP||Array.isArray(A)?(0,V.of)(A):(0,W.D)(this.compiler.compileModuleAsync(A))))}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Fi(v){return function Nt(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let Ua=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ie.x,this.configLoader=(0,p.f3M)(at),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(dt),this.rootContexts=(0,p.f3M)($r),this.navigationId=0,this.afterPreactivation=()=>(0,V.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=U=>this.events.next(new is(U)),this.configLoader.onLoadStartListener=U=>this.events.next(new Xi(U))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:A})}setupNavigations(m){return this.transitions=new L({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xn,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ke.h)(A=>0!==A.id),(0,Lt.U)(A=>({...A,extractedUrl:m.urlHandlingStrategy.extract(A.rawUrl)})),(0,At.w)(A=>{let U=!1,Y=!1;return(0,V.of)(A).pipe((0,ze.b)(re=>{this.currentNavigation={id:re.id,initialUrl:re.rawUrl,extractedUrl:re.extractedUrl,trigger:re.source,extras:re.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,At.w)(re=>{const Be=m.browserUrlTree.toString(),St=!m.navigated||re.extractedUrl.toString()!==Be||Be!==m.currentUrlTree.toString();if(!St&&"reload"!==(re.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const dn="";return this.events.next(new Hr(re.id,m.serializeUrl(A.rawUrl),dn,0)),m.rawUrlTree=re.rawUrl,re.resolve(null),Tt.E}if(m.urlHandlingStrategy.shouldProcessUrl(re.rawUrl))return bu(re.source)&&(m.browserUrlTree=re.extractedUrl),(0,V.of)(re).pipe((0,At.w)(dn=>{const Ur=this.transitions?.getValue();return this.events.next(new On(dn.id,this.urlSerializer.serialize(dn.extractedUrl),dn.source,dn.restoredState)),Ur!==this.transitions?.getValue()?Tt.E:Promise.resolve(dn)}),function Zi(v,w,m,A){return(0,At.w)(U=>function Uo(v,w,m,A,U){return new tu(v,w,m,A,U).apply()}(v,w,m,U.extractedUrl,A).pipe((0,Lt.U)(Y=>({...U,urlAfterRedirects:Y}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,ze.b)(dn=>{this.currentNavigation={...this.currentNavigation,finalUrl:dn.urlAfterRedirects},A.urlAfterRedirects=dn.urlAfterRedirects}),function En(v,w,m,A,U){return(0,je.z)(Y=>function Va(v,w,m,A,U,Y,re="emptyOnly"){return new S(v,w,m,A,U,re,Y).recognize().pipe((0,At.w)(Be=>null===Be?function Yo(v){return new Oe.y(w=>w.error(v))}(new aa):(0,V.of)(Be)))}(v,w,m,Y.urlAfterRedirects,A.serialize(Y.urlAfterRedirects),A,U).pipe((0,Lt.U)(re=>({...Y,targetSnapshot:re}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,ze.b)(dn=>{if(A.targetSnapshot=dn.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!dn.extras.skipLocationChange){const Pi=m.urlHandlingStrategy.merge(dn.urlAfterRedirects,dn.rawUrl);m.setBrowserUrl(Pi,dn)}m.browserUrlTree=dn.urlAfterRedirects}const Ur=new Ai(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(Ur)}));if(St&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:dn,extractedUrl:Ur,source:Pi,restoredState:$o,extras:Hs}=re,ra=new On(dn,this.urlSerializer.serialize(Ur),Pi,$o);this.events.next(ra);const Xs=bo(Ur,this.rootComponentType).snapshot;return A={...re,targetSnapshot:Xs,urlAfterRedirects:Ur,extras:{...Hs,skipLocationChange:!1,replaceUrl:!1}},(0,V.of)(A)}{const dn="";return this.events.next(new Hr(re.id,m.serializeUrl(A.extractedUrl),dn,1)),m.rawUrlTree=re.rawUrl,re.resolve(null),Tt.E}}),(0,ze.b)(re=>{const Be=new xr(re.id,this.urlSerializer.serialize(re.extractedUrl),this.urlSerializer.serialize(re.urlAfterRedirects),re.targetSnapshot);this.events.next(Be)}),(0,Lt.U)(re=>A={...re,guards:Ko(re.targetSnapshot,re.currentSnapshot,this.rootContexts)}),function Zs(v,w){return(0,je.z)(m=>{const{targetSnapshot:A,currentSnapshot:U,guards:{canActivateChecks:Y,canDeactivateChecks:re}}=m;return 0===re.length&&0===Y.length?(0,V.of)({...m,guardsResult:!0}):function mi(v,w,m,A){return(0,W.D)(v).pipe((0,je.z)(U=>function ki(v,w,m,A,U){const Y=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,V.of)(!0);const re=Y.map(Be=>{const St=as(w)??U,Xt=xs(Be,St);return ln(function mn(v){return v&&x(v.canDeactivate)}(Xt)?Xt.canDeactivate(v,w,m,A):St.runInContext(()=>Xt(v,w,m,A))).pipe((0,Ze.P)())});return(0,V.of)(re).pipe(Ni())}(U.component,U.route,m,w,A)),(0,Ze.P)(U=>!0!==U,!0))}(re,A,U,v).pipe((0,je.z)(Be=>Be&&function O(v){return"boolean"==typeof v}(Be)?function us(v,w,m,A){return(0,W.D)(w).pipe(ht(U=>(0,It.z)(function $s(v,w){return null!==v&&w&&w(new ds(v)),(0,V.of)(!0)}(U.route.parent,A),function oo(v,w){return null!==v&&w&&w(new vs(v)),(0,V.of)(!0)}(U.route,A),function Zo(v,w,m){const A=w[w.length-1],Y=w.slice(0,w.length-1).reverse().map(re=>function Po(v){const w=v.routeConfig?v.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:v,guards:w}:null}(re)).filter(re=>null!==re).map(re=>wt(()=>{const Be=re.guards.map(St=>{const Xt=as(re.node)??m,dn=xs(St,Xt);return ln(function Ye(v){return v&&x(v.canActivateChild)}(dn)?dn.canActivateChild(A,v):Xt.runInContext(()=>dn(A,v))).pipe((0,Ze.P)())});return(0,V.of)(Be).pipe(Ni())}));return(0,V.of)(Y).pipe(Ni())}(v,U.path,m),function ws(v,w,m){const A=w.routeConfig?w.routeConfig.canActivate:null;if(!A||0===A.length)return(0,V.of)(!0);const U=A.map(Y=>wt(()=>{const re=as(w)??m,Be=xs(Y,re);return ln(function X(v){return v&&x(v.canActivate)}(Be)?Be.canActivate(w,v):re.runInContext(()=>Be(w,v))).pipe((0,Ze.P)())}));return(0,V.of)(U).pipe(Ni())}(v,U.route,m))),(0,Ze.P)(U=>!0!==U,!0))}(A,Y,v,w):(0,V.of)(Be)),(0,Lt.U)(Be=>({...m,guardsResult:Be})))})}(this.environmentInjector,re=>this.events.next(re)),(0,ze.b)(re=>{if(A.guardsResult=re.guardsResult,vn(re.guardsResult))throw Bt(0,re.guardsResult);const Be=new Ji(re.id,this.urlSerializer.serialize(re.extractedUrl),this.urlSerializer.serialize(re.urlAfterRedirects),re.targetSnapshot,!!re.guardsResult);this.events.next(Be)}),(0,Ke.h)(re=>!!re.guardsResult||(m.restoreHistory(re),this.cancelNavigationTransition(re,"",3),!1)),cn(re=>{if(re.guards.canActivateChecks.length)return(0,V.of)(re).pipe((0,ze.b)(Be=>{const St=new qs(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot);this.events.next(St)}),(0,At.w)(Be=>{let St=!1;return(0,V.of)(Be).pipe(function _r(v,w){return(0,je.z)(m=>{const{targetSnapshot:A,guards:{canActivateChecks:U}}=m;if(!U.length)return(0,V.of)(m);let Y=0;return(0,W.D)(U).pipe(ht(re=>function gt(v,w,m,A){const U=v.routeConfig,Y=v._resolve;return void 0!==U?.title&&!un(U)&&(Y[yr]=U.title),function cr(v,w,m,A){const U=function fi(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===U.length)return(0,V.of)({});const Y={};return(0,W.D)(U).pipe((0,je.z)(re=>function Es(v,w,m,A){const U=as(w)??A,Y=xs(v,U);return ln(Y.resolve?Y.resolve(w,m):U.runInContext(()=>Y(w,m)))}(v[re],w,m,A).pipe((0,Ze.P)(),(0,ze.b)(Be=>{Y[re]=Be}))),Ln(1),function kn(v){return(0,Lt.U)(()=>v)}(Y),ft(re=>Ms(re)?Tt.E:tt(re)))}(Y,v,w,A).pipe((0,Lt.U)(re=>(v._resolvedData=re,v.data=ro(v,m).resolve,U&&un(U)&&(v.data[yr]=U.title),null)))}(re.route,A,v,w)),(0,ze.b)(()=>Y++),Ln(1),(0,je.z)(re=>Y===U.length?(0,V.of)(m):Tt.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,ze.b)({next:()=>St=!0,complete:()=>{St||(m.restoreHistory(Be),this.cancelNavigationTransition(Be,"",2))}}))}),(0,ze.b)(Be=>{const St=new rs(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot);this.events.next(St)}))}),cn(re=>{const Be=St=>{const Xt=[];St.routeConfig?.loadComponent&&!St.routeConfig._loadedComponent&&Xt.push(this.configLoader.loadComponent(St.routeConfig).pipe((0,ze.b)(dn=>{St.component=dn}),(0,Lt.U)(()=>{})));for(const dn of St.children)Xt.push(...Be(dn));return Xt};return _t(Be(re.targetSnapshot.root)).pipe((0,$t.d)(),(0,nr.q)(1))}),cn(()=>this.afterPreactivation()),(0,Lt.U)(re=>{const Be=function q(v,w,m){const A=ge(v,w._root,m?m._root:void 0);return new ss(A,w)}(m.routeReuseStrategy,re.targetSnapshot,re.currentRouterState);return A={...re,targetRouterState:Be}}),(0,ze.b)(re=>{m.currentUrlTree=re.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl),m.routerState=re.targetRouterState,"deferred"===m.urlUpdateStrategy&&(re.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,re),m.browserUrlTree=re.urlAfterRedirects)}),((v,w,m)=>(0,Lt.U)(A=>(new Ks(w,A.targetRouterState,A.currentRouterState,m).activate(v),A)))(this.rootContexts,m.routeReuseStrategy,re=>this.events.next(re)),(0,nr.q)(1),(0,ze.b)({next:re=>{U=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new er(re.id,this.urlSerializer.serialize(re.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(re.targetRouterState.snapshot),re.resolve(!0)},complete:()=>{U=!0}}),Ir(()=>{U||Y||this.cancelNavigationTransition(A,"",1),this.currentNavigation?.id===A.id&&(this.currentNavigation=null)}),ft(re=>{if(Y=!0,Hn(re)){Dn(re)||(m.navigated=!0,m.restoreHistory(A,!0));const Be=new vi(A.id,this.urlSerializer.serialize(A.extractedUrl),re.message,re.cancellationCode);if(this.events.next(Be),Dn(re)){const St=m.urlHandlingStrategy.merge(re.url,m.rawUrlTree),Xt={skipLocationChange:A.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||bu(A.source)};m.scheduleNavigation(St,xn,null,Xt,{resolve:A.resolve,reject:A.reject,promise:A.promise})}else A.resolve(!1)}else{m.restoreHistory(A,!0);const Be=new di(A.id,this.urlSerializer.serialize(A.extractedUrl),re,A.targetSnapshot??void 0);this.events.next(Be);try{A.resolve(m.errorHandler(re))}catch(St){A.reject(St)}}return Tt.E}))}))}cancelNavigationTransition(m,A,U){const Y=new vi(m.id,this.urlSerializer.serialize(m.extractedUrl),A,U);this.events.next(Y),m.resolve(!1)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function bu(v){return v!==xn}let zu=(()=>{class v{buildTitle(m){let A,U=m.root;for(;void 0!==U;)A=this.getResolvedTitleForRoute(U)??A,U=U.children.find(Y=>Y.outlet===zt);return A}getResolvedTitleForRoute(m){return m.data[yr]}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(yo)},providedIn:"root"}),v})(),yo=(()=>{class v extends zu{constructor(m){super(),this.title=m}updateTitle(m){const A=this.buildTitle(m);void 0!==A&&this.title.setTitle(A)}}return v.\u0275fac=function(m){return new(m||v)(p.LFG(rr.Dx))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),bc=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(Qo)},providedIn:"root"}),v})();class Cu{shouldDetach(w){return!1}store(w,m){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,m){return w.routeConfig===m.routeConfig}}let Qo=(()=>{class v extends Cu{}return v.\u0275fac=function(){let w;return function(A){return(w||(w=p.n5z(v)))(A||v)}}(),v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Mi=new p.OlP("",{providedIn:"root",factory:()=>({})});let wa=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(sr)},providedIn:"root"}),v})(),sr=(()=>{class v{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,A){return m}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function ru(v){throw v}function Di(v,w,m){return w.parse("/")}const Fn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Li={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(Mi,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ru,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Di,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(wa),this.routeReuseStrategy=(0,p.f3M)(bc),this.urlCreationStrategy=(0,p.f3M)(hs),this.titleStrategy=(0,p.f3M)(zu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Gn((0,p.f3M)(Kt,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(Ua),this.urlSerializer=(0,p.f3M)(dt),this.location=(0,p.f3M)(kt.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const A="popstate"===m.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,A,m.state)},0)}))}navigateToSyncWithBrowser(m,A,U){const Y={replaceUrl:!0},re=U?.navigationId?U:null;if(U){const St={...U};delete St.navigationId,delete St.\u0275routerPageId,0!==Object.keys(St).length&&(Y.state=St)}const Be=this.parseUrl(m);this.scheduleNavigation(Be,A,re,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(Us),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,A={}){const{relativeTo:U,queryParams:Y,fragment:re,queryParamsHandling:Be,preserveFragment:St}=A,Xt=St?this.currentUrlTree.fragment:re;let dn=null;switch(Be){case"merge":dn={...this.currentUrlTree.queryParams,...Y};break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=Y||null}return null!==dn&&(dn=this.removeEmptyProps(dn)),this.urlCreationStrategy.createUrlTree(U,this.routerState,this.currentUrlTree,m,dn,Xt??null)}navigateByUrl(m,A={skipLocationChange:!1}){const U=vn(m)?m:this.parseUrl(m),Y=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(Y,xn,null,A)}navigate(m,A={skipLocationChange:!1}){return function Ri(v){for(let w=0;w<v.length;w++){const m=v[w];if(null==m)throw new p.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,A),A)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let A;try{A=this.urlSerializer.parse(m)}catch(U){A=this.malformedUriErrorHandler(U,this.urlSerializer,m)}return A}isActive(m,A){let U;if(U=!0===A?{...Fn}:!1===A?{...Li}:A,vn(m))return Xn(this.currentUrlTree,m,U);const Y=this.parseUrl(m);return Xn(this.currentUrlTree,Y,U)}removeEmptyProps(m){return Object.keys(m).reduce((A,U)=>{const Y=m[U];return null!=Y&&(A[U]=Y),A},{})}scheduleNavigation(m,A,U,Y,re){if(this.disposed)return Promise.resolve(!1);let Be,St,Xt,dn;return re?(Be=re.resolve,St=re.reject,Xt=re.promise):Xt=new Promise((Ur,Pi)=>{Be=Ur,St=Pi}),dn="computed"===this.canceledNavigationResolution?U&&U.\u0275routerPageId?U.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:dn,source:A,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:Y,resolve:Be,reject:St,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch(Ur=>Promise.reject(Ur))}setBrowserUrl(m,A){const U=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(U)||A.extras.replaceUrl){const re={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(U,"",re)}else{const Y={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.go(U,"",Y)}}restoreHistory(m,A=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Y?this.location.historyGo(Y):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Y&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,A){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:A}:{navigationId:m}}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),Ii=(()=>{class v{constructor(m,A,U,Y,re,Be){this.router=m,this.route=A,this.tabIndexAttribute=U,this.renderer=Y,this.el=re,this.locationStrategy=Be,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ie.x;const St=re.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===St||"area"===St,this.isAnchorElement?this.subscription=m.events.subscribe(Xt=>{Xt instanceof er&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,p.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,p.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,p.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,A,U,Y,re){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||A||U||Y||re||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,A){const U=this.renderer,Y=this.el.nativeElement;null!==A?U.setAttribute(Y,m,A):U.removeAttribute(Y,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(m){return new(m||v)(p.Y36(tr),p.Y36(Fs),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(kt.S$))},v.\u0275dir=p.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,A){1&m&&p.NdJ("click",function(Y){return A.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&m&&p.uIk("target",A.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),v})();class Xo{}let Bo=(()=>{class v{constructor(m,A,U,Y,re){this.router=m,this.injector=U,this.preloadingStrategy=Y,this.loader=re}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ke.h)(m=>m instanceof er),ht(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,A){const U=[];for(const Y of A){Y.providers&&!Y._injector&&(Y._injector=(0,p.MMx)(Y.providers,m,`Route: ${Y.path}`));const re=Y._injector??m,Be=Y._loadedInjector??re;(Y.loadChildren&&!Y._loadedRoutes&&void 0===Y.canLoad||Y.loadComponent&&!Y._loadedComponent)&&U.push(this.preloadConfig(re,Y)),(Y.children||Y._loadedRoutes)&&U.push(this.processRoutes(Be,Y.children??Y._loadedRoutes))}return(0,W.D)(U).pipe((0,Vn.J)())}preloadConfig(m,A){return this.preloadingStrategy.preload(A,()=>{let U;U=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(m,A):(0,V.of)(null);const Y=U.pipe((0,je.z)(re=>null===re?(0,V.of)(void 0):(A._loadedRoutes=re.routes,A._loadedInjector=re.injector,this.processRoutes(re.injector??m,re.routes))));if(A.loadComponent&&!A._loadedComponent){const re=this.loader.loadComponent(A);return(0,W.D)([Y,re]).pipe((0,Vn.J)())}return Y})}}return v.\u0275fac=function(m){return new(m||v)(p.LFG(tr),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(Xo),p.LFG(at))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Gu=new p.OlP("");let Do=(()=>{class v{constructor(m,A,U,Y,re={}){this.urlSerializer=m,this.transitions=A,this.viewportScroller=U,this.zone=Y,this.options=re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},re.scrollPositionRestoration=re.scrollPositionRestoration||"disabled",re.anchorScrolling=re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof On?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof er&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Hi&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Hi(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return v.\u0275fac=function(m){p.$Z()},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})();var Is=(()=>((Is=Is||{})[Is.COMPLETE=0]="COMPLETE",Is[Is.FAILED=1]="FAILED",Is[Is.REDIRECTING=2]="REDIRECTING",Is))();const Vi=!1;function To(v,w){return{\u0275kind:v,\u0275providers:w}}const Ps=new p.OlP("",{providedIn:"root",factory:()=>!1});function Js(){const v=(0,p.f3M)(p.zs3);return w=>{const m=v.get(p.z2F);if(w!==m.components[0])return;const A=v.get(tr),U=v.get(Wu);1===v.get(Ia)&&A.initialNavigation(),v.get(ml,null,p.XFs.Optional)?.setUpPreloading(),v.get(Gu,null,p.XFs.Optional)?.init(),A.resetRootComponentType(m.componentTypes[0]),U.closed||(U.next(),U.complete(),U.unsubscribe())}}const Wu=new p.OlP(Vi?"bootstrap done indicator":"",{factory:()=>new Ie.x}),Ia=new p.OlP(Vi?"initial navigation":"",{providedIn:"root",factory:()=>1});function $a(){let v=[];return v=Vi?[{provide:p.Xts,multi:!0,useFactory:()=>{const w=(0,p.f3M)(tr);return()=>w.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function zi(v){if(!("type"in v))return`Unknown Router Event: ${v.constructor.name}`;switch(v.type){case 14:return`ActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state}, shouldActivate: ${v.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 2:return`NavigationCancel(id: ${v.id}, url: '${v.url}')`;case 16:return`NavigationSkipped(id: ${v.id}, url: '${v.url}')`;case 1:return`NavigationEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${v.id}, url: '${v.url}', error: ${v.error})`;case 0:return`NavigationStart(id: ${v.id}, url: '${v.url}')`;case 6:return`ResolveEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 5:return`ResolveStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 10:return`RouteConfigLoadEnd(path: ${v.route.path})`;case 9:return`RouteConfigLoadStart(path: ${v.route.path})`;case 4:return`RoutesRecognized(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 15:return`Scroll(anchor: '${v.anchor}', position: '${v.position?`${v.position[0]}, ${v.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],To(1,v)}const ml=new p.OlP(Vi?"router preloader":"");function ta(v){return To(0,[{provide:ml,useExisting:Bo},{provide:Xo,useExisting:v}])}const ao=!1,su=new p.OlP(ao?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),li=[kt.Ye,{provide:dt,useClass:We},tr,$r,{provide:Fs,useFactory:function iu(v){return v.routerState.root},deps:[tr]},at,ao?{provide:Ps,useValue:!0}:[]];function na(){return new p.PXZ("Router",tr)}let ou=(()=>{class v{constructor(m){}static forRoot(m,A){return{ngModule:v,providers:[li,ao&&A?.enableTracing?$a().\u0275providers:[],{provide:Kt,multi:!0,useValue:m},{provide:su,useFactory:au,deps:[[tr,new p.FiY,new p.tp0]]},{provide:Mi,useValue:A||{}},A?.useHash?{provide:kt.S$,useClass:kt.Do}:{provide:kt.S$,useClass:kt.b0},{provide:Gu,useFactory:()=>{const v=(0,p.f3M)(kt.EM),w=(0,p.f3M)(p.R0b),m=(0,p.f3M)(Mi),A=(0,p.f3M)(Ua),U=(0,p.f3M)(dt);return m.scrollOffset&&v.setOffset(m.scrollOffset),new Do(U,A,v,w,m)}},A?.preloadingStrategy?ta(A.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:na},A?.initialNavigation?uu(A):[],[{provide:Du,useFactory:Js},{provide:p.tb,multi:!0,useExisting:Du}]]}}static forChild(m){return{ngModule:v,providers:[{provide:Kt,multi:!0,useValue:m}]}}}return v.\u0275fac=function(m){return new(m||v)(p.LFG(su,8))},v.\u0275mod=p.oAB({type:v}),v.\u0275inj=p.cJS({imports:[Mr]}),v})();function au(v){if(ao&&v)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function uu(v){return["disabled"===v.initialNavigation?To(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const w=(0,p.f3M)(tr);return()=>{w.setUpLocationChangeListener()}}},{provide:Ia,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?To(2,[{provide:Ia,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:w=>{const m=w.get(kt.V_,Promise.resolve());return()=>m.then(()=>new Promise(A=>{const U=w.get(tr),Y=w.get(Wu);(function Ea(v,w){v.events.pipe((0,Ke.h)(m=>m instanceof er||m instanceof vi||m instanceof di||m instanceof Hr),(0,Lt.U)(m=>m instanceof er||m instanceof Hr?Is.COMPLETE:m instanceof vi&&(0===m.code||1===m.code)?Is.REDIRECTING:Is.FAILED),(0,Ke.h)(m=>m!==Is.REDIRECTING),(0,nr.q)(1)).subscribe(()=>{w()})})(U,()=>{A(!0)}),w.get(Ua).afterPreactivation=()=>(A(!0),Y.closed?(0,V.of)(void 0):Y),U.initialNavigation()}))}}]).\u0275providers:[]]}const Du=new p.OlP(ao?"Router Initializer":"")},3942:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Z:()=>_t});var p=k(2090),W=k(4859),V=k(6881),Ie=k(1877);class L{constructor(ot,It){this._delegate=ot,this.firebase=It,(0,V._addComponent)(ot,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=ot.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this._delegate.automaticDataCollectionEnabled=ot}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ot=>{this._delegate.checkDestroyed(),ot()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(ot,It=V._DEFAULT_ENTRY_NAME){var mt;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(ot);return!wt.isInitialized()&&"EXPLICIT"===(null===(mt=wt.getComponent())||void 0===mt?void 0:mt.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:It})}_removeServiceInstance(ot,It=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ot).clearInstance(It)}_addComponent(ot){(0,V._addComponent)(this._delegate,ot)}_addOrOverwriteComponent(ot){(0,V._addOrOverwriteComponent)(this._delegate,ot)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Oe=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function ve(){const Vt=function Ae(Vt){const ot={},It={__esModule:!0,initializeApp:function Qe(ct,Ue={}){const Pt=V.initializeApp(ct,Ue);if((0,p.r3)(ot,Pt.name))return ot[Pt.name];const on=new Vt(Pt,It);return ot[Pt.name]=on,on},app:wt,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function tt(ct){const Ue=ct.name,Pt=Ue.replace("-compat","");if(V._registerComponent(ct)&&"PUBLIC"===ct.type){const on=(kt=wt())=>{if("function"!=typeof kt[Pt])throw Oe.create("invalid-app-argument",{appName:Ue});return kt[Pt]()};void 0!==ct.serviceProps&&(0,p.ZB)(on,ct.serviceProps),It[Pt]=on,Vt.prototype[Pt]=function(...kt){return this._getService.bind(this,Ue).apply(this,ct.multipleInstances?kt:[])}}return"PUBLIC"===ct.type?It[Pt]:null},removeApp:function mt(ct){delete ot[ct]},useAsService:function Tt(ct,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:V}};function wt(ct){if(!(0,p.r3)(ot,ct=ct||V._DEFAULT_ENTRY_NAME))throw Oe.create("no-app",{appName:ct});return ot[ct]}return It.default=It,Object.defineProperty(It,"apps",{get:function et(){return Object.keys(ot).map(ct=>ot[ct])}}),wt.App=Vt,It}(L);return Vt.INTERNAL=Object.assign(Object.assign({},Vt.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function ot(It){(0,p.ZB)(Vt,It)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Vt}(),se=new Ie.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Vt=self.firebase.SDK_VERSION;Vt&&Vt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _t=he;!function st(Vt){(0,V.registerVersion)("@firebase/app-compat","0.2.11",Vt)}()},6881:(Qt,Xe,k)=>{"use strict";k.r(Xe),k.d(Xe,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>ir,_DEFAULT_ENTRY_NAME:()=>yn,_addComponent:()=>Gt,_addOrOverwriteComponent:()=>an,_apps:()=>tn,_clearComponents:()=>Qn,_components:()=>ln,_getProvider:()=>Xn,_registerComponent:()=>pr,_removeServiceInstance:()=>or,deleteApp:()=>Zn,getApp:()=>bn,getApps:()=>Wt,initializeApp:()=>Sn,onLog:()=>dt,registerVersion:()=>$e,setLogLevel:()=>We});var p=k(5861),W=k(4859),V=k(1877),Ie=k(2090);const L=(pt,qe)=>qe.some(Rt=>pt instanceof Rt);let te,Oe;const he=new WeakMap,se=new WeakMap,_e=new WeakMap,Je=new WeakMap,st=new WeakMap;let ot={get(pt,qe,Rt){if(pt instanceof IDBTransaction){if("done"===qe)return se.get(pt);if("objectStoreNames"===qe)return pt.objectStoreNames||_e.get(pt);if("store"===qe)return Rt.objectStoreNames[1]?void 0:Rt.objectStore(Rt.objectStoreNames[0])}return Qe(pt[qe])},set:(pt,qe,Rt)=>(pt[qe]=Rt,!0),has:(pt,qe)=>pt instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in pt};function wt(pt){return"function"==typeof pt?function mt(pt){return pt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pt)?function(...qe){return pt.apply(et(this),qe),Qe(he.get(this))}:function(...qe){return Qe(pt.apply(et(this),qe))}:function(qe,...Rt){const gn=pt.call(et(this),qe,...Rt);return _e.set(gn,qe.sort?qe.sort():[qe]),Qe(gn)}}(pt):(pt instanceof IDBTransaction&&function Vt(pt){if(se.has(pt))return;const qe=new Promise((Rt,gn)=>{const vn=()=>{pt.removeEventListener("complete",Kn),pt.removeEventListener("error",Cn),pt.removeEventListener("abort",Cn)},Kn=()=>{Rt(),vn()},Cn=()=>{gn(pt.error||new DOMException("AbortError","AbortError")),vn()};pt.addEventListener("complete",Kn),pt.addEventListener("error",Cn),pt.addEventListener("abort",Cn)});se.set(pt,qe)}(pt),L(pt,function Ae(){return te||(te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pt,ot):pt)}function Qe(pt){if(pt instanceof IDBRequest)return function _t(pt){const qe=new Promise((Rt,gn)=>{const vn=()=>{pt.removeEventListener("success",Kn),pt.removeEventListener("error",Cn)},Kn=()=>{Rt(Qe(pt.result)),vn()},Cn=()=>{gn(pt.error),vn()};pt.addEventListener("success",Kn),pt.addEventListener("error",Cn)});return qe.then(Rt=>{Rt instanceof IDBCursor&&he.set(Rt,pt)}).catch(()=>{}),st.set(qe,pt),qe}(pt);if(Je.has(pt))return Je.get(pt);const qe=wt(pt);return qe!==pt&&(Je.set(pt,qe),st.set(qe,pt)),qe}const et=pt=>st.get(pt),ct=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],Pt=new Map;function on(pt,qe){if(!(pt instanceof IDBDatabase)||qe in pt||"string"!=typeof qe)return;if(Pt.get(qe))return Pt.get(qe);const Rt=qe.replace(/FromIndex$/,""),gn=qe!==Rt,vn=Ue.includes(Rt);if(!(Rt in(gn?IDBIndex:IDBObjectStore).prototype)||!vn&&!ct.includes(Rt))return;const Kn=function(){var Cn=(0,p.Z)(function*(Yn,...ur){const Kr=this.transaction(Yn,vn?"readwrite":"readonly");let Zr=Kr.store;return gn&&(Zr=Zr.index(ur.shift())),(yield Promise.all([Zr[Rt](...ur),vn&&Kr.done]))[0]});return function(ur){return Cn.apply(this,arguments)}}();return Pt.set(qe,Kn),Kn}!function It(pt){ot=pt(ot)}(pt=>({...pt,get:(qe,Rt,gn)=>on(qe,Rt)||pt.get(qe,Rt,gn),has:(qe,Rt)=>!!on(qe,Rt)||pt.has(qe,Rt)}));class kt{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(Rt=>{if(function Lt(pt){return"VERSION"===pt.getComponent()?.type}(Rt)){const gn=Rt.getImmediate();return`${gn.library}/${gn.version}`}return null}).filter(Rt=>Rt).join(" ")}}const At="@firebase/app",He=new V.Yd("@firebase/app"),yn="[DEFAULT]",An={[At]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,ln=new Map;function Gt(pt,qe){try{pt.container.addComponent(qe)}catch(Rt){He.debug(`Component ${qe.name} failed to register with FirebaseApp ${pt.name}`,Rt)}}function an(pt,qe){pt.container.addOrOverwriteComponent(qe)}function pr(pt){const qe=pt.name;if(ln.has(qe))return He.debug(`There were multiple attempts to register component ${qe}.`),!1;ln.set(qe,pt);for(const Rt of tn.values())Gt(Rt,pt);return!0}function Xn(pt,qe){const Rt=pt.container.getProvider("heartbeat").getImmediate({optional:!0});return Rt&&Rt.triggerHeartbeat(),pt.container.getProvider(qe)}function or(pt,qe,Rt=yn){Xn(pt,qe).clearInstance(Rt)}function Qn(){ln.clear()}const Sr=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Un{constructor(qe,Rt,gn){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},Rt),this._name=Rt.name,this._automaticDataCollectionEnabled=Rt.automaticDataCollectionEnabled,this._container=gn,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const ir="9.22.1";function Sn(pt,qe={}){let Rt=pt;"object"!=typeof qe&&(qe={name:qe});const gn=Object.assign({name:yn,automaticDataCollectionEnabled:!1},qe),vn=gn.name;if("string"!=typeof vn||!vn)throw Sr.create("bad-app-name",{appName:String(vn)});if(Rt||(Rt=(0,Ie.aH)()),!Rt)throw Sr.create("no-options");const Kn=tn.get(vn);if(Kn){if((0,Ie.vZ)(Rt,Kn.options)&&(0,Ie.vZ)(gn,Kn.config))return Kn;throw Sr.create("duplicate-app",{appName:vn})}const Cn=new W.H0(vn);for(const ur of ln.values())Cn.addComponent(ur);const Yn=new Un(Rt,gn,Cn);return tn.set(vn,Yn),Yn}function bn(pt=yn){const qe=tn.get(pt);if(!qe&&pt===yn&&(0,Ie.aH)())return Sn();if(!qe)throw Sr.create("no-app",{appName:pt});return qe}function Wt(){return Array.from(tn.values())}function Zn(pt){return gr.apply(this,arguments)}function gr(){return(gr=(0,p.Z)(function*(pt){const qe=pt.name;tn.has(qe)&&(tn.delete(qe),yield Promise.all(pt.container.getProviders().map(Rt=>Rt.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function $e(pt,qe,Rt){var gn;let vn=null!==(gn=An[pt])&&void 0!==gn?gn:pt;Rt&&(vn+=`-${Rt}`);const Kn=vn.match(/\s|\//),Cn=qe.match(/\s|\//);if(Kn||Cn){const Yn=[`Unable to register library "${vn}" with version "${qe}":`];return Kn&&Yn.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),Kn&&Cn&&Yn.push("and"),Cn&&Yn.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void He.warn(Yn.join(" "))}pr(new W.wA(`${vn}-version`,()=>({library:vn,version:qe}),"VERSION"))}function dt(pt,qe){if(null!==pt&&"function"!=typeof pt)throw Sr.create("invalid-log-argument");(0,V.Am)(pt,qe)}function We(pt){(0,V.Ub)(pt)}const jt="firebase-heartbeat-database",Jt=1,pe="firebase-heartbeat-store";let ce=null;function J(){return ce||(ce=function tt(pt,qe,{blocked:Rt,upgrade:gn,blocking:vn,terminated:Kn}={}){const Cn=indexedDB.open(pt,qe),Yn=Qe(Cn);return gn&&Cn.addEventListener("upgradeneeded",ur=>{gn(Qe(Cn.result),ur.oldVersion,ur.newVersion,Qe(Cn.transaction),ur)}),Rt&&Cn.addEventListener("blocked",ur=>Rt(ur.oldVersion,ur.newVersion,ur)),Yn.then(ur=>{Kn&&ur.addEventListener("close",()=>Kn()),vn&&ur.addEventListener("versionchange",Kr=>vn(Kr.oldVersion,Kr.newVersion,Kr))}).catch(()=>{}),Yn}(jt,Jt,{upgrade:(pt,qe)=>{0===qe&&pt.createObjectStore(pe)}}).catch(pt=>{throw Sr.create("idb-open",{originalErrorMessage:pt.message})})),ce}function Z(){return(Z=(0,p.Z)(function*(pt){try{return yield(yield J()).transaction(pe).objectStore(pe).get(fe(pt))}catch(qe){if(qe instanceof Ie.ZR)He.warn(qe.message);else{const Rt=Sr.create("idb-get",{originalErrorMessage:qe?.message});He.warn(Rt.message)}}})).apply(this,arguments)}function be(pt,qe){return le.apply(this,arguments)}function le(){return(le=(0,p.Z)(function*(pt,qe){try{const gn=(yield J()).transaction(pe,"readwrite");yield gn.objectStore(pe).put(qe,fe(pt)),yield gn.done}catch(Rt){if(Rt instanceof Ie.ZR)He.warn(Rt.message);else{const gn=Sr.create("idb-set",{originalErrorMessage:Rt?.message});He.warn(gn.message)}}})).apply(this,arguments)}function fe(pt){return`${pt.name}!${pt.options.appId}`}class nt{constructor(qe){this.container=qe,this._heartbeatsCache=null;const Rt=this.container.getProvider("app").getImmediate();this._storage=new pn(Rt),this._heartbeatsCachePromise=this._storage.read().then(gn=>(this._heartbeatsCache=gn,gn))}triggerHeartbeat(){var qe=this;return(0,p.Z)(function*(){const gn=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vn=Dt();if(null===qe._heartbeatsCache&&(qe._heartbeatsCache=yield qe._heartbeatsCachePromise),qe._heartbeatsCache.lastSentHeartbeatDate!==vn&&!qe._heartbeatsCache.heartbeats.some(Kn=>Kn.date===vn))return qe._heartbeatsCache.heartbeats.push({date:vn,agent:gn}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(Kn=>{const Cn=new Date(Kn.date).valueOf();return Date.now()-Cn<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache)})()}getHeartbeatsHeader(){var qe=this;return(0,p.Z)(function*(){if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null===qe._heartbeatsCache||0===qe._heartbeatsCache.heartbeats.length)return"";const Rt=Dt(),{heartbeatsToSend:gn,unsentEntries:vn}=function fn(pt,qe=1024){const Rt=[];let gn=pt.slice();for(const vn of pt){const Kn=Rt.find(Cn=>Cn.agent===vn.agent);if(Kn){if(Kn.dates.push(vn.date),ar(Rt)>qe){Kn.dates.pop();break}}else if(Rt.push({agent:vn.agent,dates:[vn.date]}),ar(Rt)>qe){Rt.pop();break}gn=gn.slice(1)}return{heartbeatsToSend:Rt,unsentEntries:gn}}(qe._heartbeatsCache.heartbeats),Kn=(0,Ie.L)(JSON.stringify({version:2,heartbeats:gn}));return qe._heartbeatsCache.lastSentHeartbeatDate=Rt,vn.length>0?(qe._heartbeatsCache.heartbeats=vn,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),Kn})()}}function Dt(){return(new Date).toISOString().substring(0,10)}class pn{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,p.Z)(function*(){return(yield qe._canUseIndexedDBPromise)&&(yield function ie(pt){return Z.apply(this,arguments)}(qe.app))||{heartbeats:[]}})()}overwrite(qe){var Rt=this;return(0,p.Z)(function*(){var gn;if(yield Rt._canUseIndexedDBPromise){const Kn=yield Rt.read();return be(Rt.app,{lastSentHeartbeatDate:null!==(gn=qe.lastSentHeartbeatDate)&&void 0!==gn?gn:Kn.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var Rt=this;return(0,p.Z)(function*(){var gn;if(yield Rt._canUseIndexedDBPromise){const Kn=yield Rt.read();return be(Rt.app,{lastSentHeartbeatDate:null!==(gn=qe.lastSentHeartbeatDate)&&void 0!==gn?gn:Kn.lastSentHeartbeatDate,heartbeats:[...Kn.heartbeats,...qe.heartbeats]})}})()}}function ar(pt){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:pt})).length}!function vr(pt){pr(new W.wA("platform-logger",qe=>new kt(qe),"PRIVATE")),pr(new W.wA("heartbeat",qe=>new nt(qe),"PRIVATE")),$e(At,"0.9.11",pt),$e(At,"0.9.11","esm2017"),$e("fire-js","")}("")},4859:(Qt,Xe,k)=>{"use strict";k.d(Xe,{H0:()=>Ae,wA:()=>V});var p=k(5861),W=k(2090);class V{constructor(he,se,_e){this.name=he,this.instanceFactory=se,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Ie="[DEFAULT]";class L{constructor(he,se){this.name=he,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const se=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(se)){const _e=new W.BH;if(this.instancesDeferred.set(se,_e),this.isInitialized(se)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:se});Je&&_e.resolve(Je)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(he){var se;const _e=this.normalizeInstanceIdentifier(he?.identifier),Je=null!==(se=he?.optional)&&void 0!==se&&se;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(st){if(Je)return null;throw st}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function Oe(ve){return"EAGER"===ve.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[se,_e]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(se);try{const st=this.getOrInitializeService({instanceIdentifier:Je});_e.resolve(st)}catch{}}}}clearInstance(he=Ie){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,p.Z)(function*(){const se=Array.from(he.instances.values());yield Promise.all([...se.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...se.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Ie){return this.instances.has(he)}getOptions(he=Ie){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:se={}}=he,_e=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:_e,options:se});for(const[st,_t]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(st)&&_t.resolve(Je);return Je}onInit(he,se){var _e;const Je=this.normalizeInstanceIdentifier(se),st=null!==(_e=this.onInitCallbacks.get(Je))&&void 0!==_e?_e:new Set;st.add(he),this.onInitCallbacks.set(Je,st);const _t=this.instances.get(Je);return _t&&he(_t,Je),()=>{st.delete(he)}}invokeOnInitCallbacks(he,se){const _e=this.onInitCallbacks.get(se);if(_e)for(const Je of _e)try{Je(he,se)}catch{}}getOrInitializeService({instanceIdentifier:he,options:se={}}){let _e=this.instances.get(he);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=he,ve===Ie?void 0:ve),options:se}),this.instances.set(he,_e),this.instancesOptions.set(he,se),this.invokeOnInitCallbacks(_e,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,_e)}catch{}var ve;return _e||null}normalizeInstanceIdentifier(he=Ie){return this.component?this.component.multipleInstances?he:Ie:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const se=this.getProvider(he.name);if(se.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);se.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const se=new L(he,this);return this.providers.set(he,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Am:()=>ve,Ub:()=>Ae,Yd:()=>Oe,in:()=>W});const p=[];var W=(()=>{return(he=W||(W={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",W;var he})();const V={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},Ie=W.INFO,L={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},te=(he,se,..._e)=>{if(se<he.logLevel)return;const Je=(new Date).toISOString(),st=L[se];if(!st)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[st](`[${Je}]  ${he.name}:`,..._e)};class Oe{constructor(se){this.name=se,this._logLevel=Ie,this._logHandler=te,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in W))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?V[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...se),this._logHandler(this,W.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...se),this._logHandler(this,W.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,W.INFO,...se),this._logHandler(this,W.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,W.WARN,...se),this._logHandler(this,W.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...se),this._logHandler(this,W.ERROR,...se)}}function Ae(he){p.forEach(se=>{se.setLogLevel(he)})}function ve(he,se){for(const _e of p){let Je=null;se&&se.level&&(Je=V[se.level]),_e.userLogHandler=null===he?null:(st,_t,...Vt)=>{const ot=Vt.map(It=>{if(null==It)return null;if("string"==typeof It)return It;if("number"==typeof It||"boolean"==typeof It)return It.toString();if(It instanceof Error)return It.message;try{return JSON.stringify(It)}catch{return null}}).filter(It=>It).join(" ");_t>=(Je??st.logLevel)&&he({level:W[_t].toLowerCase(),message:ot,args:Vt,type:st.name})}}}},259:(Qt,Xe,k)=>{"use strict";k.d(Xe,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=k(6881);(0,p.registerVersion)("firebase","9.22.1","app")},4322:(Qt,Xe,k)=>{"use strict";k.d(Xe,{v0:()=>p.o,ck:()=>p.ai});var p=k(1389);k(2090),k(6881),k(1877),k(4859)},9260:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Z:()=>p.Z});var p=k(3942);p.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(Qt,Xe,k)=>{"use strict";k.r(Xe);var p=k(5861),W=k(3942),V=k(1389),Ie=k(2090),Oe=(k(6881),k(1877),k(4859));function Ae(){return window}const ve=2e3;function se(){return se=(0,p.Z)(function*(J,ie,Z){var be;const{BuildInfo:le}=Ae();(0,V.as)(ie.sessionId,"AuthEvent did not contain a session ID");const fe=yield function It(J){return mt.apply(this,arguments)}(ie.sessionId),ae={};return(0,V.at)()?ae.ibi=le.packageName:(0,V.au)()?ae.apn=le.packageName:(0,V.av)(J,"operation-not-supported-in-this-environment"),le.displayName&&(ae.appDisplayName=le.displayName),ae.sessionId=fe,(0,V.aw)(J,Z,ie.type,void 0,null!==(be=ie.eventId)&&void 0!==be?be:void 0,ae)}),se.apply(this,arguments)}function Je(){return(Je=(0,p.Z)(function*(J){const{BuildInfo:ie}=Ae(),Z={};(0,V.at)()?Z.iosBundleId=ie.packageName:(0,V.au)()?Z.androidPackageName=ie.packageName:(0,V.av)(J,"operation-not-supported-in-this-environment"),yield(0,V.ax)(J,Z)})).apply(this,arguments)}function Vt(){return(Vt=(0,p.Z)(function*(J,ie,Z){const{cordova:be}=Ae();let le=()=>{};try{yield new Promise((fe,ae)=>{let xe=null;function nt(){var pn;fe();const ar=null===(pn=be.plugins.browsertab)||void 0===pn?void 0:pn.close;"function"==typeof ar&&ar(),"function"==typeof Z?.close&&Z.close()}function Dt(){xe||(xe=window.setTimeout(()=>{ae((0,V.az)(J,"redirect-cancelled-by-user"))},ve))}function fn(){"visible"===document?.visibilityState&&Dt()}ie.addPassiveListener(nt),document.addEventListener("resume",Dt,!1),(0,V.au)()&&document.addEventListener("visibilitychange",fn,!1),le=()=>{ie.removePassiveListener(nt),document.removeEventListener("resume",Dt,!1),document.removeEventListener("visibilitychange",fn,!1),xe&&window.clearTimeout(xe)}})}finally{le()}})).apply(this,arguments)}function mt(){return(mt=(0,p.Z)(function*(J){const ie=function wt(J){if((0,V.as)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(J);const ie=new ArrayBuffer(J.length),Z=new Uint8Array(ie);for(let be=0;be<J.length;be++)Z[be]=J.charCodeAt(be);return Z}(J),Z=yield crypto.subtle.digest("SHA-256",ie);return Array.from(new Uint8Array(Z)).map(le=>le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Qe=20;class et extends V.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ie=>{this.resolveInialized=ie})}addPassiveListener(ie){this.passiveListeners.add(ie)}removePassiveListener(ie){this.passiveListeners.delete(ie)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ie){return this.resolveInialized(),this.passiveListeners.forEach(Z=>Z(ie)),super.onEvent(ie)}initialized(){var ie=this;return(0,p.Z)(function*(){yield ie.initPromise})()}}function ct(J){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,p.Z)(function*(J){const ie=yield kt()._get(Lt(J));return ie&&(yield kt()._remove(Lt(J))),ie})).apply(this,arguments)}function on(){const J=[],ie="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Z=0;Z<Qe;Z++){const be=Math.floor(Math.random()*ie.length);J.push(ie.charAt(be))}return J.join("")}function kt(){return(0,V.aC)(V.b)}function Lt(J){return(0,V.aD)("authEvent",J.config.apiKey,J.name)}function He(J){if(!J?.includes("?"))return{};const[ie,...Z]=J.split("?");return(0,Ie.zd)(Z.join("?"))}const Ze=class je{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aE,this._overrideRedirectResult=V.aF}_initialize(ie){var Z=this;return(0,p.Z)(function*(){const be=ie._key();let le=Z.eventManagers.get(be);return le||(le=new et(ie),Z.eventManagers.set(be,le),Z.attachCallbackListeners(ie,le)),le})()}_openPopup(ie){(0,V.av)(ie,"operation-not-supported-in-this-environment")}_openRedirect(ie,Z,be,le){var fe=this;return(0,p.Z)(function*(){!function ot(J){var ie,Z,be,le,fe,ae,xe,nt,Dt,fn;const pn=Ae();(0,V.aA)("function"==typeof(null===(ie=pn?.universalLinks)||void 0===ie?void 0:ie.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aA)(typeof(null===(Z=pn?.BuildInfo)||void 0===Z?void 0:Z.packageName)<"u",J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aA)("function"==typeof(null===(fe=null===(le=null===(be=pn?.cordova)||void 0===be?void 0:be.plugins)||void 0===le?void 0:le.browsertab)||void 0===fe?void 0:fe.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aA)("function"==typeof(null===(nt=null===(xe=null===(ae=pn?.cordova)||void 0===ae?void 0:ae.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===nt?void 0:nt.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aA)("function"==typeof(null===(fn=null===(Dt=pn?.cordova)||void 0===Dt?void 0:Dt.InAppBrowser)||void 0===fn?void 0:fn.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ie);const ae=yield fe._initialize(ie);yield ae.initialized(),ae.resetRedirect(),(0,V.aG)(),yield fe._originValidation(ie);const xe=function tt(J,ie,Z=null){return{type:ie,eventId:Z,urlResponse:null,sessionId:on(),postBody:null,tenantId:J.tenantId,error:(0,V.az)(J,"no-auth-event")}}(ie,be,le);yield function Tt(J,ie){return kt()._set(Lt(J),ie)}(ie,xe);const nt=yield function he(J,ie,Z){return se.apply(this,arguments)}(ie,xe,Z),Dt=yield function st(J){const{cordova:ie}=Ae();return new Promise(Z=>{ie.plugins.browsertab.isAvailable(be=>{let le=null;be?ie.plugins.browsertab.openUrl(J):le=ie.InAppBrowser.open(J,(0,V.ay)()?"_blank":"_system","location=yes"),Z(le)})})}(nt);return function _t(J,ie,Z){return Vt.apply(this,arguments)}(ie,ae,Dt)})()}_isIframeWebStorageSupported(ie,Z){throw new Error("Method not implemented.")}_originValidation(ie){const Z=ie._key();return this.originValidationPromises[Z]||(this.originValidationPromises[Z]=function _e(J){return Je.apply(this,arguments)}(ie)),this.originValidationPromises[Z]}attachCallbackListeners(ie,Z){const{universalLinks:be,handleOpenURL:le,BuildInfo:fe}=Ae(),ae=setTimeout((0,p.Z)(function*(){yield ct(ie),Z.onEvent(ht())}),500),xe=function(){var fn=(0,p.Z)(function*(pn){clearTimeout(ae);const ar=yield ct(ie);let vr=null;ar&&pn?.url&&(vr=function Pt(J,ie){var Z,be;const le=function nr(J){const ie=He(J),Z=ie.link?decodeURIComponent(ie.link):void 0,be=He(Z).link,le=ie.deep_link_id?decodeURIComponent(ie.deep_link_id):void 0;return He(le).link||le||be||Z||J}(ie);if(le.includes("/__/auth/callback")){const fe=He(le),ae=fe.firebaseError?function At(J){try{return JSON.parse(J)}catch{return null}}(decodeURIComponent(fe.firebaseError)):null,xe=null===(be=null===(Z=ae?.code)||void 0===Z?void 0:Z.split("auth/"))||void 0===be?void 0:be[1],nt=xe?(0,V.az)(xe):null;return nt?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:nt,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:le,postBody:null}}return null}(ar,pn.url)),Z.onEvent(vr||ht())});return function(ar){return fn.apply(this,arguments)}}();typeof be<"u"&&"function"==typeof be.subscribe&&be.subscribe(null,xe);const nt=le,Dt=`${fe.packageName.toLowerCase()}://`;Ae().handleOpenURL=function(){var fn=(0,p.Z)(function*(pn){if(pn.toLowerCase().startsWith(Dt)&&xe({url:pn}),"function"==typeof nt)try{nt(pn)}catch(ar){console.error(ar)}});return function(pn){return fn.apply(this,arguments)}}()}};function ht(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.az)("no-auth-event")}}const Ln=1e3;function Ut(){var J;return(null===(J=self?.location)||void 0===J?void 0:J.protocol)||null}function _n(J=(0,Ie.z$)()){return!("file:"!==Ut()&&"ionic:"!==Ut()&&"capacitor:"!==Ut()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function rr(){try{const J=self.localStorage,ie=V.aL();if(J)return J.setItem(ie,"1"),J.removeItem(ie),!function Vn(J=(0,Ie.z$)()){return function kn(){return(0,Ie.w1)()&&11===document?.documentMode}()||function Ir(J=(0,Ie.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,Ie.hl)()}catch{return zt()&&(0,Ie.hl)()}return!1}function zt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yr(){return(function $t(){return"http:"===Ut()||"https:"===Ut()}()||(0,Ie.ru)()||_n())&&!function Pn(){return(0,Ie.b$)()||(0,Ie.UG)()}()&&rr()&&!zt()}function De(){return _n()&&typeof document<"u"}function Ne(){return(Ne=(0,p.Z)(function*(){return!!De()&&new Promise(J=>{const ie=setTimeout(()=>{J(!1)},Ln);document.addEventListener("deviceready",()=>{clearTimeout(ie),J(!0)})})})).apply(this,arguments)}const it={LOCAL:"local",NONE:"none",SESSION:"session"},Mt=V.aA,Gn="persistence";function An(J){return tn.apply(this,arguments)}function tn(){return(tn=(0,p.Z)(function*(J){yield J._initializationPromise;const ie=Gt(),Z=V.aD(Gn,J.config.apiKey,J.name);ie&&ie.setItem(Z,J._getPersistence())})).apply(this,arguments)}function Gt(){var J;try{return(null===(J=function Pe(){return typeof window<"u"?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch{return null}}const an=V.aA;class pr{constructor(){this.browserResolver=V.aC(V.k),this.cordovaResolver=V.aC(Ze),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aE,this._overrideRedirectResult=V.aF}_initialize(ie){var Z=this;return(0,p.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._initialize(ie)})()}_openPopup(ie,Z,be,le){var fe=this;return(0,p.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._openPopup(ie,Z,be,le)})()}_openRedirect(ie,Z,be,le){var fe=this;return(0,p.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._openRedirect(ie,Z,be,le)})()}_isIframeWebStorageSupported(ie,Z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ie,Z)}_originValidation(ie){return this.assertedUnderlyingResolver._originValidation(ie)}get _shouldInitProactively(){return De()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return an(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ie=this;return(0,p.Z)(function*(){if(ie.underlyingResolver)return;const Z=yield function Se(){return Ne.apply(this,arguments)}();ie.underlyingResolver=Z?ie.cordovaResolver:ie.browserResolver})()}}function Xn(J){return J.unwrap()}function Qn(J){return Sr(J)}function Sr(J){const{_tokenResponse:ie}=J instanceof Ie.ZR?J.customData:J;if(!ie)return null;if(!(J instanceof Ie.ZR)&&"temporaryProof"in ie&&"phoneNumber"in ie)return V.P.credentialFromResult(J);const Z=ie.providerId;if(!Z||Z===V.p.PASSWORD)return null;let be;switch(Z){case V.p.GOOGLE:be=V.V;break;case V.p.FACEBOOK:be=V.U;break;case V.p.GITHUB:be=V.W;break;case V.p.TWITTER:be=V.Z;break;default:const{oauthIdToken:le,oauthAccessToken:fe,oauthTokenSecret:ae,pendingToken:xe,nonce:nt}=ie;return fe||ae||le||xe?xe?Z.startsWith("saml.")?V.aO._create(Z,xe):V.L._fromParams({providerId:Z,signInMethod:Z,pendingToken:xe,idToken:le,accessToken:fe}):new V.X(Z).credential({idToken:le,accessToken:fe,rawNonce:nt}):null}return J instanceof Ie.ZR?be.credentialFromError(J):be.credentialFromResult(J)}function Un(J,ie){return ie.catch(Z=>{throw Z instanceof Ie.ZR&&function Wn(J,ie){var Z;const be=null===(Z=ie.customData)||void 0===Z?void 0:Z._tokenResponse;if("auth/multi-factor-auth-required"===ie?.code)ie.resolver=new bn(J,V.aq(J,ie));else if(be){const le=Sr(ie),fe=ie;le&&(fe.credential=le,fe.tenantId=be.tenantId||void 0,fe.email=be.email||void 0,fe.phoneNumber=be.phoneNumber||void 0)}}(J,Z),Z}).then(Z=>{const le=Z.user;return{operationType:Z.operationType,credential:Qn(Z),additionalUserInfo:V.ao(Z),user:Wt.getOrCreate(le)}})}function ir(J,ie){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,p.Z)(function*(J,ie){const Z=yield ie;return{verificationId:Z.verificationId,confirm:be=>Un(J,Z.confirm(be))}})).apply(this,arguments)}class bn{constructor(ie,Z){this.resolver=Z,this.auth=function or(J){return J.wrapped()}(ie)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ie){return Un(Xn(this.auth),this.resolver.resolveSignIn(ie))}}class Wt{constructor(ie){this._delegate=ie,this.multiFactor=V.ar(ie)}static getOrCreate(ie){return Wt.USER_MAP.has(ie)||Wt.USER_MAP.set(ie,new Wt(ie)),Wt.USER_MAP.get(ie)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ie){return this._delegate.getIdTokenResult(ie)}getIdToken(ie){return this._delegate.getIdToken(ie)}linkAndRetrieveDataWithCredential(ie){return this.linkWithCredential(ie)}linkWithCredential(ie){var Z=this;return(0,p.Z)(function*(){return Un(Z.auth,V.a0(Z._delegate,ie))})()}linkWithPhoneNumber(ie,Z){var be=this;return(0,p.Z)(function*(){return ir(be.auth,V.l(be._delegate,ie,Z))})()}linkWithPopup(ie){var Z=this;return(0,p.Z)(function*(){return Un(Z.auth,V.d(Z._delegate,ie,pr))})()}linkWithRedirect(ie){var Z=this;return(0,p.Z)(function*(){return yield An(V.aH(Z.auth)),V.g(Z._delegate,ie,pr)})()}reauthenticateAndRetrieveDataWithCredential(ie){return this.reauthenticateWithCredential(ie)}reauthenticateWithCredential(ie){var Z=this;return(0,p.Z)(function*(){return Un(Z.auth,V.a1(Z._delegate,ie))})()}reauthenticateWithPhoneNumber(ie,Z){return ir(this.auth,V.r(this._delegate,ie,Z))}reauthenticateWithPopup(ie){return Un(this.auth,V.e(this._delegate,ie,pr))}reauthenticateWithRedirect(ie){var Z=this;return(0,p.Z)(function*(){return yield An(V.aH(Z.auth)),V.h(Z._delegate,ie,pr)})()}sendEmailVerification(ie){return V.ae(this._delegate,ie)}unlink(ie){var Z=this;return(0,p.Z)(function*(){return yield V.an(Z._delegate,ie),Z})()}updateEmail(ie){return V.aj(this._delegate,ie)}updatePassword(ie){return V.ak(this._delegate,ie)}updatePhoneNumber(ie){return V.u(this._delegate,ie)}updateProfile(ie){return V.ai(this._delegate,ie)}verifyBeforeUpdateEmail(ie,Z){return V.af(this._delegate,ie,Z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wt.USER_MAP=new WeakMap;const Zn=V.aA;let gr=(()=>{class J{constructor(Z,be){if(this.app=Z,be.isInitialized())return this._delegate=be.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:le}=Z.options;Zn(le,"invalid-api-key",{appName:Z.name}),Zn(le,"invalid-api-key",{appName:Z.name});const fe=typeof window<"u"?pr:void 0;this._delegate=be.initialize({options:{persistence:dt(le,Z.name),popupRedirectResolver:fe}}),this._delegate._updateErrorMap(V.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Z){this._delegate.languageCode=Z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Z){this._delegate.tenantId=Z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Z,be){V.I(this._delegate,Z,be)}applyActionCode(Z){return V.a5(this._delegate,Z)}checkActionCode(Z){return V.a6(this._delegate,Z)}confirmPasswordReset(Z,be){return V.a4(this._delegate,Z,be)}createUserWithEmailAndPassword(Z,be){var le=this;return(0,p.Z)(function*(){return Un(le._delegate,V.a8(le._delegate,Z,be))})()}fetchProvidersForEmail(Z){return this.fetchSignInMethodsForEmail(Z)}fetchSignInMethodsForEmail(Z){return V.ad(this._delegate,Z)}isSignInWithEmailLink(Z){return V.ab(this._delegate,Z)}getRedirectResult(){var Z=this;return(0,p.Z)(function*(){Zn(yr(),Z._delegate,"operation-not-supported-in-this-environment");const be=yield V.j(Z._delegate,pr);return be?Un(Z._delegate,Promise.resolve(be)):{credential:null,user:null}})()}addFrameworkForLogging(Z){!function ze(J,ie){(0,V.aH)(J)._logFramework(ie)}(this._delegate,Z)}onAuthStateChanged(Z,be,le){const{next:fe,error:ae,complete:xe}=$e(Z,be,le);return this._delegate.onAuthStateChanged(fe,ae,xe)}onIdTokenChanged(Z,be,le){const{next:fe,error:ae,complete:xe}=$e(Z,be,le);return this._delegate.onIdTokenChanged(fe,ae,xe)}sendSignInLinkToEmail(Z,be){return V.aa(this._delegate,Z,be)}sendPasswordResetEmail(Z,be){return V.a3(this._delegate,Z,be||void 0)}setPersistence(Z){var be=this;return(0,p.Z)(function*(){let le;switch(function yn(J,ie){Mt(Object.values(it).includes(ie),J,"invalid-persistence-type"),(0,Ie.b$)()?Mt(ie!==it.SESSION,J,"unsupported-persistence-type"):(0,Ie.UG)()?Mt(ie===it.NONE,J,"unsupported-persistence-type"):zt()?Mt(ie===it.NONE||ie===it.LOCAL&&(0,Ie.hl)(),J,"unsupported-persistence-type"):Mt(ie===it.NONE||rr(),J,"unsupported-persistence-type")}(be._delegate,Z),Z){case it.SESSION:le=V.a;break;case it.LOCAL:le=(yield V.aC(V.i)._isAvailable())?V.i:V.b;break;case it.NONE:le=V.N;break;default:return V.av("argument-error",{appName:be._delegate.name})}return be._delegate.setPersistence(le)})()}signInAndRetrieveDataWithCredential(Z){return this.signInWithCredential(Z)}signInAnonymously(){return Un(this._delegate,V._(this._delegate))}signInWithCredential(Z){return Un(this._delegate,V.$(this._delegate,Z))}signInWithCustomToken(Z){return Un(this._delegate,V.a2(this._delegate,Z))}signInWithEmailAndPassword(Z,be){return Un(this._delegate,V.a9(this._delegate,Z,be))}signInWithEmailLink(Z,be){return Un(this._delegate,V.ac(this._delegate,Z,be))}signInWithPhoneNumber(Z,be){return ir(this._delegate,V.s(this._delegate,Z,be))}signInWithPopup(Z){var be=this;return(0,p.Z)(function*(){return Zn(yr(),be._delegate,"operation-not-supported-in-this-environment"),Un(be._delegate,V.c(be._delegate,Z,pr))})()}signInWithRedirect(Z){var be=this;return(0,p.Z)(function*(){return Zn(yr(),be._delegate,"operation-not-supported-in-this-environment"),yield An(be._delegate),V.f(be._delegate,Z,pr)})()}updateCurrentUser(Z){return this._delegate.updateCurrentUser(Z)}verifyPasswordResetCode(Z){return V.a7(this._delegate,Z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=it,J})();function $e(J,ie,Z){let be=J;"function"!=typeof J&&({next:be,error:ie,complete:Z}=J);const le=be;return{next:ae=>le(ae&&Wt.getOrCreate(ae)),error:ie,complete:Z}}function dt(J,ie){const Z=function ln(J,ie){const Z=Gt();if(!Z)return[];const be=V.aD(Gn,J,ie);switch(Z.getItem(be)){case it.NONE:return[V.N];case it.LOCAL:return[V.i,V.a];case it.SESSION:return[V.a];default:return[]}}(J,ie);if(typeof self<"u"&&!Z.includes(V.i)&&Z.push(V.i),typeof window<"u")for(const be of[V.b,V.a])Z.includes(be)||Z.push(be);return Z.includes(V.N)||Z.push(V.N),Z}class We{constructor(){this.providerId="phone",this._delegate=new V.P(Xn(W.Z.auth()))}static credential(ie,Z){return V.P.credential(ie,Z)}verifyPhoneNumber(ie,Z){return this._delegate.verifyPhoneNumber(ie,Z)}unwrap(){return this._delegate}}We.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,We.PROVIDER_ID=V.P.PROVIDER_ID;const jt=V.aA;class Jt{constructor(ie,Z,be=W.Z.app()){var le;jt(null===(le=be.options)||void 0===le?void 0:le.apiKey,"invalid-api-key",{appName:be.name}),this._delegate=new V.R(ie,Z,be.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ce(J){J.INTERNAL.registerComponent(new Oe.wA("auth-compat",ie=>{const Z=ie.getProvider("app-compat").getImmediate(),be=ie.getProvider("auth");return new gr(Z,be)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.Q,FacebookAuthProvider:V.U,GithubAuthProvider:V.W,GoogleAuthProvider:V.V,OAuthProvider:V.X,SAMLAuthProvider:V.Y,PhoneAuthProvider:We,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:Jt,TwitterAuthProvider:V.Z,Auth:gr,AuthCredential:V.J,Error:Ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.4.2")}(W.Z)},1620:(Qt,Xe,k)=>{"use strict";k.d(Xe,{Jt:()=>p.Jt,KV:()=>p.KV,aF:()=>p.aF,cF:()=>p.cF,iH:()=>p.iH});var p=k(6961)},5861:(Qt,Xe,k)=>{"use strict";function p(V,Ie,L,te,Oe,Ae,ve){try{var he=V[Ae](ve),se=he.value}catch(_e){return void L(_e)}he.done?Ie(se):Promise.resolve(se).then(te,Oe)}function W(V){return function(){var Ie=this,L=arguments;return new Promise(function(te,Oe){var Ae=V.apply(Ie,L);function ve(se){p(Ae,te,Oe,ve,he,"next",se)}function he(se){p(Ae,te,Oe,ve,he,"throw",se)}ve(void 0)})}}k.d(Xe,{Z:()=>W})},7582:(Qt,Xe,k)=>{"use strict";function Ie(He,Ke){var je={};for(var Ze in He)Object.prototype.hasOwnProperty.call(He,Ze)&&Ke.indexOf(Ze)<0&&(je[Ze]=He[Ze]);if(null!=He&&"function"==typeof Object.getOwnPropertySymbols){var ht=0;for(Ze=Object.getOwnPropertySymbols(He);ht<Ze.length;ht++)Ke.indexOf(Ze[ht])<0&&Object.prototype.propertyIsEnumerable.call(He,Ze[ht])&&(je[Ze[ht]]=He[Ze[ht]])}return je}function _e(He,Ke,je,Ze){return new(je||(je=Promise))(function(ze,ft){function Ft($t){try{Ut(Ze.next($t))}catch(_n){ft(_n)}}function Ln($t){try{Ut(Ze.throw($t))}catch(_n){ft(_n)}}function Ut($t){$t.done?ze($t.value):function ht(ze){return ze instanceof je?ze:new je(function(ft){ft(ze)})}($t.value).then(Ft,Ln)}Ut((Ze=Ze.apply(He,Ke||[])).next())})}function Qe(He){return this instanceof Qe?(this.v=He,this):new Qe(He)}function et(He,Ke,je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ht,Ze=je.apply(He,Ke||[]),ze=[];return ht={},ft("next"),ft("throw"),ft("return"),ht[Symbol.asyncIterator]=function(){return this},ht;function ft(Pn){Ze[Pn]&&(ht[Pn]=function(kn){return new Promise(function(Ir,Vn){ze.push([Pn,kn,Ir,Vn])>1||Ft(Pn,kn)})})}function Ft(Pn,kn){try{!function Ln(Pn){Pn.value instanceof Qe?Promise.resolve(Pn.value.v).then(Ut,$t):_n(ze[0][2],Pn)}(Ze[Pn](kn))}catch(Ir){_n(ze[0][3],Ir)}}function Ut(Pn){Ft("next",Pn)}function $t(Pn){Ft("throw",Pn)}function _n(Pn,kn){Pn(kn),ze.shift(),ze.length&&Ft(ze[0][0],ze[0][1])}}function Tt(He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Ke=He[Symbol.asyncIterator];return Ke?Ke.call(He):(He=function Vt(He){var Ke="function"==typeof Symbol&&Symbol.iterator,je=Ke&&He[Ke],Ze=0;if(je)return je.call(He);if(He&&"number"==typeof He.length)return{next:function(){return He&&Ze>=He.length&&(He=void 0),{value:He&&He[Ze++],done:!He}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(He),je={},Ze("next"),Ze("throw"),Ze("return"),je[Symbol.asyncIterator]=function(){return this},je);function Ze(ze){je[ze]=He[ze]&&function(ft){return new Promise(function(Ft,Ln){!function ht(ze,ft,Ft,Ln){Promise.resolve(Ln).then(function(Ut){ze({value:Ut,done:Ft})},ft)}(Ft,Ln,(ft=He[ze](ft)).done,ft.value)})}}}k.d(Xe,{FC:()=>et,KL:()=>Tt,_T:()=>Ie,mG:()=>_e,qq:()=>Qe})}},Qt=>{var Xe=p=>Qt(Qt.s=p);Xe(1321),Xe(1228)}]);